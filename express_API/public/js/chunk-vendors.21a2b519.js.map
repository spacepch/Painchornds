{"version":3,"file":"js/chunk-vendors.21a2b519.js","mappings":"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","sources":["webpack://ppshome/./node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js","webpack://ppshome/./node_modules/core-js/internals/a-callable.js","webpack://ppshome/./node_modules/core-js/internals/an-object.js","webpack://ppshome/./node_modules/core-js/internals/array-includes.js","webpack://ppshome/./node_modules/core-js/internals/array-set-length.js","webpack://ppshome/./node_modules/core-js/internals/classof-raw.js","webpack://ppshome/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://ppshome/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://ppshome/./node_modules/core-js/internals/create-property-descriptor.js","webpack://ppshome/./node_modules/core-js/internals/define-built-in.js","webpack://ppshome/./node_modules/core-js/internals/define-global-property.js","webpack://ppshome/./node_modules/core-js/internals/descriptors.js","webpack://ppshome/./node_modules/core-js/internals/document-all.js","webpack://ppshome/./node_modules/core-js/internals/document-create-element.js","webpack://ppshome/./node_modules/core-js/internals/does-not-exceed-safe-integer.js","webpack://ppshome/./node_modules/core-js/internals/engine-user-agent.js","webpack://ppshome/./node_modules/core-js/internals/engine-v8-version.js","webpack://ppshome/./node_modules/core-js/internals/enum-bug-keys.js","webpack://ppshome/./node_modules/core-js/internals/export.js","webpack://ppshome/./node_modules/core-js/internals/fails.js","webpack://ppshome/./node_modules/core-js/internals/function-bind-native.js","webpack://ppshome/./node_modules/core-js/internals/function-call.js","webpack://ppshome/./node_modules/core-js/internals/function-name.js","webpack://ppshome/./node_modules/core-js/internals/function-uncurry-this.js","webpack://ppshome/./node_modules/core-js/internals/get-built-in.js","webpack://ppshome/./node_modules/core-js/internals/get-method.js","webpack://ppshome/./node_modules/core-js/internals/global.js","webpack://ppshome/./node_modules/core-js/internals/has-own-property.js","webpack://ppshome/./node_modules/core-js/internals/hidden-keys.js","webpack://ppshome/./node_modules/core-js/internals/ie8-dom-define.js","webpack://ppshome/./node_modules/core-js/internals/indexed-object.js","webpack://ppshome/./node_modules/core-js/internals/inspect-source.js","webpack://ppshome/./node_modules/core-js/internals/internal-state.js","webpack://ppshome/./node_modules/core-js/internals/is-array.js","webpack://ppshome/./node_modules/core-js/internals/is-callable.js","webpack://ppshome/./node_modules/core-js/internals/is-forced.js","webpack://ppshome/./node_modules/core-js/internals/is-null-or-undefined.js","webpack://ppshome/./node_modules/core-js/internals/is-object.js","webpack://ppshome/./node_modules/core-js/internals/is-pure.js","webpack://ppshome/./node_modules/core-js/internals/is-symbol.js","webpack://ppshome/./node_modules/core-js/internals/length-of-array-like.js","webpack://ppshome/./node_modules/core-js/internals/make-built-in.js","webpack://ppshome/./node_modules/core-js/internals/math-trunc.js","webpack://ppshome/./node_modules/core-js/internals/object-define-property.js","webpack://ppshome/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://ppshome/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://ppshome/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://ppshome/./node_modules/core-js/internals/object-is-prototype-of.js","webpack://ppshome/./node_modules/core-js/internals/object-keys-internal.js","webpack://ppshome/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://ppshome/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://ppshome/./node_modules/core-js/internals/own-keys.js","webpack://ppshome/./node_modules/core-js/internals/require-object-coercible.js","webpack://ppshome/./node_modules/core-js/internals/shared-key.js","webpack://ppshome/./node_modules/core-js/internals/shared-store.js","webpack://ppshome/./node_modules/core-js/internals/shared.js","webpack://ppshome/./node_modules/core-js/internals/symbol-constructor-detection.js","webpack://ppshome/./node_modules/core-js/internals/to-absolute-index.js","webpack://ppshome/./node_modules/core-js/internals/to-indexed-object.js","webpack://ppshome/./node_modules/core-js/internals/to-integer-or-infinity.js","webpack://ppshome/./node_modules/core-js/internals/to-length.js","webpack://ppshome/./node_modules/core-js/internals/to-object.js","webpack://ppshome/./node_modules/core-js/internals/to-primitive.js","webpack://ppshome/./node_modules/core-js/internals/to-property-key.js","webpack://ppshome/./node_modules/core-js/internals/try-to-string.js","webpack://ppshome/./node_modules/core-js/internals/uid.js","webpack://ppshome/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://ppshome/./node_modules/core-js/internals/v8-prototype-define-bug.js","webpack://ppshome/./node_modules/core-js/internals/weak-map-basic-detection.js","webpack://ppshome/./node_modules/core-js/internals/well-known-symbol.js","webpack://ppshome/./node_modules/core-js/modules/es.array.push.js","webpack://ppshome/./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js","webpack://ppshome/./node_modules/less/dist/less.js","webpack://ppshome/./node_modules/vant/es/loading/index.js","webpack://ppshome/./node_modules/vant/es/utils/create/bem.js","webpack://ppshome/./node_modules/vant/es/utils/format/string.js","webpack://ppshome/./node_modules/vant/es/mixins/slots.js","webpack://ppshome/./node_modules/vant/es/utils/create/component.js","webpack://ppshome/./node_modules/vant/es/utils/deep-assign.js","webpack://ppshome/./node_modules/vant/es/locale/lang/zh-CN.js","webpack://ppshome/./node_modules/vant/es/locale/index.js","webpack://ppshome/./node_modules/vant/es/utils/create/i18n.js","webpack://ppshome/./node_modules/vant/es/utils/create/index.js","webpack://ppshome/./node_modules/vant/es/utils/validate/number.js","webpack://ppshome/./node_modules/vant/es/utils/format/unit.js","webpack://ppshome/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://ppshome/./node_modules/vant/es/utils/functional.js","webpack://ppshome/./node_modules/vant/es/utils/index.js"],"sourcesContent":["/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent(\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */,\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options =\n    typeof scriptExports === 'function' ? scriptExports.options : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) {\n    // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n          injectStyles.call(\n            this,\n            (options.functional ? this.parent : this).$root.$options.shadowRoot\n          )\n        }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","var isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a function');\n};\n","var isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw $TypeError($String(argument) + ' is not an object');\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var documentAll = typeof document == 'object' && document.all;\n\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nvar IS_HTMLDDA = typeof documentAll == 'undefined' && documentAll !== undefined;\n\nmodule.exports = {\n  all: documentAll,\n  IS_HTMLDDA: IS_HTMLDDA\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","module.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || this || Function('return this')();\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","module.exports = {};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) == 'Array';\n};\n","var $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = $documentAll.IS_HTMLDDA ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","var isCallable = require('../internals/is-callable');\nvar $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\nmodule.exports = $documentAll.IS_HTMLDDA ? function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it) || it === documentAll;\n} : function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","module.exports = false;\n","var getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\)/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","var call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw $TypeError(\"Can't convert object to primitive value\");\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","var isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.31.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2014-2023 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar $String = global.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","var call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = global.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar fails = require('../internals/fails');\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 and Safari <= 15.4, FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n","\"use strict\";function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}var normalMerge=[\"attrs\",\"props\",\"domProps\"],toArrayMerge=[\"class\",\"style\",\"directives\"],functionalMerge=[\"on\",\"nativeOn\"],mergeJsxProps=function(a){return a.reduce(function(c,a){for(var b in a)if(!c[b])c[b]=a[b];else if(-1!==normalMerge.indexOf(b))c[b]=_extends({},c[b],a[b]);else if(-1!==toArrayMerge.indexOf(b)){var d=c[b]instanceof Array?c[b]:[c[b]],e=a[b]instanceof Array?a[b]:[a[b]];c[b]=[].concat(d,e)}else if(-1!==functionalMerge.indexOf(b)){for(var f in a[b])if(c[b][f]){var g=c[b][f]instanceof Array?c[b][f]:[c[b][f]],h=a[b][f]instanceof Array?a[b][f]:[a[b][f]];c[b][f]=[].concat(g,h)}else c[b][f]=a[b][f];}else if(\"hook\"===b)for(var i in a[b])c[b][i]=c[b][i]?mergeFn(c[b][i],a[b][i]):a[b][i];else c[b]=a[b];return c},{})},mergeFn=function(a,b){return function(){a&&a.apply(this,arguments),b&&b.apply(this,arguments)}};module.exports=mergeJsxProps;\n","/**\n * Less - Leaner CSS v4.1.3\n * http://lesscss.org\n * \n * Copyright (c) 2009-2022, Alexis Sellier <self@cloudhead.net>\n * Licensed under the Apache-2.0 License.\n *\n * @license Apache-2.0\n */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.less = factory());\n}(this, (function () { 'use strict';\n\n    // Export a new default each time\r\n    function defaultOptions () {\r\n        return {\r\n            /* Inline Javascript - @plugin still allowed */\r\n            javascriptEnabled: false,\r\n            /* Outputs a makefile import dependency list to stdout. */\r\n            depends: false,\r\n            /* (DEPRECATED) Compress using less built-in compression.\r\n             * This does an okay job but does not utilise all the tricks of\r\n             * dedicated css compression. */\r\n            compress: false,\r\n            /* Runs the less parser and just reports errors without any output. */\r\n            lint: false,\r\n            /* Sets available include paths.\r\n             * If the file in an @import rule does not exist at that exact location,\r\n             * less will look for it at the location(s) passed to this option.\r\n             * You might use this for instance to specify a path to a library which\r\n             * you want to be referenced simply and relatively in the less files. */\r\n            paths: [],\r\n            /* color output in the terminal */\r\n            color: true,\r\n            /* The strictImports controls whether the compiler will allow an @import inside of either\r\n             * @media blocks or (a later addition) other selector blocks.\r\n             * See: https://github.com/less/less.js/issues/656 */\r\n            strictImports: false,\r\n            /* Allow Imports from Insecure HTTPS Hosts */\r\n            insecure: false,\r\n            /* Allows you to add a path to every generated import and url in your css.\r\n             * This does not affect less import statements that are processed, just ones\r\n             * that are left in the output css. */\r\n            rootpath: '',\r\n            /* By default URLs are kept as-is, so if you import a file in a sub-directory\r\n             * that references an image, exactly the same URL will be output in the css.\r\n             * This option allows you to re-write URL's in imported files so that the\r\n             * URL is always relative to the base imported file */\r\n            rewriteUrls: false,\r\n            /* How to process math\r\n             *   0 always           - eagerly try to solve all operations\r\n             *   1 parens-division  - require parens for division \"/\"\r\n             *   2 parens | strict  - require parens for all operations\r\n             *   3 strict-legacy    - legacy strict behavior (super-strict)\r\n             */\r\n            math: 1,\r\n            /* Without this option, less attempts to guess at the output unit when it does maths. */\r\n            strictUnits: false,\r\n            /* Effectively the declaration is put at the top of your base Less file,\r\n             * meaning it can be used but it also can be overridden if this variable\r\n             * is defined in the file. */\r\n            globalVars: null,\r\n            /* As opposed to the global variable option, this puts the declaration at the\r\n             * end of your base file, meaning it will override anything defined in your Less file. */\r\n            modifyVars: null,\r\n            /* This option allows you to specify a argument to go on to every URL.  */\r\n            urlArgs: ''\r\n        };\r\n    }\n\n    function extractId(href) {\r\n        return href.replace(/^[a-z-]+:\\/+?[^\\/]+/, '') // Remove protocol & domain\r\n            .replace(/[\\?\\&]livereload=\\w+/, '') // Remove LiveReload cachebuster\r\n            .replace(/^\\//, '') // Remove root /\r\n            .replace(/\\.[a-zA-Z]+$/, '') // Remove simple extension\r\n            .replace(/[^\\.\\w-]+/g, '-') // Replace illegal characters\r\n            .replace(/\\./g, ':'); // Replace dots with colons(for valid id)\r\n    }\r\n    function addDataAttr(options, tag) {\r\n        if (!tag) {\r\n            return;\r\n        } // in case of tag is null or undefined\r\n        for (var opt in tag.dataset) {\r\n            if (tag.dataset.hasOwnProperty(opt)) {\r\n                if (opt === 'env' || opt === 'dumpLineNumbers' || opt === 'rootpath' || opt === 'errorReporting') {\r\n                    options[opt] = tag.dataset[opt];\r\n                }\r\n                else {\r\n                    try {\r\n                        options[opt] = JSON.parse(tag.dataset[opt]);\r\n                    }\r\n                    catch (_) { }\r\n                }\r\n            }\r\n        }\r\n    }\n\n    var browser = {\r\n        createCSS: function (document, styles, sheet) {\r\n            // Strip the query-string\r\n            var href = sheet.href || '';\r\n            // If there is no title set, use the filename, minus the extension\r\n            var id = \"less:\" + (sheet.title || extractId(href));\r\n            // If this has already been inserted into the DOM, we may need to replace it\r\n            var oldStyleNode = document.getElementById(id);\r\n            var keepOldStyleNode = false;\r\n            // Create a new stylesheet node for insertion or (if necessary) replacement\r\n            var styleNode = document.createElement('style');\r\n            styleNode.setAttribute('type', 'text/css');\r\n            if (sheet.media) {\r\n                styleNode.setAttribute('media', sheet.media);\r\n            }\r\n            styleNode.id = id;\r\n            if (!styleNode.styleSheet) {\r\n                styleNode.appendChild(document.createTextNode(styles));\r\n                // If new contents match contents of oldStyleNode, don't replace oldStyleNode\r\n                keepOldStyleNode = (oldStyleNode !== null && oldStyleNode.childNodes.length > 0 && styleNode.childNodes.length > 0 &&\r\n                    oldStyleNode.firstChild.nodeValue === styleNode.firstChild.nodeValue);\r\n            }\r\n            var head = document.getElementsByTagName('head')[0];\r\n            // If there is no oldStyleNode, just append; otherwise, only append if we need\r\n            // to replace oldStyleNode with an updated stylesheet\r\n            if (oldStyleNode === null || keepOldStyleNode === false) {\r\n                var nextEl = sheet && sheet.nextSibling || null;\r\n                if (nextEl) {\r\n                    nextEl.parentNode.insertBefore(styleNode, nextEl);\r\n                }\r\n                else {\r\n                    head.appendChild(styleNode);\r\n                }\r\n            }\r\n            if (oldStyleNode && keepOldStyleNode === false) {\r\n                oldStyleNode.parentNode.removeChild(oldStyleNode);\r\n            }\r\n            // For IE.\r\n            // This needs to happen *after* the style element is added to the DOM, otherwise IE 7 and 8 may crash.\r\n            // See http://social.msdn.microsoft.com/Forums/en-US/7e081b65-878a-4c22-8e68-c10d39c2ed32/internet-explorer-crashes-appending-style-element-to-head\r\n            if (styleNode.styleSheet) {\r\n                try {\r\n                    styleNode.styleSheet.cssText = styles;\r\n                }\r\n                catch (e) {\r\n                    throw new Error('Couldn\\'t reassign styleSheet.cssText.');\r\n                }\r\n            }\r\n        },\r\n        currentScript: function (window) {\r\n            var document = window.document;\r\n            return document.currentScript || (function () {\r\n                var scripts = document.getElementsByTagName('script');\r\n                return scripts[scripts.length - 1];\r\n            })();\r\n        }\r\n    };\n\n    var addDefaultOptions = (function (window, options) {\r\n        // use options from the current script tag data attribues\r\n        addDataAttr(options, browser.currentScript(window));\r\n        if (options.isFileProtocol === undefined) {\r\n            options.isFileProtocol = /^(file|(chrome|safari)(-extension)?|resource|qrc|app):/.test(window.location.protocol);\r\n        }\r\n        // Load styles asynchronously (default: false)\r\n        //\r\n        // This is set to `false` by default, so that the body\r\n        // doesn't start loading before the stylesheets are parsed.\r\n        // Setting this to `true` can result in flickering.\r\n        //\r\n        options.async = options.async || false;\r\n        options.fileAsync = options.fileAsync || false;\r\n        // Interval between watch polls\r\n        options.poll = options.poll || (options.isFileProtocol ? 1000 : 1500);\r\n        options.env = options.env || (window.location.hostname == '127.0.0.1' ||\r\n            window.location.hostname == '0.0.0.0' ||\r\n            window.location.hostname == 'localhost' ||\r\n            (window.location.port &&\r\n                window.location.port.length > 0) ||\r\n            options.isFileProtocol ? 'development'\r\n            : 'production');\r\n        var dumpLineNumbers = /!dumpLineNumbers:(comments|mediaquery|all)/.exec(window.location.hash);\r\n        if (dumpLineNumbers) {\r\n            options.dumpLineNumbers = dumpLineNumbers[1];\r\n        }\r\n        if (options.useFileCache === undefined) {\r\n            options.useFileCache = true;\r\n        }\r\n        if (options.onReady === undefined) {\r\n            options.onReady = true;\r\n        }\r\n        if (options.relativeUrls) {\r\n            options.rewriteUrls = 'all';\r\n        }\r\n    });\n\n    var logger$1 = {\r\n        error: function (msg) {\r\n            this._fireEvent('error', msg);\r\n        },\r\n        warn: function (msg) {\r\n            this._fireEvent('warn', msg);\r\n        },\r\n        info: function (msg) {\r\n            this._fireEvent('info', msg);\r\n        },\r\n        debug: function (msg) {\r\n            this._fireEvent('debug', msg);\r\n        },\r\n        addListener: function (listener) {\r\n            this._listeners.push(listener);\r\n        },\r\n        removeListener: function (listener) {\r\n            for (var i = 0; i < this._listeners.length; i++) {\r\n                if (this._listeners[i] === listener) {\r\n                    this._listeners.splice(i, 1);\r\n                    return;\r\n                }\r\n            }\r\n        },\r\n        _fireEvent: function (type, msg) {\r\n            for (var i = 0; i < this._listeners.length; i++) {\r\n                var logFunction = this._listeners[i][type];\r\n                if (logFunction) {\r\n                    logFunction(msg);\r\n                }\r\n            }\r\n        },\r\n        _listeners: []\r\n    };\n\n    /**\r\n     * @todo Document why this abstraction exists, and the relationship between\r\n     *       environment, file managers, and plugin manager\r\n     */\r\n    var Environment = /** @class */ (function () {\r\n        function Environment(externalEnvironment, fileManagers) {\r\n            this.fileManagers = fileManagers || [];\r\n            externalEnvironment = externalEnvironment || {};\r\n            var optionalFunctions = ['encodeBase64', 'mimeLookup', 'charsetLookup', 'getSourceMapGenerator'];\r\n            var requiredFunctions = [];\r\n            var functions = requiredFunctions.concat(optionalFunctions);\r\n            for (var i = 0; i < functions.length; i++) {\r\n                var propName = functions[i];\r\n                var environmentFunc = externalEnvironment[propName];\r\n                if (environmentFunc) {\r\n                    this[propName] = environmentFunc.bind(externalEnvironment);\r\n                }\r\n                else if (i < requiredFunctions.length) {\r\n                    this.warn(\"missing required function in environment - \" + propName);\r\n                }\r\n            }\r\n        }\r\n        Environment.prototype.getFileManager = function (filename, currentDirectory, options, environment, isSync) {\r\n            if (!filename) {\r\n                logger$1.warn('getFileManager called with no filename.. Please report this issue. continuing.');\r\n            }\r\n            if (currentDirectory == null) {\r\n                logger$1.warn('getFileManager called with null directory.. Please report this issue. continuing.');\r\n            }\r\n            var fileManagers = this.fileManagers;\r\n            if (options.pluginManager) {\r\n                fileManagers = [].concat(fileManagers).concat(options.pluginManager.getFileManagers());\r\n            }\r\n            for (var i = fileManagers.length - 1; i >= 0; i--) {\r\n                var fileManager = fileManagers[i];\r\n                if (fileManager[isSync ? 'supportsSync' : 'supports'](filename, currentDirectory, options, environment)) {\r\n                    return fileManager;\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n        Environment.prototype.addFileManager = function (fileManager) {\r\n            this.fileManagers.push(fileManager);\r\n        };\r\n        Environment.prototype.clearFileManagers = function () {\r\n            this.fileManagers = [];\r\n        };\r\n        return Environment;\r\n    }());\n\n    var colors = {\r\n        'aliceblue': '#f0f8ff',\r\n        'antiquewhite': '#faebd7',\r\n        'aqua': '#00ffff',\r\n        'aquamarine': '#7fffd4',\r\n        'azure': '#f0ffff',\r\n        'beige': '#f5f5dc',\r\n        'bisque': '#ffe4c4',\r\n        'black': '#000000',\r\n        'blanchedalmond': '#ffebcd',\r\n        'blue': '#0000ff',\r\n        'blueviolet': '#8a2be2',\r\n        'brown': '#a52a2a',\r\n        'burlywood': '#deb887',\r\n        'cadetblue': '#5f9ea0',\r\n        'chartreuse': '#7fff00',\r\n        'chocolate': '#d2691e',\r\n        'coral': '#ff7f50',\r\n        'cornflowerblue': '#6495ed',\r\n        'cornsilk': '#fff8dc',\r\n        'crimson': '#dc143c',\r\n        'cyan': '#00ffff',\r\n        'darkblue': '#00008b',\r\n        'darkcyan': '#008b8b',\r\n        'darkgoldenrod': '#b8860b',\r\n        'darkgray': '#a9a9a9',\r\n        'darkgrey': '#a9a9a9',\r\n        'darkgreen': '#006400',\r\n        'darkkhaki': '#bdb76b',\r\n        'darkmagenta': '#8b008b',\r\n        'darkolivegreen': '#556b2f',\r\n        'darkorange': '#ff8c00',\r\n        'darkorchid': '#9932cc',\r\n        'darkred': '#8b0000',\r\n        'darksalmon': '#e9967a',\r\n        'darkseagreen': '#8fbc8f',\r\n        'darkslateblue': '#483d8b',\r\n        'darkslategray': '#2f4f4f',\r\n        'darkslategrey': '#2f4f4f',\r\n        'darkturquoise': '#00ced1',\r\n        'darkviolet': '#9400d3',\r\n        'deeppink': '#ff1493',\r\n        'deepskyblue': '#00bfff',\r\n        'dimgray': '#696969',\r\n        'dimgrey': '#696969',\r\n        'dodgerblue': '#1e90ff',\r\n        'firebrick': '#b22222',\r\n        'floralwhite': '#fffaf0',\r\n        'forestgreen': '#228b22',\r\n        'fuchsia': '#ff00ff',\r\n        'gainsboro': '#dcdcdc',\r\n        'ghostwhite': '#f8f8ff',\r\n        'gold': '#ffd700',\r\n        'goldenrod': '#daa520',\r\n        'gray': '#808080',\r\n        'grey': '#808080',\r\n        'green': '#008000',\r\n        'greenyellow': '#adff2f',\r\n        'honeydew': '#f0fff0',\r\n        'hotpink': '#ff69b4',\r\n        'indianred': '#cd5c5c',\r\n        'indigo': '#4b0082',\r\n        'ivory': '#fffff0',\r\n        'khaki': '#f0e68c',\r\n        'lavender': '#e6e6fa',\r\n        'lavenderblush': '#fff0f5',\r\n        'lawngreen': '#7cfc00',\r\n        'lemonchiffon': '#fffacd',\r\n        'lightblue': '#add8e6',\r\n        'lightcoral': '#f08080',\r\n        'lightcyan': '#e0ffff',\r\n        'lightgoldenrodyellow': '#fafad2',\r\n        'lightgray': '#d3d3d3',\r\n        'lightgrey': '#d3d3d3',\r\n        'lightgreen': '#90ee90',\r\n        'lightpink': '#ffb6c1',\r\n        'lightsalmon': '#ffa07a',\r\n        'lightseagreen': '#20b2aa',\r\n        'lightskyblue': '#87cefa',\r\n        'lightslategray': '#778899',\r\n        'lightslategrey': '#778899',\r\n        'lightsteelblue': '#b0c4de',\r\n        'lightyellow': '#ffffe0',\r\n        'lime': '#00ff00',\r\n        'limegreen': '#32cd32',\r\n        'linen': '#faf0e6',\r\n        'magenta': '#ff00ff',\r\n        'maroon': '#800000',\r\n        'mediumaquamarine': '#66cdaa',\r\n        'mediumblue': '#0000cd',\r\n        'mediumorchid': '#ba55d3',\r\n        'mediumpurple': '#9370d8',\r\n        'mediumseagreen': '#3cb371',\r\n        'mediumslateblue': '#7b68ee',\r\n        'mediumspringgreen': '#00fa9a',\r\n        'mediumturquoise': '#48d1cc',\r\n        'mediumvioletred': '#c71585',\r\n        'midnightblue': '#191970',\r\n        'mintcream': '#f5fffa',\r\n        'mistyrose': '#ffe4e1',\r\n        'moccasin': '#ffe4b5',\r\n        'navajowhite': '#ffdead',\r\n        'navy': '#000080',\r\n        'oldlace': '#fdf5e6',\r\n        'olive': '#808000',\r\n        'olivedrab': '#6b8e23',\r\n        'orange': '#ffa500',\r\n        'orangered': '#ff4500',\r\n        'orchid': '#da70d6',\r\n        'palegoldenrod': '#eee8aa',\r\n        'palegreen': '#98fb98',\r\n        'paleturquoise': '#afeeee',\r\n        'palevioletred': '#d87093',\r\n        'papayawhip': '#ffefd5',\r\n        'peachpuff': '#ffdab9',\r\n        'peru': '#cd853f',\r\n        'pink': '#ffc0cb',\r\n        'plum': '#dda0dd',\r\n        'powderblue': '#b0e0e6',\r\n        'purple': '#800080',\r\n        'rebeccapurple': '#663399',\r\n        'red': '#ff0000',\r\n        'rosybrown': '#bc8f8f',\r\n        'royalblue': '#4169e1',\r\n        'saddlebrown': '#8b4513',\r\n        'salmon': '#fa8072',\r\n        'sandybrown': '#f4a460',\r\n        'seagreen': '#2e8b57',\r\n        'seashell': '#fff5ee',\r\n        'sienna': '#a0522d',\r\n        'silver': '#c0c0c0',\r\n        'skyblue': '#87ceeb',\r\n        'slateblue': '#6a5acd',\r\n        'slategray': '#708090',\r\n        'slategrey': '#708090',\r\n        'snow': '#fffafa',\r\n        'springgreen': '#00ff7f',\r\n        'steelblue': '#4682b4',\r\n        'tan': '#d2b48c',\r\n        'teal': '#008080',\r\n        'thistle': '#d8bfd8',\r\n        'tomato': '#ff6347',\r\n        'turquoise': '#40e0d0',\r\n        'violet': '#ee82ee',\r\n        'wheat': '#f5deb3',\r\n        'white': '#ffffff',\r\n        'whitesmoke': '#f5f5f5',\r\n        'yellow': '#ffff00',\r\n        'yellowgreen': '#9acd32'\r\n    };\n\n    var unitConversions = {\r\n        length: {\r\n            'm': 1,\r\n            'cm': 0.01,\r\n            'mm': 0.001,\r\n            'in': 0.0254,\r\n            'px': 0.0254 / 96,\r\n            'pt': 0.0254 / 72,\r\n            'pc': 0.0254 / 72 * 12\r\n        },\r\n        duration: {\r\n            's': 1,\r\n            'ms': 0.001\r\n        },\r\n        angle: {\r\n            'rad': 1 / (2 * Math.PI),\r\n            'deg': 1 / 360,\r\n            'grad': 1 / 400,\r\n            'turn': 1\r\n        }\r\n    };\n\n    var data = { colors: colors, unitConversions: unitConversions };\n\n    /**\r\n     * The reason why Node is a class and other nodes simply do not extend\r\n     * from Node (since we're transpiling) is due to this issue:\r\n     *\r\n     * https://github.com/less/less.js/issues/3434\r\n     */\r\n    var Node = /** @class */ (function () {\r\n        function Node() {\r\n            this.parent = null;\r\n            this.visibilityBlocks = undefined;\r\n            this.nodeVisible = undefined;\r\n            this.rootNode = null;\r\n            this.parsed = null;\r\n        }\r\n        Object.defineProperty(Node.prototype, \"currentFileInfo\", {\r\n            get: function () {\r\n                return this.fileInfo();\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Node.prototype, \"index\", {\r\n            get: function () {\r\n                return this.getIndex();\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Node.prototype.setParent = function (nodes, parent) {\r\n            function set(node) {\r\n                if (node && node instanceof Node) {\r\n                    node.parent = parent;\r\n                }\r\n            }\r\n            if (Array.isArray(nodes)) {\r\n                nodes.forEach(set);\r\n            }\r\n            else {\r\n                set(nodes);\r\n            }\r\n        };\r\n        Node.prototype.getIndex = function () {\r\n            return this._index || (this.parent && this.parent.getIndex()) || 0;\r\n        };\r\n        Node.prototype.fileInfo = function () {\r\n            return this._fileInfo || (this.parent && this.parent.fileInfo()) || {};\r\n        };\r\n        Node.prototype.isRulesetLike = function () { return false; };\r\n        Node.prototype.toCSS = function (context) {\r\n            var strs = [];\r\n            this.genCSS(context, {\r\n                add: function (chunk, fileInfo, index) {\r\n                    strs.push(chunk);\r\n                },\r\n                isEmpty: function () {\r\n                    return strs.length === 0;\r\n                }\r\n            });\r\n            return strs.join('');\r\n        };\r\n        Node.prototype.genCSS = function (context, output) {\r\n            output.add(this.value);\r\n        };\r\n        Node.prototype.accept = function (visitor) {\r\n            this.value = visitor.visit(this.value);\r\n        };\r\n        Node.prototype.eval = function () { return this; };\r\n        Node.prototype._operate = function (context, op, a, b) {\r\n            switch (op) {\r\n                case '+': return a + b;\r\n                case '-': return a - b;\r\n                case '*': return a * b;\r\n                case '/': return a / b;\r\n            }\r\n        };\r\n        Node.prototype.fround = function (context, value) {\r\n            var precision = context && context.numPrecision;\r\n            // add \"epsilon\" to ensure numbers like 1.000000005 (represented as 1.000000004999...) are properly rounded:\r\n            return (precision) ? Number((value + 2e-16).toFixed(precision)) : value;\r\n        };\r\n        Node.compare = function (a, b) {\r\n            /* returns:\r\n             -1: a < b\r\n             0: a = b\r\n             1: a > b\r\n             and *any* other value for a != b (e.g. undefined, NaN, -2 etc.) */\r\n            if ((a.compare) &&\r\n                // for \"symmetric results\" force toCSS-based comparison\r\n                // of Quoted or Anonymous if either value is one of those\r\n                !(b.type === 'Quoted' || b.type === 'Anonymous')) {\r\n                return a.compare(b);\r\n            }\r\n            else if (b.compare) {\r\n                return -b.compare(a);\r\n            }\r\n            else if (a.type !== b.type) {\r\n                return undefined;\r\n            }\r\n            a = a.value;\r\n            b = b.value;\r\n            if (!Array.isArray(a)) {\r\n                return a === b ? 0 : undefined;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return undefined;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (Node.compare(a[i], b[i]) !== 0) {\r\n                    return undefined;\r\n                }\r\n            }\r\n            return 0;\r\n        };\r\n        Node.numericCompare = function (a, b) {\r\n            return a < b ? -1\r\n                : a === b ? 0\r\n                    : a > b ? 1 : undefined;\r\n        };\r\n        // Returns true if this node represents root of ast imported by reference\r\n        Node.prototype.blocksVisibility = function () {\r\n            if (this.visibilityBlocks == null) {\r\n                this.visibilityBlocks = 0;\r\n            }\r\n            return this.visibilityBlocks !== 0;\r\n        };\r\n        Node.prototype.addVisibilityBlock = function () {\r\n            if (this.visibilityBlocks == null) {\r\n                this.visibilityBlocks = 0;\r\n            }\r\n            this.visibilityBlocks = this.visibilityBlocks + 1;\r\n        };\r\n        Node.prototype.removeVisibilityBlock = function () {\r\n            if (this.visibilityBlocks == null) {\r\n                this.visibilityBlocks = 0;\r\n            }\r\n            this.visibilityBlocks = this.visibilityBlocks - 1;\r\n        };\r\n        // Turns on node visibility - if called node will be shown in output regardless\r\n        // of whether it comes from import by reference or not\r\n        Node.prototype.ensureVisibility = function () {\r\n            this.nodeVisible = true;\r\n        };\r\n        // Turns off node visibility - if called node will NOT be shown in output regardless\r\n        // of whether it comes from import by reference or not\r\n        Node.prototype.ensureInvisibility = function () {\r\n            this.nodeVisible = false;\r\n        };\r\n        // return values:\r\n        // false - the node must not be visible\r\n        // true - the node must be visible\r\n        // undefined or null - the node has the same visibility as its parent\r\n        Node.prototype.isVisible = function () {\r\n            return this.nodeVisible;\r\n        };\r\n        Node.prototype.visibilityInfo = function () {\r\n            return {\r\n                visibilityBlocks: this.visibilityBlocks,\r\n                nodeVisible: this.nodeVisible\r\n            };\r\n        };\r\n        Node.prototype.copyVisibilityInfo = function (info) {\r\n            if (!info) {\r\n                return;\r\n            }\r\n            this.visibilityBlocks = info.visibilityBlocks;\r\n            this.nodeVisible = info.nodeVisible;\r\n        };\r\n        return Node;\r\n    }());\n\n    //\r\n    // RGB Colors - #ff0014, #eee\r\n    //\r\n    var Color = function (rgb, a, originalForm) {\r\n        var self = this;\r\n        //\r\n        // The end goal here, is to parse the arguments\r\n        // into an integer triplet, such as `128, 255, 0`\r\n        //\r\n        // This facilitates operations and conversions.\r\n        //\r\n        if (Array.isArray(rgb)) {\r\n            this.rgb = rgb;\r\n        }\r\n        else if (rgb.length >= 6) {\r\n            this.rgb = [];\r\n            rgb.match(/.{2}/g).map(function (c, i) {\r\n                if (i < 3) {\r\n                    self.rgb.push(parseInt(c, 16));\r\n                }\r\n                else {\r\n                    self.alpha = (parseInt(c, 16)) / 255;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            this.rgb = [];\r\n            rgb.split('').map(function (c, i) {\r\n                if (i < 3) {\r\n                    self.rgb.push(parseInt(c + c, 16));\r\n                }\r\n                else {\r\n                    self.alpha = (parseInt(c + c, 16)) / 255;\r\n                }\r\n            });\r\n        }\r\n        this.alpha = this.alpha || (typeof a === 'number' ? a : 1);\r\n        if (typeof originalForm !== 'undefined') {\r\n            this.value = originalForm;\r\n        }\r\n    };\r\n    Color.prototype = Object.assign(new Node(), {\r\n        type: 'Color',\r\n        luma: function () {\r\n            var r = this.rgb[0] / 255, g = this.rgb[1] / 255, b = this.rgb[2] / 255;\r\n            r = (r <= 0.03928) ? r / 12.92 : Math.pow(((r + 0.055) / 1.055), 2.4);\r\n            g = (g <= 0.03928) ? g / 12.92 : Math.pow(((g + 0.055) / 1.055), 2.4);\r\n            b = (b <= 0.03928) ? b / 12.92 : Math.pow(((b + 0.055) / 1.055), 2.4);\r\n            return 0.2126 * r + 0.7152 * g + 0.0722 * b;\r\n        },\r\n        genCSS: function (context, output) {\r\n            output.add(this.toCSS(context));\r\n        },\r\n        toCSS: function (context, doNotCompress) {\r\n            var compress = context && context.compress && !doNotCompress;\r\n            var color;\r\n            var alpha;\r\n            var colorFunction;\r\n            var args = [];\r\n            // `value` is set if this color was originally\r\n            // converted from a named color string so we need\r\n            // to respect this and try to output named color too.\r\n            alpha = this.fround(context, this.alpha);\r\n            if (this.value) {\r\n                if (this.value.indexOf('rgb') === 0) {\r\n                    if (alpha < 1) {\r\n                        colorFunction = 'rgba';\r\n                    }\r\n                }\r\n                else if (this.value.indexOf('hsl') === 0) {\r\n                    if (alpha < 1) {\r\n                        colorFunction = 'hsla';\r\n                    }\r\n                    else {\r\n                        colorFunction = 'hsl';\r\n                    }\r\n                }\r\n                else {\r\n                    return this.value;\r\n                }\r\n            }\r\n            else {\r\n                if (alpha < 1) {\r\n                    colorFunction = 'rgba';\r\n                }\r\n            }\r\n            switch (colorFunction) {\r\n                case 'rgba':\r\n                    args = this.rgb.map(function (c) {\r\n                        return clamp$1(Math.round(c), 255);\r\n                    }).concat(clamp$1(alpha, 1));\r\n                    break;\r\n                case 'hsla':\r\n                    args.push(clamp$1(alpha, 1));\r\n                case 'hsl':\r\n                    color = this.toHSL();\r\n                    args = [\r\n                        this.fround(context, color.h),\r\n                        this.fround(context, color.s * 100) + \"%\",\r\n                        this.fround(context, color.l * 100) + \"%\"\r\n                    ].concat(args);\r\n            }\r\n            if (colorFunction) {\r\n                // Values are capped between `0` and `255`, rounded and zero-padded.\r\n                return colorFunction + \"(\" + args.join(\",\" + (compress ? '' : ' ')) + \")\";\r\n            }\r\n            color = this.toRGB();\r\n            if (compress) {\r\n                var splitcolor = color.split('');\r\n                // Convert color to short format\r\n                if (splitcolor[1] === splitcolor[2] && splitcolor[3] === splitcolor[4] && splitcolor[5] === splitcolor[6]) {\r\n                    color = \"#\" + splitcolor[1] + splitcolor[3] + splitcolor[5];\r\n                }\r\n            }\r\n            return color;\r\n        },\r\n        //\r\n        // Operations have to be done per-channel, if not,\r\n        // channels will spill onto each other. Once we have\r\n        // our result, in the form of an integer triplet,\r\n        // we create a new Color node to hold the result.\r\n        //\r\n        operate: function (context, op, other) {\r\n            var rgb = new Array(3);\r\n            var alpha = this.alpha * (1 - other.alpha) + other.alpha;\r\n            for (var c = 0; c < 3; c++) {\r\n                rgb[c] = this._operate(context, op, this.rgb[c], other.rgb[c]);\r\n            }\r\n            return new Color(rgb, alpha);\r\n        },\r\n        toRGB: function () {\r\n            return toHex(this.rgb);\r\n        },\r\n        toHSL: function () {\r\n            var r = this.rgb[0] / 255, g = this.rgb[1] / 255, b = this.rgb[2] / 255, a = this.alpha;\r\n            var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n            var h;\r\n            var s;\r\n            var l = (max + min) / 2;\r\n            var d = max - min;\r\n            if (max === min) {\r\n                h = s = 0;\r\n            }\r\n            else {\r\n                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n                switch (max) {\r\n                    case r:\r\n                        h = (g - b) / d + (g < b ? 6 : 0);\r\n                        break;\r\n                    case g:\r\n                        h = (b - r) / d + 2;\r\n                        break;\r\n                    case b:\r\n                        h = (r - g) / d + 4;\r\n                        break;\r\n                }\r\n                h /= 6;\r\n            }\r\n            return { h: h * 360, s: s, l: l, a: a };\r\n        },\r\n        // Adapted from http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript\r\n        toHSV: function () {\r\n            var r = this.rgb[0] / 255, g = this.rgb[1] / 255, b = this.rgb[2] / 255, a = this.alpha;\r\n            var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n            var h;\r\n            var s;\r\n            var v = max;\r\n            var d = max - min;\r\n            if (max === 0) {\r\n                s = 0;\r\n            }\r\n            else {\r\n                s = d / max;\r\n            }\r\n            if (max === min) {\r\n                h = 0;\r\n            }\r\n            else {\r\n                switch (max) {\r\n                    case r:\r\n                        h = (g - b) / d + (g < b ? 6 : 0);\r\n                        break;\r\n                    case g:\r\n                        h = (b - r) / d + 2;\r\n                        break;\r\n                    case b:\r\n                        h = (r - g) / d + 4;\r\n                        break;\r\n                }\r\n                h /= 6;\r\n            }\r\n            return { h: h * 360, s: s, v: v, a: a };\r\n        },\r\n        toARGB: function () {\r\n            return toHex([this.alpha * 255].concat(this.rgb));\r\n        },\r\n        compare: function (x) {\r\n            return (x.rgb &&\r\n                x.rgb[0] === this.rgb[0] &&\r\n                x.rgb[1] === this.rgb[1] &&\r\n                x.rgb[2] === this.rgb[2] &&\r\n                x.alpha === this.alpha) ? 0 : undefined;\r\n        }\r\n    });\r\n    Color.fromKeyword = function (keyword) {\r\n        var c;\r\n        var key = keyword.toLowerCase();\r\n        if (colors.hasOwnProperty(key)) {\r\n            c = new Color(colors[key].slice(1));\r\n        }\r\n        else if (key === 'transparent') {\r\n            c = new Color([0, 0, 0], 0);\r\n        }\r\n        if (c) {\r\n            c.value = keyword;\r\n            return c;\r\n        }\r\n    };\r\n    function clamp$1(v, max) {\r\n        return Math.min(Math.max(v, 0), max);\r\n    }\r\n    function toHex(v) {\r\n        return \"#\" + v.map(function (c) {\r\n            c = clamp$1(Math.round(c), 255);\r\n            return (c < 16 ? '0' : '') + c.toString(16);\r\n        }).join('');\r\n    }\n\n    var Paren = function (node) {\r\n        this.value = node;\r\n    };\r\n    Paren.prototype = Object.assign(new Node(), {\r\n        type: 'Paren',\r\n        genCSS: function (context, output) {\r\n            output.add('(');\r\n            this.value.genCSS(context, output);\r\n            output.add(')');\r\n        },\r\n        eval: function (context) {\r\n            return new Paren(this.value.eval(context));\r\n        }\r\n    });\n\n    var _noSpaceCombinators = {\r\n        '': true,\r\n        ' ': true,\r\n        '|': true\r\n    };\r\n    var Combinator = function (value) {\r\n        if (value === ' ') {\r\n            this.value = ' ';\r\n            this.emptyOrWhitespace = true;\r\n        }\r\n        else {\r\n            this.value = value ? value.trim() : '';\r\n            this.emptyOrWhitespace = this.value === '';\r\n        }\r\n    };\r\n    Combinator.prototype = Object.assign(new Node(), {\r\n        type: 'Combinator',\r\n        genCSS: function (context, output) {\r\n            var spaceOrEmpty = (context.compress || _noSpaceCombinators[this.value]) ? '' : ' ';\r\n            output.add(spaceOrEmpty + this.value + spaceOrEmpty);\r\n        }\r\n    });\n\n    var Element = function (combinator, value, isVariable, index, currentFileInfo, visibilityInfo) {\r\n        this.combinator = combinator instanceof Combinator ?\r\n            combinator : new Combinator(combinator);\r\n        if (typeof value === 'string') {\r\n            this.value = value.trim();\r\n        }\r\n        else if (value) {\r\n            this.value = value;\r\n        }\r\n        else {\r\n            this.value = '';\r\n        }\r\n        this.isVariable = isVariable;\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n        this.copyVisibilityInfo(visibilityInfo);\r\n        this.setParent(this.combinator, this);\r\n    };\r\n    Element.prototype = Object.assign(new Node(), {\r\n        type: 'Element',\r\n        accept: function (visitor) {\r\n            var value = this.value;\r\n            this.combinator = visitor.visit(this.combinator);\r\n            if (typeof value === 'object') {\r\n                this.value = visitor.visit(value);\r\n            }\r\n        },\r\n        eval: function (context) {\r\n            return new Element(this.combinator, this.value.eval ? this.value.eval(context) : this.value, this.isVariable, this.getIndex(), this.fileInfo(), this.visibilityInfo());\r\n        },\r\n        clone: function () {\r\n            return new Element(this.combinator, this.value, this.isVariable, this.getIndex(), this.fileInfo(), this.visibilityInfo());\r\n        },\r\n        genCSS: function (context, output) {\r\n            output.add(this.toCSS(context), this.fileInfo(), this.getIndex());\r\n        },\r\n        toCSS: function (context) {\r\n            context = context || {};\r\n            var value = this.value;\r\n            var firstSelector = context.firstSelector;\r\n            if (value instanceof Paren) {\r\n                // selector in parens should not be affected by outer selector\r\n                // flags (breaks only interpolated selectors - see #1973)\r\n                context.firstSelector = true;\r\n            }\r\n            value = value.toCSS ? value.toCSS(context) : value;\r\n            context.firstSelector = firstSelector;\r\n            if (value === '' && this.combinator.value.charAt(0) === '&') {\r\n                return '';\r\n            }\r\n            else {\r\n                return this.combinator.toCSS(context) + value;\r\n            }\r\n        }\r\n    });\n\n    var Math$1 = {\r\n        ALWAYS: 0,\r\n        PARENS_DIVISION: 1,\r\n        PARENS: 2\r\n        // removed - STRICT_LEGACY: 3\r\n    };\r\n    var RewriteUrls = {\r\n        OFF: 0,\r\n        LOCAL: 1,\r\n        ALL: 2\r\n    };\n\n    /**\r\n     * Returns the object type of the given payload\r\n     *\r\n     * @param {*} payload\r\n     * @returns {string}\r\n     */\r\n    function getType(payload) {\r\n        return Object.prototype.toString.call(payload).slice(8, -1);\r\n    }\r\n    /**\r\n     * Returns whether the payload is a plain JavaScript object (excluding special classes or objects with other prototypes)\r\n     *\r\n     * @param {*} payload\r\n     * @returns {payload is Record<string, any>}\r\n     */\r\n    function isPlainObject(payload) {\r\n        if (getType(payload) !== 'Object')\r\n            return false;\r\n        return payload.constructor === Object && Object.getPrototypeOf(payload) === Object.prototype;\r\n    }\r\n    /**\r\n     * Returns whether the payload is an array\r\n     *\r\n     * @param {any} payload\r\n     * @returns {payload is any[]}\r\n     */\r\n    function isArray(payload) {\r\n        return getType(payload) === 'Array';\r\n    }\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n\r\n    function __spreadArrays() {\r\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n                r[k] = a[j];\r\n        return r;\r\n    }\n\n    function assignProp(carry, key, newVal, originalObject, includeNonenumerable) {\r\n        var propType = {}.propertyIsEnumerable.call(originalObject, key)\r\n            ? 'enumerable'\r\n            : 'nonenumerable';\r\n        if (propType === 'enumerable')\r\n            carry[key] = newVal;\r\n        if (includeNonenumerable && propType === 'nonenumerable') {\r\n            Object.defineProperty(carry, key, {\r\n                value: newVal,\r\n                enumerable: false,\r\n                writable: true,\r\n                configurable: true,\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Copy (clone) an object and all its props recursively to get rid of any prop referenced of the original object. Arrays are also cloned, however objects inside arrays are still linked.\r\n     *\r\n     * @export\r\n     * @template T\r\n     * @param {T} target Target can be anything\r\n     * @param {Options} [options={}] Options can be `props` or `nonenumerable`\r\n     * @returns {T} the target with replaced values\r\n     * @export\r\n     */\r\n    function copy(target, options) {\r\n        if (options === void 0) { options = {}; }\r\n        if (isArray(target))\r\n            return target.map(function (i) { return copy(i, options); });\r\n        if (!isPlainObject(target))\r\n            return target;\r\n        var props = Object.getOwnPropertyNames(target);\r\n        var symbols = Object.getOwnPropertySymbols(target);\r\n        return __spreadArrays(props, symbols).reduce(function (carry, key) {\r\n            if (isArray(options.props) && !options.props.includes(key)) {\r\n                return carry;\r\n            }\r\n            var val = target[key];\r\n            var newVal = copy(val, options);\r\n            assignProp(carry, key, newVal, target, options.nonenumerable);\r\n            return carry;\r\n        }, {});\r\n    }\n\n    /* jshint proto: true */\r\n    function getLocation(index, inputStream) {\r\n        var n = index + 1;\r\n        var line = null;\r\n        var column = -1;\r\n        while (--n >= 0 && inputStream.charAt(n) !== '\\n') {\r\n            column++;\r\n        }\r\n        if (typeof index === 'number') {\r\n            line = (inputStream.slice(0, index).match(/\\n/g) || '').length;\r\n        }\r\n        return {\r\n            line: line,\r\n            column: column\r\n        };\r\n    }\r\n    function copyArray(arr) {\r\n        var i;\r\n        var length = arr.length;\r\n        var copy = new Array(length);\r\n        for (i = 0; i < length; i++) {\r\n            copy[i] = arr[i];\r\n        }\r\n        return copy;\r\n    }\r\n    function clone(obj) {\r\n        var cloned = {};\r\n        for (var prop in obj) {\r\n            if (obj.hasOwnProperty(prop)) {\r\n                cloned[prop] = obj[prop];\r\n            }\r\n        }\r\n        return cloned;\r\n    }\r\n    function defaults(obj1, obj2) {\r\n        var newObj = obj2 || {};\r\n        if (!obj2._defaults) {\r\n            newObj = {};\r\n            var defaults_1 = copy(obj1);\r\n            newObj._defaults = defaults_1;\r\n            var cloned = obj2 ? copy(obj2) : {};\r\n            Object.assign(newObj, defaults_1, cloned);\r\n        }\r\n        return newObj;\r\n    }\r\n    function copyOptions(obj1, obj2) {\r\n        if (obj2 && obj2._defaults) {\r\n            return obj2;\r\n        }\r\n        var opts = defaults(obj1, obj2);\r\n        if (opts.strictMath) {\r\n            opts.math = Math$1.PARENS;\r\n        }\r\n        // Back compat with changed relativeUrls option\r\n        if (opts.relativeUrls) {\r\n            opts.rewriteUrls = RewriteUrls.ALL;\r\n        }\r\n        if (typeof opts.math === 'string') {\r\n            switch (opts.math.toLowerCase()) {\r\n                case 'always':\r\n                    opts.math = Math$1.ALWAYS;\r\n                    break;\r\n                case 'parens-division':\r\n                    opts.math = Math$1.PARENS_DIVISION;\r\n                    break;\r\n                case 'strict':\r\n                case 'parens':\r\n                    opts.math = Math$1.PARENS;\r\n                    break;\r\n                default:\r\n                    opts.math = Math$1.PARENS;\r\n            }\r\n        }\r\n        if (typeof opts.rewriteUrls === 'string') {\r\n            switch (opts.rewriteUrls.toLowerCase()) {\r\n                case 'off':\r\n                    opts.rewriteUrls = RewriteUrls.OFF;\r\n                    break;\r\n                case 'local':\r\n                    opts.rewriteUrls = RewriteUrls.LOCAL;\r\n                    break;\r\n                case 'all':\r\n                    opts.rewriteUrls = RewriteUrls.ALL;\r\n                    break;\r\n            }\r\n        }\r\n        return opts;\r\n    }\r\n    function merge(obj1, obj2) {\r\n        for (var prop in obj2) {\r\n            if (obj2.hasOwnProperty(prop)) {\r\n                obj1[prop] = obj2[prop];\r\n            }\r\n        }\r\n        return obj1;\r\n    }\r\n    function flattenArray(arr, result) {\r\n        if (result === void 0) { result = []; }\r\n        for (var i = 0, length_1 = arr.length; i < length_1; i++) {\r\n            var value = arr[i];\r\n            if (Array.isArray(value)) {\r\n                flattenArray(value, result);\r\n            }\r\n            else {\r\n                if (value !== undefined) {\r\n                    result.push(value);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\n\n    var utils = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getLocation: getLocation,\n        copyArray: copyArray,\n        clone: clone,\n        defaults: defaults,\n        copyOptions: copyOptions,\n        merge: merge,\n        flattenArray: flattenArray\n    });\n\n    var anonymousFunc = /(<anonymous>|Function):(\\d+):(\\d+)/;\r\n    /**\r\n     * This is a centralized class of any error that could be thrown internally (mostly by the parser).\r\n     * Besides standard .message it keeps some additional data like a path to the file where the error\r\n     * occurred along with line and column numbers.\r\n     *\r\n     * @class\r\n     * @extends Error\r\n     * @type {module.LessError}\r\n     *\r\n     * @prop {string} type\r\n     * @prop {string} filename\r\n     * @prop {number} index\r\n     * @prop {number} line\r\n     * @prop {number} column\r\n     * @prop {number} callLine\r\n     * @prop {number} callExtract\r\n     * @prop {string[]} extract\r\n     *\r\n     * @param {Object} e              - An error object to wrap around or just a descriptive object\r\n     * @param {Object} fileContentMap - An object with file contents in 'contents' property (like importManager) @todo - move to fileManager?\r\n     * @param {string} [currentFilename]\r\n     */\r\n    var LessError = function (e, fileContentMap, currentFilename) {\r\n        Error.call(this);\r\n        var filename = e.filename || currentFilename;\r\n        this.message = e.message;\r\n        this.stack = e.stack;\r\n        if (fileContentMap && filename) {\r\n            var input = fileContentMap.contents[filename];\r\n            var loc = getLocation(e.index, input);\r\n            var line = loc.line;\r\n            var col = loc.column;\r\n            var callLine = e.call && getLocation(e.call, input).line;\r\n            var lines = input ? input.split('\\n') : '';\r\n            this.type = e.type || 'Syntax';\r\n            this.filename = filename;\r\n            this.index = e.index;\r\n            this.line = typeof line === 'number' ? line + 1 : null;\r\n            this.column = col;\r\n            if (!this.line && this.stack) {\r\n                var found = this.stack.match(anonymousFunc);\r\n                /**\r\n                 * We have to figure out how this environment stringifies anonymous functions\r\n                 * so we can correctly map plugin errors.\r\n                 *\r\n                 * Note, in Node 8, the output of anonymous funcs varied based on parameters\r\n                 * being present or not, so we inject dummy params.\r\n                 */\r\n                var func = new Function('a', 'throw new Error()');\r\n                var lineAdjust = 0;\r\n                try {\r\n                    func();\r\n                }\r\n                catch (e) {\r\n                    var match = e.stack.match(anonymousFunc);\r\n                    var line = parseInt(match[2]);\r\n                    lineAdjust = 1 - line;\r\n                }\r\n                if (found) {\r\n                    if (found[2]) {\r\n                        this.line = parseInt(found[2]) + lineAdjust;\r\n                    }\r\n                    if (found[3]) {\r\n                        this.column = parseInt(found[3]);\r\n                    }\r\n                }\r\n            }\r\n            this.callLine = callLine + 1;\r\n            this.callExtract = lines[callLine];\r\n            this.extract = [\r\n                lines[this.line - 2],\r\n                lines[this.line - 1],\r\n                lines[this.line]\r\n            ];\r\n        }\r\n    };\r\n    if (typeof Object.create === 'undefined') {\r\n        var F = function () { };\r\n        F.prototype = Error.prototype;\r\n        LessError.prototype = new F();\r\n    }\r\n    else {\r\n        LessError.prototype = Object.create(Error.prototype);\r\n    }\r\n    LessError.prototype.constructor = LessError;\r\n    /**\r\n     * An overridden version of the default Object.prototype.toString\r\n     * which uses additional information to create a helpful message.\r\n     *\r\n     * @param {Object} options\r\n     * @returns {string}\r\n     */\r\n    LessError.prototype.toString = function (options) {\r\n        options = options || {};\r\n        var message = '';\r\n        var extract = this.extract || [];\r\n        var error = [];\r\n        var stylize = function (str) { return str; };\r\n        if (options.stylize) {\r\n            var type = typeof options.stylize;\r\n            if (type !== 'function') {\r\n                throw Error(\"options.stylize should be a function, got a \" + type + \"!\");\r\n            }\r\n            stylize = options.stylize;\r\n        }\r\n        if (this.line !== null) {\r\n            if (typeof extract[0] === 'string') {\r\n                error.push(stylize(this.line - 1 + \" \" + extract[0], 'grey'));\r\n            }\r\n            if (typeof extract[1] === 'string') {\r\n                var errorTxt = this.line + \" \";\r\n                if (extract[1]) {\r\n                    errorTxt += extract[1].slice(0, this.column) +\r\n                        stylize(stylize(stylize(extract[1].substr(this.column, 1), 'bold') +\r\n                            extract[1].slice(this.column + 1), 'red'), 'inverse');\r\n                }\r\n                error.push(errorTxt);\r\n            }\r\n            if (typeof extract[2] === 'string') {\r\n                error.push(stylize(this.line + 1 + \" \" + extract[2], 'grey'));\r\n            }\r\n            error = error.join('\\n') + stylize('', 'reset') + \"\\n\";\r\n        }\r\n        message += stylize(this.type + \"Error: \" + this.message, 'red');\r\n        if (this.filename) {\r\n            message += stylize(' in ', 'red') + this.filename;\r\n        }\r\n        if (this.line) {\r\n            message += stylize(\" on line \" + this.line + \", column \" + (this.column + 1) + \":\", 'grey');\r\n        }\r\n        message += \"\\n\" + error;\r\n        if (this.callLine) {\r\n            message += stylize('from ', 'red') + (this.filename || '') + \"/n\";\r\n            message += stylize(this.callLine, 'grey') + \" \" + this.callExtract + \"/n\";\r\n        }\r\n        return message;\r\n    };\n\n    var Selector = function (elements, extendList, condition, index, currentFileInfo, visibilityInfo) {\r\n        this.extendList = extendList;\r\n        this.condition = condition;\r\n        this.evaldCondition = !condition;\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n        this.elements = this.getElements(elements);\r\n        this.mixinElements_ = undefined;\r\n        this.copyVisibilityInfo(visibilityInfo);\r\n        this.setParent(this.elements, this);\r\n    };\r\n    Selector.prototype = Object.assign(new Node(), {\r\n        type: 'Selector',\r\n        accept: function (visitor) {\r\n            if (this.elements) {\r\n                this.elements = visitor.visitArray(this.elements);\r\n            }\r\n            if (this.extendList) {\r\n                this.extendList = visitor.visitArray(this.extendList);\r\n            }\r\n            if (this.condition) {\r\n                this.condition = visitor.visit(this.condition);\r\n            }\r\n        },\r\n        createDerived: function (elements, extendList, evaldCondition) {\r\n            elements = this.getElements(elements);\r\n            var newSelector = new Selector(elements, extendList || this.extendList, null, this.getIndex(), this.fileInfo(), this.visibilityInfo());\r\n            newSelector.evaldCondition = (evaldCondition != null) ? evaldCondition : this.evaldCondition;\r\n            newSelector.mediaEmpty = this.mediaEmpty;\r\n            return newSelector;\r\n        },\r\n        getElements: function (els) {\r\n            if (!els) {\r\n                return [new Element('', '&', false, this._index, this._fileInfo)];\r\n            }\r\n            if (typeof els === 'string') {\r\n                this.parse.parseNode(els, ['selector'], this._index, this._fileInfo, function (err, result) {\r\n                    if (err) {\r\n                        throw new LessError({\r\n                            index: err.index,\r\n                            message: err.message\r\n                        }, this.parse.imports, this._fileInfo.filename);\r\n                    }\r\n                    els = result[0].elements;\r\n                });\r\n            }\r\n            return els;\r\n        },\r\n        createEmptySelectors: function () {\r\n            var el = new Element('', '&', false, this._index, this._fileInfo), sels = [new Selector([el], null, null, this._index, this._fileInfo)];\r\n            sels[0].mediaEmpty = true;\r\n            return sels;\r\n        },\r\n        match: function (other) {\r\n            var elements = this.elements;\r\n            var len = elements.length;\r\n            var olen;\r\n            var i;\r\n            other = other.mixinElements();\r\n            olen = other.length;\r\n            if (olen === 0 || len < olen) {\r\n                return 0;\r\n            }\r\n            else {\r\n                for (i = 0; i < olen; i++) {\r\n                    if (elements[i].value !== other[i]) {\r\n                        return 0;\r\n                    }\r\n                }\r\n            }\r\n            return olen; // return number of matched elements\r\n        },\r\n        mixinElements: function () {\r\n            if (this.mixinElements_) {\r\n                return this.mixinElements_;\r\n            }\r\n            var elements = this.elements.map(function (v) {\r\n                return v.combinator.value + (v.value.value || v.value);\r\n            }).join('').match(/[,&#\\*\\.\\w-]([\\w-]|(\\\\.))*/g);\r\n            if (elements) {\r\n                if (elements[0] === '&') {\r\n                    elements.shift();\r\n                }\r\n            }\r\n            else {\r\n                elements = [];\r\n            }\r\n            return (this.mixinElements_ = elements);\r\n        },\r\n        isJustParentSelector: function () {\r\n            return !this.mediaEmpty &&\r\n                this.elements.length === 1 &&\r\n                this.elements[0].value === '&' &&\r\n                (this.elements[0].combinator.value === ' ' || this.elements[0].combinator.value === '');\r\n        },\r\n        eval: function (context) {\r\n            var evaldCondition = this.condition && this.condition.eval(context);\r\n            var elements = this.elements;\r\n            var extendList = this.extendList;\r\n            elements = elements && elements.map(function (e) { return e.eval(context); });\r\n            extendList = extendList && extendList.map(function (extend) { return extend.eval(context); });\r\n            return this.createDerived(elements, extendList, evaldCondition);\r\n        },\r\n        genCSS: function (context, output) {\r\n            var i, element;\r\n            if ((!context || !context.firstSelector) && this.elements[0].combinator.value === '') {\r\n                output.add(' ', this.fileInfo(), this.getIndex());\r\n            }\r\n            for (i = 0; i < this.elements.length; i++) {\r\n                element = this.elements[i];\r\n                element.genCSS(context, output);\r\n            }\r\n        },\r\n        getIsOutput: function () {\r\n            return this.evaldCondition;\r\n        }\r\n    });\n\n    var Value = function (value) {\r\n        if (!value) {\r\n            throw new Error('Value requires an array argument');\r\n        }\r\n        if (!Array.isArray(value)) {\r\n            this.value = [value];\r\n        }\r\n        else {\r\n            this.value = value;\r\n        }\r\n    };\r\n    Value.prototype = Object.assign(new Node(), {\r\n        type: 'Value',\r\n        accept: function (visitor) {\r\n            if (this.value) {\r\n                this.value = visitor.visitArray(this.value);\r\n            }\r\n        },\r\n        eval: function (context) {\r\n            if (this.value.length === 1) {\r\n                return this.value[0].eval(context);\r\n            }\r\n            else {\r\n                return new Value(this.value.map(function (v) {\r\n                    return v.eval(context);\r\n                }));\r\n            }\r\n        },\r\n        genCSS: function (context, output) {\r\n            var i;\r\n            for (i = 0; i < this.value.length; i++) {\r\n                this.value[i].genCSS(context, output);\r\n                if (i + 1 < this.value.length) {\r\n                    output.add((context && context.compress) ? ',' : ', ');\r\n                }\r\n            }\r\n        }\r\n    });\n\n    var Keyword = function (value) {\r\n        this.value = value;\r\n    };\r\n    Keyword.prototype = Object.assign(new Node(), {\r\n        type: 'Keyword',\r\n        genCSS: function (context, output) {\r\n            if (this.value === '%') {\r\n                throw { type: 'Syntax', message: 'Invalid % without number' };\r\n            }\r\n            output.add(this.value);\r\n        }\r\n    });\r\n    Keyword.True = new Keyword('true');\r\n    Keyword.False = new Keyword('false');\n\n    var Anonymous = function (value, index, currentFileInfo, mapLines, rulesetLike, visibilityInfo) {\r\n        this.value = value;\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n        this.mapLines = mapLines;\r\n        this.rulesetLike = (typeof rulesetLike === 'undefined') ? false : rulesetLike;\r\n        this.allowRoot = true;\r\n        this.copyVisibilityInfo(visibilityInfo);\r\n    };\r\n    Anonymous.prototype = Object.assign(new Node(), {\r\n        type: 'Anonymous',\r\n        eval: function () {\r\n            return new Anonymous(this.value, this._index, this._fileInfo, this.mapLines, this.rulesetLike, this.visibilityInfo());\r\n        },\r\n        compare: function (other) {\r\n            return other.toCSS && this.toCSS() === other.toCSS() ? 0 : undefined;\r\n        },\r\n        isRulesetLike: function () {\r\n            return this.rulesetLike;\r\n        },\r\n        genCSS: function (context, output) {\r\n            this.nodeVisible = Boolean(this.value);\r\n            if (this.nodeVisible) {\r\n                output.add(this.value, this._fileInfo, this._index, this.mapLines);\r\n            }\r\n        }\r\n    });\n\n    var MATH$1 = Math$1;\r\n    function evalName(context, name) {\r\n        var value = '';\r\n        var i;\r\n        var n = name.length;\r\n        var output = { add: function (s) { value += s; } };\r\n        for (i = 0; i < n; i++) {\r\n            name[i].eval(context).genCSS(context, output);\r\n        }\r\n        return value;\r\n    }\r\n    var Declaration = function (name, value, important, merge, index, currentFileInfo, inline, variable) {\r\n        this.name = name;\r\n        this.value = (value instanceof Node) ? value : new Value([value ? new Anonymous(value) : null]);\r\n        this.important = important ? \" \" + important.trim() : '';\r\n        this.merge = merge;\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n        this.inline = inline || false;\r\n        this.variable = (variable !== undefined) ? variable\r\n            : (name.charAt && (name.charAt(0) === '@'));\r\n        this.allowRoot = true;\r\n        this.setParent(this.value, this);\r\n    };\r\n    Declaration.prototype = Object.assign(new Node(), {\r\n        type: 'Declaration',\r\n        genCSS: function (context, output) {\r\n            output.add(this.name + (context.compress ? ':' : ': '), this.fileInfo(), this.getIndex());\r\n            try {\r\n                this.value.genCSS(context, output);\r\n            }\r\n            catch (e) {\r\n                e.index = this._index;\r\n                e.filename = this._fileInfo.filename;\r\n                throw e;\r\n            }\r\n            output.add(this.important + ((this.inline || (context.lastRule && context.compress)) ? '' : ';'), this._fileInfo, this._index);\r\n        },\r\n        eval: function (context) {\r\n            var mathBypass = false, prevMath, name = this.name, evaldValue, variable = this.variable;\r\n            if (typeof name !== 'string') {\r\n                // expand 'primitive' name directly to get\r\n                // things faster (~10% for benchmark.less):\r\n                name = (name.length === 1) && (name[0] instanceof Keyword) ?\r\n                    name[0].value : evalName(context, name);\r\n                variable = false; // never treat expanded interpolation as new variable name\r\n            }\r\n            // @todo remove when parens-division is default\r\n            if (name === 'font' && context.math === MATH$1.ALWAYS) {\r\n                mathBypass = true;\r\n                prevMath = context.math;\r\n                context.math = MATH$1.PARENS_DIVISION;\r\n            }\r\n            try {\r\n                context.importantScope.push({});\r\n                evaldValue = this.value.eval(context);\r\n                if (!this.variable && evaldValue.type === 'DetachedRuleset') {\r\n                    throw { message: 'Rulesets cannot be evaluated on a property.',\r\n                        index: this.getIndex(), filename: this.fileInfo().filename };\r\n                }\r\n                var important = this.important;\r\n                var importantResult = context.importantScope.pop();\r\n                if (!important && importantResult.important) {\r\n                    important = importantResult.important;\r\n                }\r\n                return new Declaration(name, evaldValue, important, this.merge, this.getIndex(), this.fileInfo(), this.inline, variable);\r\n            }\r\n            catch (e) {\r\n                if (typeof e.index !== 'number') {\r\n                    e.index = this.getIndex();\r\n                    e.filename = this.fileInfo().filename;\r\n                }\r\n                throw e;\r\n            }\r\n            finally {\r\n                if (mathBypass) {\r\n                    context.math = prevMath;\r\n                }\r\n            }\r\n        },\r\n        makeImportant: function () {\r\n            return new Declaration(this.name, this.value, '!important', this.merge, this.getIndex(), this.fileInfo(), this.inline);\r\n        }\r\n    });\n\n    function asComment(ctx) {\r\n        return \"/* line \" + ctx.debugInfo.lineNumber + \", \" + ctx.debugInfo.fileName + \" */\\n\";\r\n    }\r\n    function asMediaQuery(ctx) {\r\n        var filenameWithProtocol = ctx.debugInfo.fileName;\r\n        if (!/^[a-z]+:\\/\\//i.test(filenameWithProtocol)) {\r\n            filenameWithProtocol = \"file://\" + filenameWithProtocol;\r\n        }\r\n        return \"@media -sass-debug-info{filename{font-family:\" + filenameWithProtocol.replace(/([.:\\/\\\\])/g, function (a) {\r\n            if (a == '\\\\') {\r\n                a = '\\/';\r\n            }\r\n            return \"\\\\\" + a;\r\n        }) + \"}line{font-family:\\\\00003\" + ctx.debugInfo.lineNumber + \"}}\\n\";\r\n    }\r\n    function debugInfo(context, ctx, lineSeparator) {\r\n        var result = '';\r\n        if (context.dumpLineNumbers && !context.compress) {\r\n            switch (context.dumpLineNumbers) {\r\n                case 'comments':\r\n                    result = asComment(ctx);\r\n                    break;\r\n                case 'mediaquery':\r\n                    result = asMediaQuery(ctx);\r\n                    break;\r\n                case 'all':\r\n                    result = asComment(ctx) + (lineSeparator || '') + asMediaQuery(ctx);\r\n                    break;\r\n            }\r\n        }\r\n        return result;\r\n    }\n\n    var Comment = function (value, isLineComment, index, currentFileInfo) {\r\n        this.value = value;\r\n        this.isLineComment = isLineComment;\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n        this.allowRoot = true;\r\n    };\r\n    Comment.prototype = Object.assign(new Node(), {\r\n        type: 'Comment',\r\n        genCSS: function (context, output) {\r\n            if (this.debugInfo) {\r\n                output.add(debugInfo(context, this), this.fileInfo(), this.getIndex());\r\n            }\r\n            output.add(this.value);\r\n        },\r\n        isSilent: function (context) {\r\n            var isCompressed = context.compress && this.value[2] !== '!';\r\n            return this.isLineComment || isCompressed;\r\n        }\r\n    });\n\n    var contexts = {};\r\n    var copyFromOriginal = function copyFromOriginal(original, destination, propertiesToCopy) {\r\n        if (!original) {\r\n            return;\r\n        }\r\n        for (var i = 0; i < propertiesToCopy.length; i++) {\r\n            if (original.hasOwnProperty(propertiesToCopy[i])) {\r\n                destination[propertiesToCopy[i]] = original[propertiesToCopy[i]];\r\n            }\r\n        }\r\n    };\r\n    /*\r\n     parse is used whilst parsing\r\n     */\r\n    var parseCopyProperties = [\r\n        // options\r\n        'paths',\r\n        'rewriteUrls',\r\n        'rootpath',\r\n        'strictImports',\r\n        'insecure',\r\n        'dumpLineNumbers',\r\n        'compress',\r\n        'syncImport',\r\n        'chunkInput',\r\n        'mime',\r\n        'useFileCache',\r\n        // context\r\n        'processImports',\r\n        // Used by the import manager to stop multiple import visitors being created.\r\n        'pluginManager' // Used as the plugin manager for the session\r\n    ];\r\n    contexts.Parse = function (options) {\r\n        copyFromOriginal(options, this, parseCopyProperties);\r\n        if (typeof this.paths === 'string') {\r\n            this.paths = [this.paths];\r\n        }\r\n    };\r\n    var evalCopyProperties = [\r\n        'paths',\r\n        'compress',\r\n        'math',\r\n        'strictUnits',\r\n        'sourceMap',\r\n        'importMultiple',\r\n        'urlArgs',\r\n        'javascriptEnabled',\r\n        'pluginManager',\r\n        'importantScope',\r\n        'rewriteUrls' // option - whether to adjust URL's to be relative\r\n    ];\r\n    contexts.Eval = function (options, frames) {\r\n        copyFromOriginal(options, this, evalCopyProperties);\r\n        if (typeof this.paths === 'string') {\r\n            this.paths = [this.paths];\r\n        }\r\n        this.frames = frames || [];\r\n        this.importantScope = this.importantScope || [];\r\n    };\r\n    contexts.Eval.prototype.enterCalc = function () {\r\n        if (!this.calcStack) {\r\n            this.calcStack = [];\r\n        }\r\n        this.calcStack.push(true);\r\n        this.inCalc = true;\r\n    };\r\n    contexts.Eval.prototype.exitCalc = function () {\r\n        this.calcStack.pop();\r\n        if (!this.calcStack.length) {\r\n            this.inCalc = false;\r\n        }\r\n    };\r\n    contexts.Eval.prototype.inParenthesis = function () {\r\n        if (!this.parensStack) {\r\n            this.parensStack = [];\r\n        }\r\n        this.parensStack.push(true);\r\n    };\r\n    contexts.Eval.prototype.outOfParenthesis = function () {\r\n        this.parensStack.pop();\r\n    };\r\n    contexts.Eval.prototype.inCalc = false;\r\n    contexts.Eval.prototype.mathOn = true;\r\n    contexts.Eval.prototype.isMathOn = function (op) {\r\n        if (!this.mathOn) {\r\n            return false;\r\n        }\r\n        if (op === '/' && this.math !== Math$1.ALWAYS && (!this.parensStack || !this.parensStack.length)) {\r\n            return false;\r\n        }\r\n        if (this.math > Math$1.PARENS_DIVISION) {\r\n            return this.parensStack && this.parensStack.length;\r\n        }\r\n        return true;\r\n    };\r\n    contexts.Eval.prototype.pathRequiresRewrite = function (path) {\r\n        var isRelative = this.rewriteUrls === RewriteUrls.LOCAL ? isPathLocalRelative : isPathRelative;\r\n        return isRelative(path);\r\n    };\r\n    contexts.Eval.prototype.rewritePath = function (path, rootpath) {\r\n        var newPath;\r\n        rootpath = rootpath || '';\r\n        newPath = this.normalizePath(rootpath + path);\r\n        // If a path was explicit relative and the rootpath was not an absolute path\r\n        // we must ensure that the new path is also explicit relative.\r\n        if (isPathLocalRelative(path) &&\r\n            isPathRelative(rootpath) &&\r\n            isPathLocalRelative(newPath) === false) {\r\n            newPath = \"./\" + newPath;\r\n        }\r\n        return newPath;\r\n    };\r\n    contexts.Eval.prototype.normalizePath = function (path) {\r\n        var segments = path.split('/').reverse();\r\n        var segment;\r\n        path = [];\r\n        while (segments.length !== 0) {\r\n            segment = segments.pop();\r\n            switch (segment) {\r\n                case '.':\r\n                    break;\r\n                case '..':\r\n                    if ((path.length === 0) || (path[path.length - 1] === '..')) {\r\n                        path.push(segment);\r\n                    }\r\n                    else {\r\n                        path.pop();\r\n                    }\r\n                    break;\r\n                default:\r\n                    path.push(segment);\r\n                    break;\r\n            }\r\n        }\r\n        return path.join('/');\r\n    };\r\n    function isPathRelative(path) {\r\n        return !/^(?:[a-z-]+:|\\/|#)/i.test(path);\r\n    }\r\n    function isPathLocalRelative(path) {\r\n        return path.charAt(0) === '.';\r\n    }\r\n    // todo - do the same for the toCSS ?\n\n    function makeRegistry(base) {\r\n        return {\r\n            _data: {},\r\n            add: function (name, func) {\r\n                // precautionary case conversion, as later querying of\r\n                // the registry by function-caller uses lower case as well.\r\n                name = name.toLowerCase();\r\n                if (this._data.hasOwnProperty(name)) ;\r\n                this._data[name] = func;\r\n            },\r\n            addMultiple: function (functions) {\r\n                var _this = this;\r\n                Object.keys(functions).forEach(function (name) {\r\n                    _this.add(name, functions[name]);\r\n                });\r\n            },\r\n            get: function (name) {\r\n                return this._data[name] || (base && base.get(name));\r\n            },\r\n            getLocalFunctions: function () {\r\n                return this._data;\r\n            },\r\n            inherit: function () {\r\n                return makeRegistry(this);\r\n            },\r\n            create: function (base) {\r\n                return makeRegistry(base);\r\n            }\r\n        };\r\n    }\r\n    var functionRegistry = makeRegistry(null);\n\n    var defaultFunc = {\r\n        eval: function () {\r\n            var v = this.value_;\r\n            var e = this.error_;\r\n            if (e) {\r\n                throw e;\r\n            }\r\n            if (v != null) {\r\n                return v ? Keyword.True : Keyword.False;\r\n            }\r\n        },\r\n        value: function (v) {\r\n            this.value_ = v;\r\n        },\r\n        error: function (e) {\r\n            this.error_ = e;\r\n        },\r\n        reset: function () {\r\n            this.value_ = this.error_ = null;\r\n        }\r\n    };\n\n    var Ruleset = function (selectors, rules, strictImports, visibilityInfo) {\r\n        this.selectors = selectors;\r\n        this.rules = rules;\r\n        this._lookups = {};\r\n        this._variables = null;\r\n        this._properties = null;\r\n        this.strictImports = strictImports;\r\n        this.copyVisibilityInfo(visibilityInfo);\r\n        this.allowRoot = true;\r\n        this.setParent(this.selectors, this);\r\n        this.setParent(this.rules, this);\r\n    };\r\n    Ruleset.prototype = Object.assign(new Node(), {\r\n        type: 'Ruleset',\r\n        isRuleset: true,\r\n        isRulesetLike: function () { return true; },\r\n        accept: function (visitor) {\r\n            if (this.paths) {\r\n                this.paths = visitor.visitArray(this.paths, true);\r\n            }\r\n            else if (this.selectors) {\r\n                this.selectors = visitor.visitArray(this.selectors);\r\n            }\r\n            if (this.rules && this.rules.length) {\r\n                this.rules = visitor.visitArray(this.rules);\r\n            }\r\n        },\r\n        eval: function (context) {\r\n            var selectors;\r\n            var selCnt;\r\n            var selector;\r\n            var i;\r\n            var hasVariable;\r\n            var hasOnePassingSelector = false;\r\n            if (this.selectors && (selCnt = this.selectors.length)) {\r\n                selectors = new Array(selCnt);\r\n                defaultFunc.error({\r\n                    type: 'Syntax',\r\n                    message: 'it is currently only allowed in parametric mixin guards,'\r\n                });\r\n                for (i = 0; i < selCnt; i++) {\r\n                    selector = this.selectors[i].eval(context);\r\n                    for (var j = 0; j < selector.elements.length; j++) {\r\n                        if (selector.elements[j].isVariable) {\r\n                            hasVariable = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    selectors[i] = selector;\r\n                    if (selector.evaldCondition) {\r\n                        hasOnePassingSelector = true;\r\n                    }\r\n                }\r\n                if (hasVariable) {\r\n                    var toParseSelectors = new Array(selCnt);\r\n                    for (i = 0; i < selCnt; i++) {\r\n                        selector = selectors[i];\r\n                        toParseSelectors[i] = selector.toCSS(context);\r\n                    }\r\n                    this.parse.parseNode(toParseSelectors.join(','), [\"selectors\"], selectors[0].getIndex(), selectors[0].fileInfo(), function (err, result) {\r\n                        if (result) {\r\n                            selectors = flattenArray(result);\r\n                        }\r\n                    });\r\n                }\r\n                defaultFunc.reset();\r\n            }\r\n            else {\r\n                hasOnePassingSelector = true;\r\n            }\r\n            var rules = this.rules ? copyArray(this.rules) : null;\r\n            var ruleset = new Ruleset(selectors, rules, this.strictImports, this.visibilityInfo());\r\n            var rule;\r\n            var subRule;\r\n            ruleset.originalRuleset = this;\r\n            ruleset.root = this.root;\r\n            ruleset.firstRoot = this.firstRoot;\r\n            ruleset.allowImports = this.allowImports;\r\n            if (this.debugInfo) {\r\n                ruleset.debugInfo = this.debugInfo;\r\n            }\r\n            if (!hasOnePassingSelector) {\r\n                rules.length = 0;\r\n            }\r\n            // inherit a function registry from the frames stack when possible;\r\n            // otherwise from the global registry\r\n            ruleset.functionRegistry = (function (frames) {\r\n                var i = 0;\r\n                var n = frames.length;\r\n                var found;\r\n                for (; i !== n; ++i) {\r\n                    found = frames[i].functionRegistry;\r\n                    if (found) {\r\n                        return found;\r\n                    }\r\n                }\r\n                return functionRegistry;\r\n            }(context.frames)).inherit();\r\n            // push the current ruleset to the frames stack\r\n            var ctxFrames = context.frames;\r\n            ctxFrames.unshift(ruleset);\r\n            // currrent selectors\r\n            var ctxSelectors = context.selectors;\r\n            if (!ctxSelectors) {\r\n                context.selectors = ctxSelectors = [];\r\n            }\r\n            ctxSelectors.unshift(this.selectors);\r\n            // Evaluate imports\r\n            if (ruleset.root || ruleset.allowImports || !ruleset.strictImports) {\r\n                ruleset.evalImports(context);\r\n            }\r\n            // Store the frames around mixin definitions,\r\n            // so they can be evaluated like closures when the time comes.\r\n            var rsRules = ruleset.rules;\r\n            for (i = 0; (rule = rsRules[i]); i++) {\r\n                if (rule.evalFirst) {\r\n                    rsRules[i] = rule.eval(context);\r\n                }\r\n            }\r\n            var mediaBlockCount = (context.mediaBlocks && context.mediaBlocks.length) || 0;\r\n            // Evaluate mixin calls.\r\n            for (i = 0; (rule = rsRules[i]); i++) {\r\n                if (rule.type === 'MixinCall') {\r\n                    /* jshint loopfunc:true */\r\n                    rules = rule.eval(context).filter(function (r) {\r\n                        if ((r instanceof Declaration) && r.variable) {\r\n                            // do not pollute the scope if the variable is\r\n                            // already there. consider returning false here\r\n                            // but we need a way to \"return\" variable from mixins\r\n                            return !(ruleset.variable(r.name));\r\n                        }\r\n                        return true;\r\n                    });\r\n                    rsRules.splice.apply(rsRules, [i, 1].concat(rules));\r\n                    i += rules.length - 1;\r\n                    ruleset.resetCache();\r\n                }\r\n                else if (rule.type === 'VariableCall') {\r\n                    /* jshint loopfunc:true */\r\n                    rules = rule.eval(context).rules.filter(function (r) {\r\n                        if ((r instanceof Declaration) && r.variable) {\r\n                            // do not pollute the scope at all\r\n                            return false;\r\n                        }\r\n                        return true;\r\n                    });\r\n                    rsRules.splice.apply(rsRules, [i, 1].concat(rules));\r\n                    i += rules.length - 1;\r\n                    ruleset.resetCache();\r\n                }\r\n            }\r\n            // Evaluate everything else\r\n            for (i = 0; (rule = rsRules[i]); i++) {\r\n                if (!rule.evalFirst) {\r\n                    rsRules[i] = rule = rule.eval ? rule.eval(context) : rule;\r\n                }\r\n            }\r\n            // Evaluate everything else\r\n            for (i = 0; (rule = rsRules[i]); i++) {\r\n                // for rulesets, check if it is a css guard and can be removed\r\n                if (rule instanceof Ruleset && rule.selectors && rule.selectors.length === 1) {\r\n                    // check if it can be folded in (e.g. & where)\r\n                    if (rule.selectors[0] && rule.selectors[0].isJustParentSelector()) {\r\n                        rsRules.splice(i--, 1);\r\n                        for (var j = 0; (subRule = rule.rules[j]); j++) {\r\n                            if (subRule instanceof Node) {\r\n                                subRule.copyVisibilityInfo(rule.visibilityInfo());\r\n                                if (!(subRule instanceof Declaration) || !subRule.variable) {\r\n                                    rsRules.splice(++i, 0, subRule);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // Pop the stack\r\n            ctxFrames.shift();\r\n            ctxSelectors.shift();\r\n            if (context.mediaBlocks) {\r\n                for (i = mediaBlockCount; i < context.mediaBlocks.length; i++) {\r\n                    context.mediaBlocks[i].bubbleSelectors(selectors);\r\n                }\r\n            }\r\n            return ruleset;\r\n        },\r\n        evalImports: function (context) {\r\n            var rules = this.rules;\r\n            var i;\r\n            var importRules;\r\n            if (!rules) {\r\n                return;\r\n            }\r\n            for (i = 0; i < rules.length; i++) {\r\n                if (rules[i].type === 'Import') {\r\n                    importRules = rules[i].eval(context);\r\n                    if (importRules && (importRules.length || importRules.length === 0)) {\r\n                        rules.splice.apply(rules, [i, 1].concat(importRules));\r\n                        i += importRules.length - 1;\r\n                    }\r\n                    else {\r\n                        rules.splice(i, 1, importRules);\r\n                    }\r\n                    this.resetCache();\r\n                }\r\n            }\r\n        },\r\n        makeImportant: function () {\r\n            var result = new Ruleset(this.selectors, this.rules.map(function (r) {\r\n                if (r.makeImportant) {\r\n                    return r.makeImportant();\r\n                }\r\n                else {\r\n                    return r;\r\n                }\r\n            }), this.strictImports, this.visibilityInfo());\r\n            return result;\r\n        },\r\n        matchArgs: function (args) {\r\n            return !args || args.length === 0;\r\n        },\r\n        // lets you call a css selector with a guard\r\n        matchCondition: function (args, context) {\r\n            var lastSelector = this.selectors[this.selectors.length - 1];\r\n            if (!lastSelector.evaldCondition) {\r\n                return false;\r\n            }\r\n            if (lastSelector.condition &&\r\n                !lastSelector.condition.eval(new contexts.Eval(context, context.frames))) {\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        resetCache: function () {\r\n            this._rulesets = null;\r\n            this._variables = null;\r\n            this._properties = null;\r\n            this._lookups = {};\r\n        },\r\n        variables: function () {\r\n            if (!this._variables) {\r\n                this._variables = !this.rules ? {} : this.rules.reduce(function (hash, r) {\r\n                    if (r instanceof Declaration && r.variable === true) {\r\n                        hash[r.name] = r;\r\n                    }\r\n                    // when evaluating variables in an import statement, imports have not been eval'd\r\n                    // so we need to go inside import statements.\r\n                    // guard against root being a string (in the case of inlined less)\r\n                    if (r.type === 'Import' && r.root && r.root.variables) {\r\n                        var vars = r.root.variables();\r\n                        for (var name_1 in vars) {\r\n                            if (vars.hasOwnProperty(name_1)) {\r\n                                hash[name_1] = r.root.variable(name_1);\r\n                            }\r\n                        }\r\n                    }\r\n                    return hash;\r\n                }, {});\r\n            }\r\n            return this._variables;\r\n        },\r\n        properties: function () {\r\n            if (!this._properties) {\r\n                this._properties = !this.rules ? {} : this.rules.reduce(function (hash, r) {\r\n                    if (r instanceof Declaration && r.variable !== true) {\r\n                        var name_2 = (r.name.length === 1) && (r.name[0] instanceof Keyword) ?\r\n                            r.name[0].value : r.name;\r\n                        // Properties don't overwrite as they can merge\r\n                        if (!hash[\"$\" + name_2]) {\r\n                            hash[\"$\" + name_2] = [r];\r\n                        }\r\n                        else {\r\n                            hash[\"$\" + name_2].push(r);\r\n                        }\r\n                    }\r\n                    return hash;\r\n                }, {});\r\n            }\r\n            return this._properties;\r\n        },\r\n        variable: function (name) {\r\n            var decl = this.variables()[name];\r\n            if (decl) {\r\n                return this.parseValue(decl);\r\n            }\r\n        },\r\n        property: function (name) {\r\n            var decl = this.properties()[name];\r\n            if (decl) {\r\n                return this.parseValue(decl);\r\n            }\r\n        },\r\n        lastDeclaration: function () {\r\n            for (var i = this.rules.length; i > 0; i--) {\r\n                var decl = this.rules[i - 1];\r\n                if (decl instanceof Declaration) {\r\n                    return this.parseValue(decl);\r\n                }\r\n            }\r\n        },\r\n        parseValue: function (toParse) {\r\n            var self = this;\r\n            function transformDeclaration(decl) {\r\n                if (decl.value instanceof Anonymous && !decl.parsed) {\r\n                    if (typeof decl.value.value === 'string') {\r\n                        this.parse.parseNode(decl.value.value, ['value', 'important'], decl.value.getIndex(), decl.fileInfo(), function (err, result) {\r\n                            if (err) {\r\n                                decl.parsed = true;\r\n                            }\r\n                            if (result) {\r\n                                decl.value = result[0];\r\n                                decl.important = result[1] || '';\r\n                                decl.parsed = true;\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        decl.parsed = true;\r\n                    }\r\n                    return decl;\r\n                }\r\n                else {\r\n                    return decl;\r\n                }\r\n            }\r\n            if (!Array.isArray(toParse)) {\r\n                return transformDeclaration.call(self, toParse);\r\n            }\r\n            else {\r\n                var nodes_1 = [];\r\n                toParse.forEach(function (n) {\r\n                    nodes_1.push(transformDeclaration.call(self, n));\r\n                });\r\n                return nodes_1;\r\n            }\r\n        },\r\n        rulesets: function () {\r\n            if (!this.rules) {\r\n                return [];\r\n            }\r\n            var filtRules = [];\r\n            var rules = this.rules;\r\n            var i;\r\n            var rule;\r\n            for (i = 0; (rule = rules[i]); i++) {\r\n                if (rule.isRuleset) {\r\n                    filtRules.push(rule);\r\n                }\r\n            }\r\n            return filtRules;\r\n        },\r\n        prependRule: function (rule) {\r\n            var rules = this.rules;\r\n            if (rules) {\r\n                rules.unshift(rule);\r\n            }\r\n            else {\r\n                this.rules = [rule];\r\n            }\r\n            this.setParent(rule, this);\r\n        },\r\n        find: function (selector, self, filter) {\r\n            self = self || this;\r\n            var rules = [];\r\n            var match;\r\n            var foundMixins;\r\n            var key = selector.toCSS();\r\n            if (key in this._lookups) {\r\n                return this._lookups[key];\r\n            }\r\n            this.rulesets().forEach(function (rule) {\r\n                if (rule !== self) {\r\n                    for (var j = 0; j < rule.selectors.length; j++) {\r\n                        match = selector.match(rule.selectors[j]);\r\n                        if (match) {\r\n                            if (selector.elements.length > match) {\r\n                                if (!filter || filter(rule)) {\r\n                                    foundMixins = rule.find(new Selector(selector.elements.slice(match)), self, filter);\r\n                                    for (var i = 0; i < foundMixins.length; ++i) {\r\n                                        foundMixins[i].path.push(rule);\r\n                                    }\r\n                                    Array.prototype.push.apply(rules, foundMixins);\r\n                                }\r\n                            }\r\n                            else {\r\n                                rules.push({ rule: rule, path: [] });\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this._lookups[key] = rules;\r\n            return rules;\r\n        },\r\n        genCSS: function (context, output) {\r\n            var i;\r\n            var j;\r\n            var charsetRuleNodes = [];\r\n            var ruleNodes = [];\r\n            var // Line number debugging\r\n            debugInfo$1;\r\n            var rule;\r\n            var path;\r\n            context.tabLevel = (context.tabLevel || 0);\r\n            if (!this.root) {\r\n                context.tabLevel++;\r\n            }\r\n            var tabRuleStr = context.compress ? '' : Array(context.tabLevel + 1).join('  ');\r\n            var tabSetStr = context.compress ? '' : Array(context.tabLevel).join('  ');\r\n            var sep;\r\n            var charsetNodeIndex = 0;\r\n            var importNodeIndex = 0;\r\n            for (i = 0; (rule = this.rules[i]); i++) {\r\n                if (rule instanceof Comment) {\r\n                    if (importNodeIndex === i) {\r\n                        importNodeIndex++;\r\n                    }\r\n                    ruleNodes.push(rule);\r\n                }\r\n                else if (rule.isCharset && rule.isCharset()) {\r\n                    ruleNodes.splice(charsetNodeIndex, 0, rule);\r\n                    charsetNodeIndex++;\r\n                    importNodeIndex++;\r\n                }\r\n                else if (rule.type === 'Import') {\r\n                    ruleNodes.splice(importNodeIndex, 0, rule);\r\n                    importNodeIndex++;\r\n                }\r\n                else {\r\n                    ruleNodes.push(rule);\r\n                }\r\n            }\r\n            ruleNodes = charsetRuleNodes.concat(ruleNodes);\r\n            // If this is the root node, we don't render\r\n            // a selector, or {}.\r\n            if (!this.root) {\r\n                debugInfo$1 = debugInfo(context, this, tabSetStr);\r\n                if (debugInfo$1) {\r\n                    output.add(debugInfo$1);\r\n                    output.add(tabSetStr);\r\n                }\r\n                var paths = this.paths;\r\n                var pathCnt = paths.length;\r\n                var pathSubCnt = void 0;\r\n                sep = context.compress ? ',' : (\",\\n\" + tabSetStr);\r\n                for (i = 0; i < pathCnt; i++) {\r\n                    path = paths[i];\r\n                    if (!(pathSubCnt = path.length)) {\r\n                        continue;\r\n                    }\r\n                    if (i > 0) {\r\n                        output.add(sep);\r\n                    }\r\n                    context.firstSelector = true;\r\n                    path[0].genCSS(context, output);\r\n                    context.firstSelector = false;\r\n                    for (j = 1; j < pathSubCnt; j++) {\r\n                        path[j].genCSS(context, output);\r\n                    }\r\n                }\r\n                output.add((context.compress ? '{' : ' {\\n') + tabRuleStr);\r\n            }\r\n            // Compile rules and rulesets\r\n            for (i = 0; (rule = ruleNodes[i]); i++) {\r\n                if (i + 1 === ruleNodes.length) {\r\n                    context.lastRule = true;\r\n                }\r\n                var currentLastRule = context.lastRule;\r\n                if (rule.isRulesetLike(rule)) {\r\n                    context.lastRule = false;\r\n                }\r\n                if (rule.genCSS) {\r\n                    rule.genCSS(context, output);\r\n                }\r\n                else if (rule.value) {\r\n                    output.add(rule.value.toString());\r\n                }\r\n                context.lastRule = currentLastRule;\r\n                if (!context.lastRule && rule.isVisible()) {\r\n                    output.add(context.compress ? '' : (\"\\n\" + tabRuleStr));\r\n                }\r\n                else {\r\n                    context.lastRule = false;\r\n                }\r\n            }\r\n            if (!this.root) {\r\n                output.add((context.compress ? '}' : \"\\n\" + tabSetStr + \"}\"));\r\n                context.tabLevel--;\r\n            }\r\n            if (!output.isEmpty() && !context.compress && this.firstRoot) {\r\n                output.add('\\n');\r\n            }\r\n        },\r\n        joinSelectors: function (paths, context, selectors) {\r\n            for (var s = 0; s < selectors.length; s++) {\r\n                this.joinSelector(paths, context, selectors[s]);\r\n            }\r\n        },\r\n        joinSelector: function (paths, context, selector) {\r\n            function createParenthesis(elementsToPak, originalElement) {\r\n                var replacementParen, j;\r\n                if (elementsToPak.length === 0) {\r\n                    replacementParen = new Paren(elementsToPak[0]);\r\n                }\r\n                else {\r\n                    var insideParent = new Array(elementsToPak.length);\r\n                    for (j = 0; j < elementsToPak.length; j++) {\r\n                        insideParent[j] = new Element(null, elementsToPak[j], originalElement.isVariable, originalElement._index, originalElement._fileInfo);\r\n                    }\r\n                    replacementParen = new Paren(new Selector(insideParent));\r\n                }\r\n                return replacementParen;\r\n            }\r\n            function createSelector(containedElement, originalElement) {\r\n                var element, selector;\r\n                element = new Element(null, containedElement, originalElement.isVariable, originalElement._index, originalElement._fileInfo);\r\n                selector = new Selector([element]);\r\n                return selector;\r\n            }\r\n            // joins selector path from `beginningPath` with selector path in `addPath`\r\n            // `replacedElement` contains element that is being replaced by `addPath`\r\n            // returns concatenated path\r\n            function addReplacementIntoPath(beginningPath, addPath, replacedElement, originalSelector) {\r\n                var newSelectorPath, lastSelector, newJoinedSelector;\r\n                // our new selector path\r\n                newSelectorPath = [];\r\n                // construct the joined selector - if & is the first thing this will be empty,\r\n                // if not newJoinedSelector will be the last set of elements in the selector\r\n                if (beginningPath.length > 0) {\r\n                    newSelectorPath = copyArray(beginningPath);\r\n                    lastSelector = newSelectorPath.pop();\r\n                    newJoinedSelector = originalSelector.createDerived(copyArray(lastSelector.elements));\r\n                }\r\n                else {\r\n                    newJoinedSelector = originalSelector.createDerived([]);\r\n                }\r\n                if (addPath.length > 0) {\r\n                    // /deep/ is a CSS4 selector - (removed, so should deprecate)\r\n                    // that is valid without anything in front of it\r\n                    // so if the & does not have a combinator that is \"\" or \" \" then\r\n                    // and there is a combinator on the parent, then grab that.\r\n                    // this also allows + a { & .b { .a & { ... though not sure why you would want to do that\r\n                    var combinator = replacedElement.combinator;\r\n                    var parentEl = addPath[0].elements[0];\r\n                    if (combinator.emptyOrWhitespace && !parentEl.combinator.emptyOrWhitespace) {\r\n                        combinator = parentEl.combinator;\r\n                    }\r\n                    // join the elements so far with the first part of the parent\r\n                    newJoinedSelector.elements.push(new Element(combinator, parentEl.value, replacedElement.isVariable, replacedElement._index, replacedElement._fileInfo));\r\n                    newJoinedSelector.elements = newJoinedSelector.elements.concat(addPath[0].elements.slice(1));\r\n                }\r\n                // now add the joined selector - but only if it is not empty\r\n                if (newJoinedSelector.elements.length !== 0) {\r\n                    newSelectorPath.push(newJoinedSelector);\r\n                }\r\n                // put together the parent selectors after the join (e.g. the rest of the parent)\r\n                if (addPath.length > 1) {\r\n                    var restOfPath = addPath.slice(1);\r\n                    restOfPath = restOfPath.map(function (selector) {\r\n                        return selector.createDerived(selector.elements, []);\r\n                    });\r\n                    newSelectorPath = newSelectorPath.concat(restOfPath);\r\n                }\r\n                return newSelectorPath;\r\n            }\r\n            // joins selector path from `beginningPath` with every selector path in `addPaths` array\r\n            // `replacedElement` contains element that is being replaced by `addPath`\r\n            // returns array with all concatenated paths\r\n            function addAllReplacementsIntoPath(beginningPath, addPaths, replacedElement, originalSelector, result) {\r\n                var j;\r\n                for (j = 0; j < beginningPath.length; j++) {\r\n                    var newSelectorPath = addReplacementIntoPath(beginningPath[j], addPaths, replacedElement, originalSelector);\r\n                    result.push(newSelectorPath);\r\n                }\r\n                return result;\r\n            }\r\n            function mergeElementsOnToSelectors(elements, selectors) {\r\n                var i, sel;\r\n                if (elements.length === 0) {\r\n                    return;\r\n                }\r\n                if (selectors.length === 0) {\r\n                    selectors.push([new Selector(elements)]);\r\n                    return;\r\n                }\r\n                for (i = 0; (sel = selectors[i]); i++) {\r\n                    // if the previous thing in sel is a parent this needs to join on to it\r\n                    if (sel.length > 0) {\r\n                        sel[sel.length - 1] = sel[sel.length - 1].createDerived(sel[sel.length - 1].elements.concat(elements));\r\n                    }\r\n                    else {\r\n                        sel.push(new Selector(elements));\r\n                    }\r\n                }\r\n            }\r\n            // replace all parent selectors inside `inSelector` by content of `context` array\r\n            // resulting selectors are returned inside `paths` array\r\n            // returns true if `inSelector` contained at least one parent selector\r\n            function replaceParentSelector(paths, context, inSelector) {\r\n                // The paths are [[Selector]]\r\n                // The first list is a list of comma separated selectors\r\n                // The inner list is a list of inheritance separated selectors\r\n                // e.g.\r\n                // .a, .b {\r\n                //   .c {\r\n                //   }\r\n                // }\r\n                // == [[.a] [.c]] [[.b] [.c]]\r\n                //\r\n                var i, j, k, currentElements, newSelectors, selectorsMultiplied, sel, el, hadParentSelector = false, length, lastSelector;\r\n                function findNestedSelector(element) {\r\n                    var maybeSelector;\r\n                    if (!(element.value instanceof Paren)) {\r\n                        return null;\r\n                    }\r\n                    maybeSelector = element.value.value;\r\n                    if (!(maybeSelector instanceof Selector)) {\r\n                        return null;\r\n                    }\r\n                    return maybeSelector;\r\n                }\r\n                // the elements from the current selector so far\r\n                currentElements = [];\r\n                // the current list of new selectors to add to the path.\r\n                // We will build it up. We initiate it with one empty selector as we \"multiply\" the new selectors\r\n                // by the parents\r\n                newSelectors = [\r\n                    []\r\n                ];\r\n                for (i = 0; (el = inSelector.elements[i]); i++) {\r\n                    // non parent reference elements just get added\r\n                    if (el.value !== '&') {\r\n                        var nestedSelector = findNestedSelector(el);\r\n                        if (nestedSelector != null) {\r\n                            // merge the current list of non parent selector elements\r\n                            // on to the current list of selectors to add\r\n                            mergeElementsOnToSelectors(currentElements, newSelectors);\r\n                            var nestedPaths = [];\r\n                            var replaced = void 0;\r\n                            var replacedNewSelectors = [];\r\n                            replaced = replaceParentSelector(nestedPaths, context, nestedSelector);\r\n                            hadParentSelector = hadParentSelector || replaced;\r\n                            // the nestedPaths array should have only one member - replaceParentSelector does not multiply selectors\r\n                            for (k = 0; k < nestedPaths.length; k++) {\r\n                                var replacementSelector = createSelector(createParenthesis(nestedPaths[k], el), el);\r\n                                addAllReplacementsIntoPath(newSelectors, [replacementSelector], el, inSelector, replacedNewSelectors);\r\n                            }\r\n                            newSelectors = replacedNewSelectors;\r\n                            currentElements = [];\r\n                        }\r\n                        else {\r\n                            currentElements.push(el);\r\n                        }\r\n                    }\r\n                    else {\r\n                        hadParentSelector = true;\r\n                        // the new list of selectors to add\r\n                        selectorsMultiplied = [];\r\n                        // merge the current list of non parent selector elements\r\n                        // on to the current list of selectors to add\r\n                        mergeElementsOnToSelectors(currentElements, newSelectors);\r\n                        // loop through our current selectors\r\n                        for (j = 0; j < newSelectors.length; j++) {\r\n                            sel = newSelectors[j];\r\n                            // if we don't have any parent paths, the & might be in a mixin so that it can be used\r\n                            // whether there are parents or not\r\n                            if (context.length === 0) {\r\n                                // the combinator used on el should now be applied to the next element instead so that\r\n                                // it is not lost\r\n                                if (sel.length > 0) {\r\n                                    sel[0].elements.push(new Element(el.combinator, '', el.isVariable, el._index, el._fileInfo));\r\n                                }\r\n                                selectorsMultiplied.push(sel);\r\n                            }\r\n                            else {\r\n                                // and the parent selectors\r\n                                for (k = 0; k < context.length; k++) {\r\n                                    // We need to put the current selectors\r\n                                    // then join the last selector's elements on to the parents selectors\r\n                                    var newSelectorPath = addReplacementIntoPath(sel, context[k], el, inSelector);\r\n                                    // add that to our new set of selectors\r\n                                    selectorsMultiplied.push(newSelectorPath);\r\n                                }\r\n                            }\r\n                        }\r\n                        // our new selectors has been multiplied, so reset the state\r\n                        newSelectors = selectorsMultiplied;\r\n                        currentElements = [];\r\n                    }\r\n                }\r\n                // if we have any elements left over (e.g. .a& .b == .b)\r\n                // add them on to all the current selectors\r\n                mergeElementsOnToSelectors(currentElements, newSelectors);\r\n                for (i = 0; i < newSelectors.length; i++) {\r\n                    length = newSelectors[i].length;\r\n                    if (length > 0) {\r\n                        paths.push(newSelectors[i]);\r\n                        lastSelector = newSelectors[i][length - 1];\r\n                        newSelectors[i][length - 1] = lastSelector.createDerived(lastSelector.elements, inSelector.extendList);\r\n                    }\r\n                }\r\n                return hadParentSelector;\r\n            }\r\n            function deriveSelector(visibilityInfo, deriveFrom) {\r\n                var newSelector = deriveFrom.createDerived(deriveFrom.elements, deriveFrom.extendList, deriveFrom.evaldCondition);\r\n                newSelector.copyVisibilityInfo(visibilityInfo);\r\n                return newSelector;\r\n            }\r\n            // joinSelector code follows\r\n            var i, newPaths, hadParentSelector;\r\n            newPaths = [];\r\n            hadParentSelector = replaceParentSelector(newPaths, context, selector);\r\n            if (!hadParentSelector) {\r\n                if (context.length > 0) {\r\n                    newPaths = [];\r\n                    for (i = 0; i < context.length; i++) {\r\n                        var concatenated = context[i].map(deriveSelector.bind(this, selector.visibilityInfo()));\r\n                        concatenated.push(selector);\r\n                        newPaths.push(concatenated);\r\n                    }\r\n                }\r\n                else {\r\n                    newPaths = [[selector]];\r\n                }\r\n            }\r\n            for (i = 0; i < newPaths.length; i++) {\r\n                paths.push(newPaths[i]);\r\n            }\r\n        }\r\n    });\n\n    var AtRule = function (name, value, rules, index, currentFileInfo, debugInfo, isRooted, visibilityInfo) {\r\n        var i;\r\n        this.name = name;\r\n        this.value = (value instanceof Node) ? value : (value ? new Anonymous(value) : value);\r\n        if (rules) {\r\n            if (Array.isArray(rules)) {\r\n                this.rules = rules;\r\n            }\r\n            else {\r\n                this.rules = [rules];\r\n                this.rules[0].selectors = (new Selector([], null, null, index, currentFileInfo)).createEmptySelectors();\r\n            }\r\n            for (i = 0; i < this.rules.length; i++) {\r\n                this.rules[i].allowImports = true;\r\n            }\r\n            this.setParent(this.rules, this);\r\n        }\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n        this.debugInfo = debugInfo;\r\n        this.isRooted = isRooted || false;\r\n        this.copyVisibilityInfo(visibilityInfo);\r\n        this.allowRoot = true;\r\n    };\r\n    AtRule.prototype = Object.assign(new Node(), {\r\n        type: 'AtRule',\r\n        accept: function (visitor) {\r\n            var value = this.value, rules = this.rules;\r\n            if (rules) {\r\n                this.rules = visitor.visitArray(rules);\r\n            }\r\n            if (value) {\r\n                this.value = visitor.visit(value);\r\n            }\r\n        },\r\n        isRulesetLike: function () {\r\n            return this.rules || !this.isCharset();\r\n        },\r\n        isCharset: function () {\r\n            return '@charset' === this.name;\r\n        },\r\n        genCSS: function (context, output) {\r\n            var value = this.value, rules = this.rules;\r\n            output.add(this.name, this.fileInfo(), this.getIndex());\r\n            if (value) {\r\n                output.add(' ');\r\n                value.genCSS(context, output);\r\n            }\r\n            if (rules) {\r\n                this.outputRuleset(context, output, rules);\r\n            }\r\n            else {\r\n                output.add(';');\r\n            }\r\n        },\r\n        eval: function (context) {\r\n            var mediaPathBackup, mediaBlocksBackup, value = this.value, rules = this.rules;\r\n            // media stored inside other atrule should not bubble over it\r\n            // backpup media bubbling information\r\n            mediaPathBackup = context.mediaPath;\r\n            mediaBlocksBackup = context.mediaBlocks;\r\n            // deleted media bubbling information\r\n            context.mediaPath = [];\r\n            context.mediaBlocks = [];\r\n            if (value) {\r\n                value = value.eval(context);\r\n            }\r\n            if (rules) {\r\n                // assuming that there is only one rule at this point - that is how parser constructs the rule\r\n                rules = [rules[0].eval(context)];\r\n                rules[0].root = true;\r\n            }\r\n            // restore media bubbling information\r\n            context.mediaPath = mediaPathBackup;\r\n            context.mediaBlocks = mediaBlocksBackup;\r\n            return new AtRule(this.name, value, rules, this.getIndex(), this.fileInfo(), this.debugInfo, this.isRooted, this.visibilityInfo());\r\n        },\r\n        variable: function (name) {\r\n            if (this.rules) {\r\n                // assuming that there is only one rule at this point - that is how parser constructs the rule\r\n                return Ruleset.prototype.variable.call(this.rules[0], name);\r\n            }\r\n        },\r\n        find: function () {\r\n            if (this.rules) {\r\n                // assuming that there is only one rule at this point - that is how parser constructs the rule\r\n                return Ruleset.prototype.find.apply(this.rules[0], arguments);\r\n            }\r\n        },\r\n        rulesets: function () {\r\n            if (this.rules) {\r\n                // assuming that there is only one rule at this point - that is how parser constructs the rule\r\n                return Ruleset.prototype.rulesets.apply(this.rules[0]);\r\n            }\r\n        },\r\n        outputRuleset: function (context, output, rules) {\r\n            var ruleCnt = rules.length;\r\n            var i;\r\n            context.tabLevel = (context.tabLevel | 0) + 1;\r\n            // Compressed\r\n            if (context.compress) {\r\n                output.add('{');\r\n                for (i = 0; i < ruleCnt; i++) {\r\n                    rules[i].genCSS(context, output);\r\n                }\r\n                output.add('}');\r\n                context.tabLevel--;\r\n                return;\r\n            }\r\n            // Non-compressed\r\n            var tabSetStr = \"\\n\" + Array(context.tabLevel).join('  '), tabRuleStr = tabSetStr + \"  \";\r\n            if (!ruleCnt) {\r\n                output.add(\" {\" + tabSetStr + \"}\");\r\n            }\r\n            else {\r\n                output.add(\" {\" + tabRuleStr);\r\n                rules[0].genCSS(context, output);\r\n                for (i = 1; i < ruleCnt; i++) {\r\n                    output.add(tabRuleStr);\r\n                    rules[i].genCSS(context, output);\r\n                }\r\n                output.add(tabSetStr + \"}\");\r\n            }\r\n            context.tabLevel--;\r\n        }\r\n    });\n\n    var DetachedRuleset = function (ruleset, frames) {\r\n        this.ruleset = ruleset;\r\n        this.frames = frames;\r\n        this.setParent(this.ruleset, this);\r\n    };\r\n    DetachedRuleset.prototype = Object.assign(new Node(), {\r\n        type: 'DetachedRuleset',\r\n        evalFirst: true,\r\n        accept: function (visitor) {\r\n            this.ruleset = visitor.visit(this.ruleset);\r\n        },\r\n        eval: function (context) {\r\n            var frames = this.frames || copyArray(context.frames);\r\n            return new DetachedRuleset(this.ruleset, frames);\r\n        },\r\n        callEval: function (context) {\r\n            return this.ruleset.eval(this.frames ? new contexts.Eval(context, this.frames.concat(context.frames)) : context);\r\n        }\r\n    });\n\n    var Unit = function (numerator, denominator, backupUnit) {\r\n        this.numerator = numerator ? copyArray(numerator).sort() : [];\r\n        this.denominator = denominator ? copyArray(denominator).sort() : [];\r\n        if (backupUnit) {\r\n            this.backupUnit = backupUnit;\r\n        }\r\n        else if (numerator && numerator.length) {\r\n            this.backupUnit = numerator[0];\r\n        }\r\n    };\r\n    Unit.prototype = Object.assign(new Node(), {\r\n        type: 'Unit',\r\n        clone: function () {\r\n            return new Unit(copyArray(this.numerator), copyArray(this.denominator), this.backupUnit);\r\n        },\r\n        genCSS: function (context, output) {\r\n            // Dimension checks the unit is singular and throws an error if in strict math mode.\r\n            var strictUnits = context && context.strictUnits;\r\n            if (this.numerator.length === 1) {\r\n                output.add(this.numerator[0]); // the ideal situation\r\n            }\r\n            else if (!strictUnits && this.backupUnit) {\r\n                output.add(this.backupUnit);\r\n            }\r\n            else if (!strictUnits && this.denominator.length) {\r\n                output.add(this.denominator[0]);\r\n            }\r\n        },\r\n        toString: function () {\r\n            var i, returnStr = this.numerator.join('*');\r\n            for (i = 0; i < this.denominator.length; i++) {\r\n                returnStr += \"/\" + this.denominator[i];\r\n            }\r\n            return returnStr;\r\n        },\r\n        compare: function (other) {\r\n            return this.is(other.toString()) ? 0 : undefined;\r\n        },\r\n        is: function (unitString) {\r\n            return this.toString().toUpperCase() === unitString.toUpperCase();\r\n        },\r\n        isLength: function () {\r\n            return RegExp('^(px|em|ex|ch|rem|in|cm|mm|pc|pt|ex|vw|vh|vmin|vmax)$', 'gi').test(this.toCSS());\r\n        },\r\n        isEmpty: function () {\r\n            return this.numerator.length === 0 && this.denominator.length === 0;\r\n        },\r\n        isSingular: function () {\r\n            return this.numerator.length <= 1 && this.denominator.length === 0;\r\n        },\r\n        map: function (callback) {\r\n            var i;\r\n            for (i = 0; i < this.numerator.length; i++) {\r\n                this.numerator[i] = callback(this.numerator[i], false);\r\n            }\r\n            for (i = 0; i < this.denominator.length; i++) {\r\n                this.denominator[i] = callback(this.denominator[i], true);\r\n            }\r\n        },\r\n        usedUnits: function () {\r\n            var group;\r\n            var result = {};\r\n            var mapUnit;\r\n            var groupName;\r\n            mapUnit = function (atomicUnit) {\r\n                /* jshint loopfunc:true */\r\n                if (group.hasOwnProperty(atomicUnit) && !result[groupName]) {\r\n                    result[groupName] = atomicUnit;\r\n                }\r\n                return atomicUnit;\r\n            };\r\n            for (groupName in unitConversions) {\r\n                if (unitConversions.hasOwnProperty(groupName)) {\r\n                    group = unitConversions[groupName];\r\n                    this.map(mapUnit);\r\n                }\r\n            }\r\n            return result;\r\n        },\r\n        cancel: function () {\r\n            var counter = {};\r\n            var atomicUnit;\r\n            var i;\r\n            for (i = 0; i < this.numerator.length; i++) {\r\n                atomicUnit = this.numerator[i];\r\n                counter[atomicUnit] = (counter[atomicUnit] || 0) + 1;\r\n            }\r\n            for (i = 0; i < this.denominator.length; i++) {\r\n                atomicUnit = this.denominator[i];\r\n                counter[atomicUnit] = (counter[atomicUnit] || 0) - 1;\r\n            }\r\n            this.numerator = [];\r\n            this.denominator = [];\r\n            for (atomicUnit in counter) {\r\n                if (counter.hasOwnProperty(atomicUnit)) {\r\n                    var count = counter[atomicUnit];\r\n                    if (count > 0) {\r\n                        for (i = 0; i < count; i++) {\r\n                            this.numerator.push(atomicUnit);\r\n                        }\r\n                    }\r\n                    else if (count < 0) {\r\n                        for (i = 0; i < -count; i++) {\r\n                            this.denominator.push(atomicUnit);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.numerator.sort();\r\n            this.denominator.sort();\r\n        }\r\n    });\n\n    //\r\n    // A number with a unit\r\n    //\r\n    var Dimension = function (value, unit) {\r\n        this.value = parseFloat(value);\r\n        if (isNaN(this.value)) {\r\n            throw new Error('Dimension is not a number.');\r\n        }\r\n        this.unit = (unit && unit instanceof Unit) ? unit :\r\n            new Unit(unit ? [unit] : undefined);\r\n        this.setParent(this.unit, this);\r\n    };\r\n    Dimension.prototype = Object.assign(new Node(), {\r\n        type: 'Dimension',\r\n        accept: function (visitor) {\r\n            this.unit = visitor.visit(this.unit);\r\n        },\r\n        eval: function (context) {\r\n            return this;\r\n        },\r\n        toColor: function () {\r\n            return new Color([this.value, this.value, this.value]);\r\n        },\r\n        genCSS: function (context, output) {\r\n            if ((context && context.strictUnits) && !this.unit.isSingular()) {\r\n                throw new Error(\"Multiple units in dimension. Correct the units or use the unit function. Bad unit: \" + this.unit.toString());\r\n            }\r\n            var value = this.fround(context, this.value);\r\n            var strValue = String(value);\r\n            if (value !== 0 && value < 0.000001 && value > -0.000001) {\r\n                // would be output 1e-6 etc.\r\n                strValue = value.toFixed(20).replace(/0+$/, '');\r\n            }\r\n            if (context && context.compress) {\r\n                // Zero values doesn't need a unit\r\n                if (value === 0 && this.unit.isLength()) {\r\n                    output.add(strValue);\r\n                    return;\r\n                }\r\n                // Float values doesn't need a leading zero\r\n                if (value > 0 && value < 1) {\r\n                    strValue = (strValue).substr(1);\r\n                }\r\n            }\r\n            output.add(strValue);\r\n            this.unit.genCSS(context, output);\r\n        },\r\n        // In an operation between two Dimensions,\r\n        // we default to the first Dimension's unit,\r\n        // so `1px + 2` will yield `3px`.\r\n        operate: function (context, op, other) {\r\n            /* jshint noempty:false */\r\n            var value = this._operate(context, op, this.value, other.value);\r\n            var unit = this.unit.clone();\r\n            if (op === '+' || op === '-') {\r\n                if (unit.numerator.length === 0 && unit.denominator.length === 0) {\r\n                    unit = other.unit.clone();\r\n                    if (this.unit.backupUnit) {\r\n                        unit.backupUnit = this.unit.backupUnit;\r\n                    }\r\n                }\r\n                else if (other.unit.numerator.length === 0 && unit.denominator.length === 0) ;\r\n                else {\r\n                    other = other.convertTo(this.unit.usedUnits());\r\n                    if (context.strictUnits && other.unit.toString() !== unit.toString()) {\r\n                        throw new Error(\"Incompatible units. Change the units or use the unit function. \"\r\n                            + (\"Bad units: '\" + unit.toString() + \"' and '\" + other.unit.toString() + \"'.\"));\r\n                    }\r\n                    value = this._operate(context, op, this.value, other.value);\r\n                }\r\n            }\r\n            else if (op === '*') {\r\n                unit.numerator = unit.numerator.concat(other.unit.numerator).sort();\r\n                unit.denominator = unit.denominator.concat(other.unit.denominator).sort();\r\n                unit.cancel();\r\n            }\r\n            else if (op === '/') {\r\n                unit.numerator = unit.numerator.concat(other.unit.denominator).sort();\r\n                unit.denominator = unit.denominator.concat(other.unit.numerator).sort();\r\n                unit.cancel();\r\n            }\r\n            return new Dimension(value, unit);\r\n        },\r\n        compare: function (other) {\r\n            var a, b;\r\n            if (!(other instanceof Dimension)) {\r\n                return undefined;\r\n            }\r\n            if (this.unit.isEmpty() || other.unit.isEmpty()) {\r\n                a = this;\r\n                b = other;\r\n            }\r\n            else {\r\n                a = this.unify();\r\n                b = other.unify();\r\n                if (a.unit.compare(b.unit) !== 0) {\r\n                    return undefined;\r\n                }\r\n            }\r\n            return Node.numericCompare(a.value, b.value);\r\n        },\r\n        unify: function () {\r\n            return this.convertTo({ length: 'px', duration: 's', angle: 'rad' });\r\n        },\r\n        convertTo: function (conversions) {\r\n            var value = this.value;\r\n            var unit = this.unit.clone();\r\n            var i;\r\n            var groupName;\r\n            var group;\r\n            var targetUnit;\r\n            var derivedConversions = {};\r\n            var applyUnit;\r\n            if (typeof conversions === 'string') {\r\n                for (i in unitConversions) {\r\n                    if (unitConversions[i].hasOwnProperty(conversions)) {\r\n                        derivedConversions = {};\r\n                        derivedConversions[i] = conversions;\r\n                    }\r\n                }\r\n                conversions = derivedConversions;\r\n            }\r\n            applyUnit = function (atomicUnit, denominator) {\r\n                /* jshint loopfunc:true */\r\n                if (group.hasOwnProperty(atomicUnit)) {\r\n                    if (denominator) {\r\n                        value = value / (group[atomicUnit] / group[targetUnit]);\r\n                    }\r\n                    else {\r\n                        value = value * (group[atomicUnit] / group[targetUnit]);\r\n                    }\r\n                    return targetUnit;\r\n                }\r\n                return atomicUnit;\r\n            };\r\n            for (groupName in conversions) {\r\n                if (conversions.hasOwnProperty(groupName)) {\r\n                    targetUnit = conversions[groupName];\r\n                    group = unitConversions[groupName];\r\n                    unit.map(applyUnit);\r\n                }\r\n            }\r\n            unit.cancel();\r\n            return new Dimension(value, unit);\r\n        }\r\n    });\n\n    var MATH = Math$1;\r\n    var Operation = function (op, operands, isSpaced) {\r\n        this.op = op.trim();\r\n        this.operands = operands;\r\n        this.isSpaced = isSpaced;\r\n    };\r\n    Operation.prototype = Object.assign(new Node(), {\r\n        type: 'Operation',\r\n        accept: function (visitor) {\r\n            this.operands = visitor.visitArray(this.operands);\r\n        },\r\n        eval: function (context) {\r\n            var a = this.operands[0].eval(context), b = this.operands[1].eval(context), op;\r\n            if (context.isMathOn(this.op)) {\r\n                op = this.op === './' ? '/' : this.op;\r\n                if (a instanceof Dimension && b instanceof Color) {\r\n                    a = a.toColor();\r\n                }\r\n                if (b instanceof Dimension && a instanceof Color) {\r\n                    b = b.toColor();\r\n                }\r\n                if (!a.operate || !b.operate) {\r\n                    if ((a instanceof Operation || b instanceof Operation)\r\n                        && a.op === '/' && context.math === MATH.PARENS_DIVISION) {\r\n                        return new Operation(this.op, [a, b], this.isSpaced);\r\n                    }\r\n                    throw { type: 'Operation',\r\n                        message: 'Operation on an invalid type' };\r\n                }\r\n                return a.operate(context, op, b);\r\n            }\r\n            else {\r\n                return new Operation(this.op, [a, b], this.isSpaced);\r\n            }\r\n        },\r\n        genCSS: function (context, output) {\r\n            this.operands[0].genCSS(context, output);\r\n            if (this.isSpaced) {\r\n                output.add(' ');\r\n            }\r\n            output.add(this.op);\r\n            if (this.isSpaced) {\r\n                output.add(' ');\r\n            }\r\n            this.operands[1].genCSS(context, output);\r\n        }\r\n    });\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\r\n\r\n    function __spreadArray(to, from, pack) {\r\n        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n            if (ar || !(i in from)) {\r\n                if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n                ar[i] = from[i];\r\n            }\r\n        }\r\n        return to.concat(ar || from);\r\n    }\n\n    var Expression = function (value, noSpacing) {\r\n        this.value = value;\r\n        this.noSpacing = noSpacing;\r\n        if (!value) {\r\n            throw new Error('Expression requires an array parameter');\r\n        }\r\n    };\r\n    Expression.prototype = Object.assign(new Node(), {\r\n        type: 'Expression',\r\n        accept: function (visitor) {\r\n            this.value = visitor.visitArray(this.value);\r\n        },\r\n        eval: function (context) {\r\n            var returnValue;\r\n            var mathOn = context.isMathOn();\r\n            var inParenthesis = this.parens;\r\n            var doubleParen = false;\r\n            if (inParenthesis) {\r\n                context.inParenthesis();\r\n            }\r\n            if (this.value.length > 1) {\r\n                returnValue = new Expression(this.value.map(function (e) {\r\n                    if (!e.eval) {\r\n                        return e;\r\n                    }\r\n                    return e.eval(context);\r\n                }), this.noSpacing);\r\n            }\r\n            else if (this.value.length === 1) {\r\n                if (this.value[0].parens && !this.value[0].parensInOp && !context.inCalc) {\r\n                    doubleParen = true;\r\n                }\r\n                returnValue = this.value[0].eval(context);\r\n            }\r\n            else {\r\n                returnValue = this;\r\n            }\r\n            if (inParenthesis) {\r\n                context.outOfParenthesis();\r\n            }\r\n            if (this.parens && this.parensInOp && !mathOn && !doubleParen\r\n                && (!(returnValue instanceof Dimension))) {\r\n                returnValue = new Paren(returnValue);\r\n            }\r\n            return returnValue;\r\n        },\r\n        genCSS: function (context, output) {\r\n            for (var i = 0; i < this.value.length; i++) {\r\n                this.value[i].genCSS(context, output);\r\n                if (!this.noSpacing && i + 1 < this.value.length) {\r\n                    output.add(' ');\r\n                }\r\n            }\r\n        },\r\n        throwAwayComments: function () {\r\n            this.value = this.value.filter(function (v) {\r\n                return !(v instanceof Comment);\r\n            });\r\n        }\r\n    });\n\n    var functionCaller = /** @class */ (function () {\r\n        function functionCaller(name, context, index, currentFileInfo) {\r\n            this.name = name.toLowerCase();\r\n            this.index = index;\r\n            this.context = context;\r\n            this.currentFileInfo = currentFileInfo;\r\n            this.func = context.frames[0].functionRegistry.get(this.name);\r\n        }\r\n        functionCaller.prototype.isValid = function () {\r\n            return Boolean(this.func);\r\n        };\r\n        functionCaller.prototype.call = function (args) {\r\n            var _this = this;\r\n            if (!(Array.isArray(args))) {\r\n                args = [args];\r\n            }\r\n            var evalArgs = this.func.evalArgs;\r\n            if (evalArgs !== false) {\r\n                args = args.map(function (a) { return a.eval(_this.context); });\r\n            }\r\n            var commentFilter = function (item) { return !(item.type === 'Comment'); };\r\n            // This code is terrible and should be replaced as per this issue...\r\n            // https://github.com/less/less.js/issues/2477\r\n            args = args\r\n                .filter(commentFilter)\r\n                .map(function (item) {\r\n                if (item.type === 'Expression') {\r\n                    var subNodes = item.value.filter(commentFilter);\r\n                    if (subNodes.length === 1) {\r\n                        // https://github.com/less/less.js/issues/3616\r\n                        if (item.parens && subNodes[0].op === '/') {\r\n                            return item;\r\n                        }\r\n                        return subNodes[0];\r\n                    }\r\n                    else {\r\n                        return new Expression(subNodes);\r\n                    }\r\n                }\r\n                return item;\r\n            });\r\n            if (evalArgs === false) {\r\n                return this.func.apply(this, __spreadArray([this.context], args));\r\n            }\r\n            return this.func.apply(this, args);\r\n        };\r\n        return functionCaller;\r\n    }());\n\n    //\r\n    // A function call node.\r\n    //\r\n    var Call = function (name, args, index, currentFileInfo) {\r\n        this.name = name;\r\n        this.args = args;\r\n        this.calc = name === 'calc';\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n    };\r\n    Call.prototype = Object.assign(new Node(), {\r\n        type: 'Call',\r\n        accept: function (visitor) {\r\n            if (this.args) {\r\n                this.args = visitor.visitArray(this.args);\r\n            }\r\n        },\r\n        //\r\n        // When evaluating a function call,\r\n        // we either find the function in the functionRegistry,\r\n        // in which case we call it, passing the  evaluated arguments,\r\n        // if this returns null or we cannot find the function, we\r\n        // simply print it out as it appeared originally [2].\r\n        //\r\n        // The reason why we evaluate the arguments, is in the case where\r\n        // we try to pass a variable to a function, like: `saturate(@color)`.\r\n        // The function should receive the value, not the variable.\r\n        //\r\n        eval: function (context) {\r\n            var _this = this;\r\n            /**\r\n             * Turn off math for calc(), and switch back on for evaluating nested functions\r\n             */\r\n            var currentMathContext = context.mathOn;\r\n            context.mathOn = !this.calc;\r\n            if (this.calc || context.inCalc) {\r\n                context.enterCalc();\r\n            }\r\n            var exitCalc = function () {\r\n                if (_this.calc || context.inCalc) {\r\n                    context.exitCalc();\r\n                }\r\n                context.mathOn = currentMathContext;\r\n            };\r\n            var result;\r\n            var funcCaller = new functionCaller(this.name, context, this.getIndex(), this.fileInfo());\r\n            if (funcCaller.isValid()) {\r\n                try {\r\n                    result = funcCaller.call(this.args);\r\n                    exitCalc();\r\n                }\r\n                catch (e) {\r\n                    if (e.hasOwnProperty('line') && e.hasOwnProperty('column')) {\r\n                        throw e;\r\n                    }\r\n                    throw {\r\n                        type: e.type || 'Runtime',\r\n                        message: \"Error evaluating function `\" + this.name + \"`\" + (e.message ? \": \" + e.message : ''),\r\n                        index: this.getIndex(),\r\n                        filename: this.fileInfo().filename,\r\n                        line: e.lineNumber,\r\n                        column: e.columnNumber\r\n                    };\r\n                }\r\n            }\r\n            if (result !== null && result !== undefined) {\r\n                // Results that that are not nodes are cast as Anonymous nodes\r\n                // Falsy values or booleans are returned as empty nodes\r\n                if (!(result instanceof Node)) {\r\n                    if (!result || result === true) {\r\n                        result = new Anonymous(null);\r\n                    }\r\n                    else {\r\n                        result = new Anonymous(result.toString());\r\n                    }\r\n                }\r\n                result._index = this._index;\r\n                result._fileInfo = this._fileInfo;\r\n                return result;\r\n            }\r\n            var args = this.args.map(function (a) { return a.eval(context); });\r\n            exitCalc();\r\n            return new Call(this.name, args, this.getIndex(), this.fileInfo());\r\n        },\r\n        genCSS: function (context, output) {\r\n            output.add(this.name + \"(\", this.fileInfo(), this.getIndex());\r\n            for (var i = 0; i < this.args.length; i++) {\r\n                this.args[i].genCSS(context, output);\r\n                if (i + 1 < this.args.length) {\r\n                    output.add(', ');\r\n                }\r\n            }\r\n            output.add(')');\r\n        }\r\n    });\n\n    var Variable = function (name, index, currentFileInfo) {\r\n        this.name = name;\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n    };\r\n    Variable.prototype = Object.assign(new Node(), {\r\n        type: 'Variable',\r\n        eval: function (context) {\r\n            var variable, name = this.name;\r\n            if (name.indexOf('@@') === 0) {\r\n                name = \"@\" + new Variable(name.slice(1), this.getIndex(), this.fileInfo()).eval(context).value;\r\n            }\r\n            if (this.evaluating) {\r\n                throw { type: 'Name',\r\n                    message: \"Recursive variable definition for \" + name,\r\n                    filename: this.fileInfo().filename,\r\n                    index: this.getIndex() };\r\n            }\r\n            this.evaluating = true;\r\n            variable = this.find(context.frames, function (frame) {\r\n                var v = frame.variable(name);\r\n                if (v) {\r\n                    if (v.important) {\r\n                        var importantScope = context.importantScope[context.importantScope.length - 1];\r\n                        importantScope.important = v.important;\r\n                    }\r\n                    // If in calc, wrap vars in a function call to cascade evaluate args first\r\n                    if (context.inCalc) {\r\n                        return (new Call('_SELF', [v.value])).eval(context);\r\n                    }\r\n                    else {\r\n                        return v.value.eval(context);\r\n                    }\r\n                }\r\n            });\r\n            if (variable) {\r\n                this.evaluating = false;\r\n                return variable;\r\n            }\r\n            else {\r\n                throw { type: 'Name',\r\n                    message: \"variable \" + name + \" is undefined\",\r\n                    filename: this.fileInfo().filename,\r\n                    index: this.getIndex() };\r\n            }\r\n        },\r\n        find: function (obj, fun) {\r\n            for (var i = 0, r = void 0; i < obj.length; i++) {\r\n                r = fun.call(obj, obj[i]);\r\n                if (r) {\r\n                    return r;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    });\n\n    var Property = function (name, index, currentFileInfo) {\r\n        this.name = name;\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n    };\r\n    Property.prototype = Object.assign(new Node(), {\r\n        type: 'Property',\r\n        eval: function (context) {\r\n            var property;\r\n            var name = this.name;\r\n            // TODO: shorten this reference\r\n            var mergeRules = context.pluginManager.less.visitors.ToCSSVisitor.prototype._mergeRules;\r\n            if (this.evaluating) {\r\n                throw { type: 'Name',\r\n                    message: \"Recursive property reference for \" + name,\r\n                    filename: this.fileInfo().filename,\r\n                    index: this.getIndex() };\r\n            }\r\n            this.evaluating = true;\r\n            property = this.find(context.frames, function (frame) {\r\n                var v;\r\n                var vArr = frame.property(name);\r\n                if (vArr) {\r\n                    for (var i = 0; i < vArr.length; i++) {\r\n                        v = vArr[i];\r\n                        vArr[i] = new Declaration(v.name, v.value, v.important, v.merge, v.index, v.currentFileInfo, v.inline, v.variable);\r\n                    }\r\n                    mergeRules(vArr);\r\n                    v = vArr[vArr.length - 1];\r\n                    if (v.important) {\r\n                        var importantScope = context.importantScope[context.importantScope.length - 1];\r\n                        importantScope.important = v.important;\r\n                    }\r\n                    v = v.value.eval(context);\r\n                    return v;\r\n                }\r\n            });\r\n            if (property) {\r\n                this.evaluating = false;\r\n                return property;\r\n            }\r\n            else {\r\n                throw { type: 'Name',\r\n                    message: \"Property '\" + name + \"' is undefined\",\r\n                    filename: this.currentFileInfo.filename,\r\n                    index: this.index };\r\n            }\r\n        },\r\n        find: function (obj, fun) {\r\n            for (var i = 0, r = void 0; i < obj.length; i++) {\r\n                r = fun.call(obj, obj[i]);\r\n                if (r) {\r\n                    return r;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    });\n\n    var Attribute = function (key, op, value, cif) {\r\n        this.key = key;\r\n        this.op = op;\r\n        this.value = value;\r\n        this.cif = cif;\r\n    };\r\n    Attribute.prototype = Object.assign(new Node(), {\r\n        type: 'Attribute',\r\n        eval: function (context) {\r\n            return new Attribute(this.key.eval ? this.key.eval(context) : this.key, this.op, (this.value && this.value.eval) ? this.value.eval(context) : this.value, this.cif);\r\n        },\r\n        genCSS: function (context, output) {\r\n            output.add(this.toCSS(context));\r\n        },\r\n        toCSS: function (context) {\r\n            var value = this.key.toCSS ? this.key.toCSS(context) : this.key;\r\n            if (this.op) {\r\n                value += this.op;\r\n                value += (this.value.toCSS ? this.value.toCSS(context) : this.value);\r\n            }\r\n            if (this.cif) {\r\n                value = value + \" \" + this.cif;\r\n            }\r\n            return \"[\" + value + \"]\";\r\n        }\r\n    });\n\n    var Quoted = function (str, content, escaped, index, currentFileInfo) {\r\n        this.escaped = (escaped == null) ? true : escaped;\r\n        this.value = content || '';\r\n        this.quote = str.charAt(0);\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n        this.variableRegex = /@\\{([\\w-]+)\\}/g;\r\n        this.propRegex = /\\$\\{([\\w-]+)\\}/g;\r\n        this.allowRoot = escaped;\r\n    };\r\n    Quoted.prototype = Object.assign(new Node(), {\r\n        type: 'Quoted',\r\n        genCSS: function (context, output) {\r\n            if (!this.escaped) {\r\n                output.add(this.quote, this.fileInfo(), this.getIndex());\r\n            }\r\n            output.add(this.value);\r\n            if (!this.escaped) {\r\n                output.add(this.quote);\r\n            }\r\n        },\r\n        containsVariables: function () {\r\n            return this.value.match(this.variableRegex);\r\n        },\r\n        eval: function (context) {\r\n            var that = this;\r\n            var value = this.value;\r\n            var variableReplacement = function (_, name) {\r\n                var v = new Variable(\"@\" + name, that.getIndex(), that.fileInfo()).eval(context, true);\r\n                return (v instanceof Quoted) ? v.value : v.toCSS();\r\n            };\r\n            var propertyReplacement = function (_, name) {\r\n                var v = new Property(\"$\" + name, that.getIndex(), that.fileInfo()).eval(context, true);\r\n                return (v instanceof Quoted) ? v.value : v.toCSS();\r\n            };\r\n            function iterativeReplace(value, regexp, replacementFnc) {\r\n                var evaluatedValue = value;\r\n                do {\r\n                    value = evaluatedValue.toString();\r\n                    evaluatedValue = value.replace(regexp, replacementFnc);\r\n                } while (value !== evaluatedValue);\r\n                return evaluatedValue;\r\n            }\r\n            value = iterativeReplace(value, this.variableRegex, variableReplacement);\r\n            value = iterativeReplace(value, this.propRegex, propertyReplacement);\r\n            return new Quoted(this.quote + value + this.quote, value, this.escaped, this.getIndex(), this.fileInfo());\r\n        },\r\n        compare: function (other) {\r\n            // when comparing quoted strings allow the quote to differ\r\n            if (other.type === 'Quoted' && !this.escaped && !other.escaped) {\r\n                return Node.numericCompare(this.value, other.value);\r\n            }\r\n            else {\r\n                return other.toCSS && this.toCSS() === other.toCSS() ? 0 : undefined;\r\n            }\r\n        }\r\n    });\n\n    function escapePath(path) {\r\n        return path.replace(/[\\(\\)'\"\\s]/g, function (match) { return \"\\\\\" + match; });\r\n    }\r\n    var URL = function (val, index, currentFileInfo, isEvald) {\r\n        this.value = val;\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n        this.isEvald = isEvald;\r\n    };\r\n    URL.prototype = Object.assign(new Node(), {\r\n        type: 'Url',\r\n        accept: function (visitor) {\r\n            this.value = visitor.visit(this.value);\r\n        },\r\n        genCSS: function (context, output) {\r\n            output.add('url(');\r\n            this.value.genCSS(context, output);\r\n            output.add(')');\r\n        },\r\n        eval: function (context) {\r\n            var val = this.value.eval(context);\r\n            var rootpath;\r\n            if (!this.isEvald) {\r\n                // Add the rootpath if the URL requires a rewrite\r\n                rootpath = this.fileInfo() && this.fileInfo().rootpath;\r\n                if (typeof rootpath === 'string' &&\r\n                    typeof val.value === 'string' &&\r\n                    context.pathRequiresRewrite(val.value)) {\r\n                    if (!val.quote) {\r\n                        rootpath = escapePath(rootpath);\r\n                    }\r\n                    val.value = context.rewritePath(val.value, rootpath);\r\n                }\r\n                else {\r\n                    val.value = context.normalizePath(val.value);\r\n                }\r\n                // Add url args if enabled\r\n                if (context.urlArgs) {\r\n                    if (!val.value.match(/^\\s*data:/)) {\r\n                        var delimiter = val.value.indexOf('?') === -1 ? '?' : '&';\r\n                        var urlArgs = delimiter + context.urlArgs;\r\n                        if (val.value.indexOf('#') !== -1) {\r\n                            val.value = val.value.replace('#', urlArgs + \"#\");\r\n                        }\r\n                        else {\r\n                            val.value += urlArgs;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return new URL(val, this.getIndex(), this.fileInfo(), true);\r\n        }\r\n    });\n\n    var Media = function (value, features, index, currentFileInfo, visibilityInfo) {\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n        var selectors = (new Selector([], null, null, this._index, this._fileInfo)).createEmptySelectors();\r\n        this.features = new Value(features);\r\n        this.rules = [new Ruleset(selectors, value)];\r\n        this.rules[0].allowImports = true;\r\n        this.copyVisibilityInfo(visibilityInfo);\r\n        this.allowRoot = true;\r\n        this.setParent(selectors, this);\r\n        this.setParent(this.features, this);\r\n        this.setParent(this.rules, this);\r\n    };\r\n    Media.prototype = Object.assign(new AtRule(), {\r\n        type: 'Media',\r\n        isRulesetLike: function () {\r\n            return true;\r\n        },\r\n        accept: function (visitor) {\r\n            if (this.features) {\r\n                this.features = visitor.visit(this.features);\r\n            }\r\n            if (this.rules) {\r\n                this.rules = visitor.visitArray(this.rules);\r\n            }\r\n        },\r\n        genCSS: function (context, output) {\r\n            output.add('@media ', this._fileInfo, this._index);\r\n            this.features.genCSS(context, output);\r\n            this.outputRuleset(context, output, this.rules);\r\n        },\r\n        eval: function (context) {\r\n            if (!context.mediaBlocks) {\r\n                context.mediaBlocks = [];\r\n                context.mediaPath = [];\r\n            }\r\n            var media = new Media(null, [], this._index, this._fileInfo, this.visibilityInfo());\r\n            if (this.debugInfo) {\r\n                this.rules[0].debugInfo = this.debugInfo;\r\n                media.debugInfo = this.debugInfo;\r\n            }\r\n            media.features = this.features.eval(context);\r\n            context.mediaPath.push(media);\r\n            context.mediaBlocks.push(media);\r\n            this.rules[0].functionRegistry = context.frames[0].functionRegistry.inherit();\r\n            context.frames.unshift(this.rules[0]);\r\n            media.rules = [this.rules[0].eval(context)];\r\n            context.frames.shift();\r\n            context.mediaPath.pop();\r\n            return context.mediaPath.length === 0 ? media.evalTop(context) :\r\n                media.evalNested(context);\r\n        },\r\n        evalTop: function (context) {\r\n            var result = this;\r\n            // Render all dependent Media blocks.\r\n            if (context.mediaBlocks.length > 1) {\r\n                var selectors = (new Selector([], null, null, this.getIndex(), this.fileInfo())).createEmptySelectors();\r\n                result = new Ruleset(selectors, context.mediaBlocks);\r\n                result.multiMedia = true;\r\n                result.copyVisibilityInfo(this.visibilityInfo());\r\n                this.setParent(result, this);\r\n            }\r\n            delete context.mediaBlocks;\r\n            delete context.mediaPath;\r\n            return result;\r\n        },\r\n        evalNested: function (context) {\r\n            var i;\r\n            var value;\r\n            var path = context.mediaPath.concat([this]);\r\n            // Extract the media-query conditions separated with `,` (OR).\r\n            for (i = 0; i < path.length; i++) {\r\n                value = path[i].features instanceof Value ?\r\n                    path[i].features.value : path[i].features;\r\n                path[i] = Array.isArray(value) ? value : [value];\r\n            }\r\n            // Trace all permutations to generate the resulting media-query.\r\n            //\r\n            // (a, b and c) with nested (d, e) ->\r\n            //    a and d\r\n            //    a and e\r\n            //    b and c and d\r\n            //    b and c and e\r\n            this.features = new Value(this.permute(path).map(function (path) {\r\n                path = path.map(function (fragment) { return fragment.toCSS ? fragment : new Anonymous(fragment); });\r\n                for (i = path.length - 1; i > 0; i--) {\r\n                    path.splice(i, 0, new Anonymous('and'));\r\n                }\r\n                return new Expression(path);\r\n            }));\r\n            this.setParent(this.features, this);\r\n            // Fake a tree-node that doesn't output anything.\r\n            return new Ruleset([], []);\r\n        },\r\n        permute: function (arr) {\r\n            if (arr.length === 0) {\r\n                return [];\r\n            }\r\n            else if (arr.length === 1) {\r\n                return arr[0];\r\n            }\r\n            else {\r\n                var result = [];\r\n                var rest = this.permute(arr.slice(1));\r\n                for (var i = 0; i < rest.length; i++) {\r\n                    for (var j = 0; j < arr[0].length; j++) {\r\n                        result.push([arr[0][j]].concat(rest[i]));\r\n                    }\r\n                }\r\n                return result;\r\n            }\r\n        },\r\n        bubbleSelectors: function (selectors) {\r\n            if (!selectors) {\r\n                return;\r\n            }\r\n            this.rules = [new Ruleset(copyArray(selectors), [this.rules[0]])];\r\n            this.setParent(this.rules, this);\r\n        }\r\n    });\n\n    //\r\n    // CSS @import node\r\n    //\r\n    // The general strategy here is that we don't want to wait\r\n    // for the parsing to be completed, before we start importing\r\n    // the file. That's because in the context of a browser,\r\n    // most of the time will be spent waiting for the server to respond.\r\n    //\r\n    // On creation, we push the import path to our import queue, though\r\n    // `import,push`, we also pass it a callback, which it'll call once\r\n    // the file has been fetched, and parsed.\r\n    //\r\n    var Import = function (path, features, options, index, currentFileInfo, visibilityInfo) {\r\n        this.options = options;\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n        this.path = path;\r\n        this.features = features;\r\n        this.allowRoot = true;\r\n        if (this.options.less !== undefined || this.options.inline) {\r\n            this.css = !this.options.less || this.options.inline;\r\n        }\r\n        else {\r\n            var pathValue = this.getPath();\r\n            if (pathValue && /[#\\.\\&\\?]css([\\?;].*)?$/.test(pathValue)) {\r\n                this.css = true;\r\n            }\r\n        }\r\n        this.copyVisibilityInfo(visibilityInfo);\r\n        this.setParent(this.features, this);\r\n        this.setParent(this.path, this);\r\n    };\r\n    Import.prototype = Object.assign(new Node(), {\r\n        type: 'Import',\r\n        accept: function (visitor) {\r\n            if (this.features) {\r\n                this.features = visitor.visit(this.features);\r\n            }\r\n            this.path = visitor.visit(this.path);\r\n            if (!this.options.isPlugin && !this.options.inline && this.root) {\r\n                this.root = visitor.visit(this.root);\r\n            }\r\n        },\r\n        genCSS: function (context, output) {\r\n            if (this.css && this.path._fileInfo.reference === undefined) {\r\n                output.add('@import ', this._fileInfo, this._index);\r\n                this.path.genCSS(context, output);\r\n                if (this.features) {\r\n                    output.add(' ');\r\n                    this.features.genCSS(context, output);\r\n                }\r\n                output.add(';');\r\n            }\r\n        },\r\n        getPath: function () {\r\n            return (this.path instanceof URL) ?\r\n                this.path.value.value : this.path.value;\r\n        },\r\n        isVariableImport: function () {\r\n            var path = this.path;\r\n            if (path instanceof URL) {\r\n                path = path.value;\r\n            }\r\n            if (path instanceof Quoted) {\r\n                return path.containsVariables();\r\n            }\r\n            return true;\r\n        },\r\n        evalForImport: function (context) {\r\n            var path = this.path;\r\n            if (path instanceof URL) {\r\n                path = path.value;\r\n            }\r\n            return new Import(path.eval(context), this.features, this.options, this._index, this._fileInfo, this.visibilityInfo());\r\n        },\r\n        evalPath: function (context) {\r\n            var path = this.path.eval(context);\r\n            var fileInfo = this._fileInfo;\r\n            if (!(path instanceof URL)) {\r\n                // Add the rootpath if the URL requires a rewrite\r\n                var pathValue = path.value;\r\n                if (fileInfo &&\r\n                    pathValue &&\r\n                    context.pathRequiresRewrite(pathValue)) {\r\n                    path.value = context.rewritePath(pathValue, fileInfo.rootpath);\r\n                }\r\n                else {\r\n                    path.value = context.normalizePath(path.value);\r\n                }\r\n            }\r\n            return path;\r\n        },\r\n        eval: function (context) {\r\n            var result = this.doEval(context);\r\n            if (this.options.reference || this.blocksVisibility()) {\r\n                if (result.length || result.length === 0) {\r\n                    result.forEach(function (node) {\r\n                        node.addVisibilityBlock();\r\n                    });\r\n                }\r\n                else {\r\n                    result.addVisibilityBlock();\r\n                }\r\n            }\r\n            return result;\r\n        },\r\n        doEval: function (context) {\r\n            var ruleset;\r\n            var registry;\r\n            var features = this.features && this.features.eval(context);\r\n            if (this.options.isPlugin) {\r\n                if (this.root && this.root.eval) {\r\n                    try {\r\n                        this.root.eval(context);\r\n                    }\r\n                    catch (e) {\r\n                        e.message = 'Plugin error during evaluation';\r\n                        throw new LessError(e, this.root.imports, this.root.filename);\r\n                    }\r\n                }\r\n                registry = context.frames[0] && context.frames[0].functionRegistry;\r\n                if (registry && this.root && this.root.functions) {\r\n                    registry.addMultiple(this.root.functions);\r\n                }\r\n                return [];\r\n            }\r\n            if (this.skip) {\r\n                if (typeof this.skip === 'function') {\r\n                    this.skip = this.skip();\r\n                }\r\n                if (this.skip) {\r\n                    return [];\r\n                }\r\n            }\r\n            if (this.options.inline) {\r\n                var contents = new Anonymous(this.root, 0, {\r\n                    filename: this.importedFilename,\r\n                    reference: this.path._fileInfo && this.path._fileInfo.reference\r\n                }, true, true);\r\n                return this.features ? new Media([contents], this.features.value) : [contents];\r\n            }\r\n            else if (this.css) {\r\n                var newImport = new Import(this.evalPath(context), features, this.options, this._index);\r\n                if (!newImport.css && this.error) {\r\n                    throw this.error;\r\n                }\r\n                return newImport;\r\n            }\r\n            else if (this.root) {\r\n                ruleset = new Ruleset(null, copyArray(this.root.rules));\r\n                ruleset.evalImports(context);\r\n                return this.features ? new Media(ruleset.rules, this.features.value) : ruleset.rules;\r\n            }\r\n            else {\r\n                return [];\r\n            }\r\n        }\r\n    });\n\n    var JsEvalNode = function () { };\r\n    JsEvalNode.prototype = Object.assign(new Node(), {\r\n        evaluateJavaScript: function (expression, context) {\r\n            var result;\r\n            var that = this;\r\n            var evalContext = {};\r\n            if (!context.javascriptEnabled) {\r\n                throw { message: 'Inline JavaScript is not enabled. Is it set in your options?',\r\n                    filename: this.fileInfo().filename,\r\n                    index: this.getIndex() };\r\n            }\r\n            expression = expression.replace(/@\\{([\\w-]+)\\}/g, function (_, name) {\r\n                return that.jsify(new Variable(\"@\" + name, that.getIndex(), that.fileInfo()).eval(context));\r\n            });\r\n            try {\r\n                expression = new Function(\"return (\" + expression + \")\");\r\n            }\r\n            catch (e) {\r\n                throw { message: \"JavaScript evaluation error: \" + e.message + \" from `\" + expression + \"`\",\r\n                    filename: this.fileInfo().filename,\r\n                    index: this.getIndex() };\r\n            }\r\n            var variables = context.frames[0].variables();\r\n            for (var k in variables) {\r\n                if (variables.hasOwnProperty(k)) {\r\n                    /* jshint loopfunc:true */\r\n                    evalContext[k.slice(1)] = {\r\n                        value: variables[k].value,\r\n                        toJS: function () {\r\n                            return this.value.eval(context).toCSS();\r\n                        }\r\n                    };\r\n                }\r\n            }\r\n            try {\r\n                result = expression.call(evalContext);\r\n            }\r\n            catch (e) {\r\n                throw { message: \"JavaScript evaluation error: '\" + e.name + \": \" + e.message.replace(/[\"]/g, '\\'') + \"'\",\r\n                    filename: this.fileInfo().filename,\r\n                    index: this.getIndex() };\r\n            }\r\n            return result;\r\n        },\r\n        jsify: function (obj) {\r\n            if (Array.isArray(obj.value) && (obj.value.length > 1)) {\r\n                return \"[\" + obj.value.map(function (v) { return v.toCSS(); }).join(', ') + \"]\";\r\n            }\r\n            else {\r\n                return obj.toCSS();\r\n            }\r\n        }\r\n    });\n\n    var JavaScript = function (string, escaped, index, currentFileInfo) {\r\n        this.escaped = escaped;\r\n        this.expression = string;\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n    };\r\n    JavaScript.prototype = Object.assign(new JsEvalNode(), {\r\n        type: 'JavaScript',\r\n        eval: function (context) {\r\n            var result = this.evaluateJavaScript(this.expression, context);\r\n            var type = typeof result;\r\n            if (type === 'number' && !isNaN(result)) {\r\n                return new Dimension(result);\r\n            }\r\n            else if (type === 'string') {\r\n                return new Quoted(\"\\\"\" + result + \"\\\"\", result, this.escaped, this._index);\r\n            }\r\n            else if (Array.isArray(result)) {\r\n                return new Anonymous(result.join(', '));\r\n            }\r\n            else {\r\n                return new Anonymous(result);\r\n            }\r\n        }\r\n    });\n\n    var Assignment = function (key, val) {\r\n        this.key = key;\r\n        this.value = val;\r\n    };\r\n    Assignment.prototype = Object.assign(new Node(), {\r\n        type: 'Assignment',\r\n        accept: function (visitor) {\r\n            this.value = visitor.visit(this.value);\r\n        },\r\n        eval: function (context) {\r\n            if (this.value.eval) {\r\n                return new Assignment(this.key, this.value.eval(context));\r\n            }\r\n            return this;\r\n        },\r\n        genCSS: function (context, output) {\r\n            output.add(this.key + \"=\");\r\n            if (this.value.genCSS) {\r\n                this.value.genCSS(context, output);\r\n            }\r\n            else {\r\n                output.add(this.value);\r\n            }\r\n        }\r\n    });\n\n    var Condition = function (op, l, r, i, negate) {\r\n        this.op = op.trim();\r\n        this.lvalue = l;\r\n        this.rvalue = r;\r\n        this._index = i;\r\n        this.negate = negate;\r\n    };\r\n    Condition.prototype = Object.assign(new Node(), {\r\n        type: 'Condition',\r\n        accept: function (visitor) {\r\n            this.lvalue = visitor.visit(this.lvalue);\r\n            this.rvalue = visitor.visit(this.rvalue);\r\n        },\r\n        eval: function (context) {\r\n            var result = (function (op, a, b) {\r\n                switch (op) {\r\n                    case 'and': return a && b;\r\n                    case 'or': return a || b;\r\n                    default:\r\n                        switch (Node.compare(a, b)) {\r\n                            case -1:\r\n                                return op === '<' || op === '=<' || op === '<=';\r\n                            case 0:\r\n                                return op === '=' || op === '>=' || op === '=<' || op === '<=';\r\n                            case 1:\r\n                                return op === '>' || op === '>=';\r\n                            default:\r\n                                return false;\r\n                        }\r\n                }\r\n            })(this.op, this.lvalue.eval(context), this.rvalue.eval(context));\r\n            return this.negate ? !result : result;\r\n        }\r\n    });\n\n    var UnicodeDescriptor = function (value) {\r\n        this.value = value;\r\n    };\r\n    UnicodeDescriptor.prototype = Object.assign(new Node(), {\r\n        type: 'UnicodeDescriptor'\r\n    });\n\n    var Negative = function (node) {\r\n        this.value = node;\r\n    };\r\n    Negative.prototype = Object.assign(new Node(), {\r\n        type: 'Negative',\r\n        genCSS: function (context, output) {\r\n            output.add('-');\r\n            this.value.genCSS(context, output);\r\n        },\r\n        eval: function (context) {\r\n            if (context.isMathOn()) {\r\n                return (new Operation('*', [new Dimension(-1), this.value])).eval(context);\r\n            }\r\n            return new Negative(this.value.eval(context));\r\n        }\r\n    });\n\n    var Extend = function (selector, option, index, currentFileInfo, visibilityInfo) {\r\n        this.selector = selector;\r\n        this.option = option;\r\n        this.object_id = Extend.next_id++;\r\n        this.parent_ids = [this.object_id];\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n        this.copyVisibilityInfo(visibilityInfo);\r\n        this.allowRoot = true;\r\n        switch (option) {\r\n            case 'all':\r\n                this.allowBefore = true;\r\n                this.allowAfter = true;\r\n                break;\r\n            default:\r\n                this.allowBefore = false;\r\n                this.allowAfter = false;\r\n                break;\r\n        }\r\n        this.setParent(this.selector, this);\r\n    };\r\n    Extend.prototype = Object.assign(new Node(), {\r\n        type: 'Extend',\r\n        accept: function (visitor) {\r\n            this.selector = visitor.visit(this.selector);\r\n        },\r\n        eval: function (context) {\r\n            return new Extend(this.selector.eval(context), this.option, this.getIndex(), this.fileInfo(), this.visibilityInfo());\r\n        },\r\n        clone: function (context) {\r\n            return new Extend(this.selector, this.option, this.getIndex(), this.fileInfo(), this.visibilityInfo());\r\n        },\r\n        // it concatenates (joins) all selectors in selector array\r\n        findSelfSelectors: function (selectors) {\r\n            var selfElements = [], i, selectorElements;\r\n            for (i = 0; i < selectors.length; i++) {\r\n                selectorElements = selectors[i].elements;\r\n                // duplicate the logic in genCSS function inside the selector node.\r\n                // future TODO - move both logics into the selector joiner visitor\r\n                if (i > 0 && selectorElements.length && selectorElements[0].combinator.value === '') {\r\n                    selectorElements[0].combinator.value = ' ';\r\n                }\r\n                selfElements = selfElements.concat(selectors[i].elements);\r\n            }\r\n            this.selfSelectors = [new Selector(selfElements)];\r\n            this.selfSelectors[0].copyVisibilityInfo(this.visibilityInfo());\r\n        }\r\n    });\r\n    Extend.next_id = 0;\n\n    var VariableCall = function (variable, index, currentFileInfo) {\r\n        this.variable = variable;\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n        this.allowRoot = true;\r\n    };\r\n    VariableCall.prototype = Object.assign(new Node(), {\r\n        type: 'VariableCall',\r\n        eval: function (context) {\r\n            var rules;\r\n            var detachedRuleset = new Variable(this.variable, this.getIndex(), this.fileInfo()).eval(context);\r\n            var error = new LessError({ message: \"Could not evaluate variable call \" + this.variable });\r\n            if (!detachedRuleset.ruleset) {\r\n                if (detachedRuleset.rules) {\r\n                    rules = detachedRuleset;\r\n                }\r\n                else if (Array.isArray(detachedRuleset)) {\r\n                    rules = new Ruleset('', detachedRuleset);\r\n                }\r\n                else if (Array.isArray(detachedRuleset.value)) {\r\n                    rules = new Ruleset('', detachedRuleset.value);\r\n                }\r\n                else {\r\n                    throw error;\r\n                }\r\n                detachedRuleset = new DetachedRuleset(rules);\r\n            }\r\n            if (detachedRuleset.ruleset) {\r\n                return detachedRuleset.callEval(context);\r\n            }\r\n            throw error;\r\n        }\r\n    });\n\n    var NamespaceValue = function (ruleCall, lookups, index, fileInfo) {\r\n        this.value = ruleCall;\r\n        this.lookups = lookups;\r\n        this._index = index;\r\n        this._fileInfo = fileInfo;\r\n    };\r\n    NamespaceValue.prototype = Object.assign(new Node(), {\r\n        type: 'NamespaceValue',\r\n        eval: function (context) {\r\n            var i, name, rules = this.value.eval(context);\r\n            for (i = 0; i < this.lookups.length; i++) {\r\n                name = this.lookups[i];\r\n                /**\r\n                 * Eval'd DRs return rulesets.\r\n                 * Eval'd mixins return rules, so let's make a ruleset if we need it.\r\n                 * We need to do this because of late parsing of values\r\n                 */\r\n                if (Array.isArray(rules)) {\r\n                    rules = new Ruleset([new Selector()], rules);\r\n                }\r\n                if (name === '') {\r\n                    rules = rules.lastDeclaration();\r\n                }\r\n                else if (name.charAt(0) === '@') {\r\n                    if (name.charAt(1) === '@') {\r\n                        name = \"@\" + new Variable(name.substr(1)).eval(context).value;\r\n                    }\r\n                    if (rules.variables) {\r\n                        rules = rules.variable(name);\r\n                    }\r\n                    if (!rules) {\r\n                        throw { type: 'Name',\r\n                            message: \"variable \" + name + \" not found\",\r\n                            filename: this.fileInfo().filename,\r\n                            index: this.getIndex() };\r\n                    }\r\n                }\r\n                else {\r\n                    if (name.substring(0, 2) === '$@') {\r\n                        name = \"$\" + new Variable(name.substr(1)).eval(context).value;\r\n                    }\r\n                    else {\r\n                        name = name.charAt(0) === '$' ? name : \"$\" + name;\r\n                    }\r\n                    if (rules.properties) {\r\n                        rules = rules.property(name);\r\n                    }\r\n                    if (!rules) {\r\n                        throw { type: 'Name',\r\n                            message: \"property \\\"\" + name.substr(1) + \"\\\" not found\",\r\n                            filename: this.fileInfo().filename,\r\n                            index: this.getIndex() };\r\n                    }\r\n                    // Properties are an array of values, since a ruleset can have multiple props.\r\n                    // We pick the last one (the \"cascaded\" value)\r\n                    rules = rules[rules.length - 1];\r\n                }\r\n                if (rules.value) {\r\n                    rules = rules.eval(context).value;\r\n                }\r\n                if (rules.ruleset) {\r\n                    rules = rules.ruleset.eval(context);\r\n                }\r\n            }\r\n            return rules;\r\n        }\r\n    });\n\n    var Definition = function (name, params, rules, condition, variadic, frames, visibilityInfo) {\r\n        this.name = name || 'anonymous mixin';\r\n        this.selectors = [new Selector([new Element(null, name, false, this._index, this._fileInfo)])];\r\n        this.params = params;\r\n        this.condition = condition;\r\n        this.variadic = variadic;\r\n        this.arity = params.length;\r\n        this.rules = rules;\r\n        this._lookups = {};\r\n        var optionalParameters = [];\r\n        this.required = params.reduce(function (count, p) {\r\n            if (!p.name || (p.name && !p.value)) {\r\n                return count + 1;\r\n            }\r\n            else {\r\n                optionalParameters.push(p.name);\r\n                return count;\r\n            }\r\n        }, 0);\r\n        this.optionalParameters = optionalParameters;\r\n        this.frames = frames;\r\n        this.copyVisibilityInfo(visibilityInfo);\r\n        this.allowRoot = true;\r\n    };\r\n    Definition.prototype = Object.assign(new Ruleset(), {\r\n        type: 'MixinDefinition',\r\n        evalFirst: true,\r\n        accept: function (visitor) {\r\n            if (this.params && this.params.length) {\r\n                this.params = visitor.visitArray(this.params);\r\n            }\r\n            this.rules = visitor.visitArray(this.rules);\r\n            if (this.condition) {\r\n                this.condition = visitor.visit(this.condition);\r\n            }\r\n        },\r\n        evalParams: function (context, mixinEnv, args, evaldArguments) {\r\n            /* jshint boss:true */\r\n            var frame = new Ruleset(null, null);\r\n            var varargs;\r\n            var arg;\r\n            var params = copyArray(this.params);\r\n            var i;\r\n            var j;\r\n            var val;\r\n            var name;\r\n            var isNamedFound;\r\n            var argIndex;\r\n            var argsLength = 0;\r\n            if (mixinEnv.frames && mixinEnv.frames[0] && mixinEnv.frames[0].functionRegistry) {\r\n                frame.functionRegistry = mixinEnv.frames[0].functionRegistry.inherit();\r\n            }\r\n            mixinEnv = new contexts.Eval(mixinEnv, [frame].concat(mixinEnv.frames));\r\n            if (args) {\r\n                args = copyArray(args);\r\n                argsLength = args.length;\r\n                for (i = 0; i < argsLength; i++) {\r\n                    arg = args[i];\r\n                    if (name = (arg && arg.name)) {\r\n                        isNamedFound = false;\r\n                        for (j = 0; j < params.length; j++) {\r\n                            if (!evaldArguments[j] && name === params[j].name) {\r\n                                evaldArguments[j] = arg.value.eval(context);\r\n                                frame.prependRule(new Declaration(name, arg.value.eval(context)));\r\n                                isNamedFound = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (isNamedFound) {\r\n                            args.splice(i, 1);\r\n                            i--;\r\n                            continue;\r\n                        }\r\n                        else {\r\n                            throw { type: 'Runtime', message: \"Named argument for \" + this.name + \" \" + args[i].name + \" not found\" };\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            argIndex = 0;\r\n            for (i = 0; i < params.length; i++) {\r\n                if (evaldArguments[i]) {\r\n                    continue;\r\n                }\r\n                arg = args && args[argIndex];\r\n                if (name = params[i].name) {\r\n                    if (params[i].variadic) {\r\n                        varargs = [];\r\n                        for (j = argIndex; j < argsLength; j++) {\r\n                            varargs.push(args[j].value.eval(context));\r\n                        }\r\n                        frame.prependRule(new Declaration(name, new Expression(varargs).eval(context)));\r\n                    }\r\n                    else {\r\n                        val = arg && arg.value;\r\n                        if (val) {\r\n                            // This was a mixin call, pass in a detached ruleset of it's eval'd rules\r\n                            if (Array.isArray(val)) {\r\n                                val = new DetachedRuleset(new Ruleset('', val));\r\n                            }\r\n                            else {\r\n                                val = val.eval(context);\r\n                            }\r\n                        }\r\n                        else if (params[i].value) {\r\n                            val = params[i].value.eval(mixinEnv);\r\n                            frame.resetCache();\r\n                        }\r\n                        else {\r\n                            throw { type: 'Runtime', message: \"wrong number of arguments for \" + this.name + \" (\" + argsLength + \" for \" + this.arity + \")\" };\r\n                        }\r\n                        frame.prependRule(new Declaration(name, val));\r\n                        evaldArguments[i] = val;\r\n                    }\r\n                }\r\n                if (params[i].variadic && args) {\r\n                    for (j = argIndex; j < argsLength; j++) {\r\n                        evaldArguments[j] = args[j].value.eval(context);\r\n                    }\r\n                }\r\n                argIndex++;\r\n            }\r\n            return frame;\r\n        },\r\n        makeImportant: function () {\r\n            var rules = !this.rules ? this.rules : this.rules.map(function (r) {\r\n                if (r.makeImportant) {\r\n                    return r.makeImportant(true);\r\n                }\r\n                else {\r\n                    return r;\r\n                }\r\n            });\r\n            var result = new Definition(this.name, this.params, rules, this.condition, this.variadic, this.frames);\r\n            return result;\r\n        },\r\n        eval: function (context) {\r\n            return new Definition(this.name, this.params, this.rules, this.condition, this.variadic, this.frames || copyArray(context.frames));\r\n        },\r\n        evalCall: function (context, args, important) {\r\n            var _arguments = [];\r\n            var mixinFrames = this.frames ? this.frames.concat(context.frames) : context.frames;\r\n            var frame = this.evalParams(context, new contexts.Eval(context, mixinFrames), args, _arguments);\r\n            var rules;\r\n            var ruleset;\r\n            frame.prependRule(new Declaration('@arguments', new Expression(_arguments).eval(context)));\r\n            rules = copyArray(this.rules);\r\n            ruleset = new Ruleset(null, rules);\r\n            ruleset.originalRuleset = this;\r\n            ruleset = ruleset.eval(new contexts.Eval(context, [this, frame].concat(mixinFrames)));\r\n            if (important) {\r\n                ruleset = ruleset.makeImportant();\r\n            }\r\n            return ruleset;\r\n        },\r\n        matchCondition: function (args, context) {\r\n            if (this.condition && !this.condition.eval(new contexts.Eval(context, [this.evalParams(context, /* the parameter variables */ new contexts.Eval(context, this.frames ? this.frames.concat(context.frames) : context.frames), args, [])]\r\n                .concat(this.frames || []) // the parent namespace/mixin frames\r\n                .concat(context.frames)))) { // the current environment frames\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        matchArgs: function (args, context) {\r\n            var allArgsCnt = (args && args.length) || 0;\r\n            var len;\r\n            var optionalParameters = this.optionalParameters;\r\n            var requiredArgsCnt = !args ? 0 : args.reduce(function (count, p) {\r\n                if (optionalParameters.indexOf(p.name) < 0) {\r\n                    return count + 1;\r\n                }\r\n                else {\r\n                    return count;\r\n                }\r\n            }, 0);\r\n            if (!this.variadic) {\r\n                if (requiredArgsCnt < this.required) {\r\n                    return false;\r\n                }\r\n                if (allArgsCnt > this.params.length) {\r\n                    return false;\r\n                }\r\n            }\r\n            else {\r\n                if (requiredArgsCnt < (this.required - 1)) {\r\n                    return false;\r\n                }\r\n            }\r\n            // check patterns\r\n            len = Math.min(requiredArgsCnt, this.arity);\r\n            for (var i = 0; i < len; i++) {\r\n                if (!this.params[i].name && !this.params[i].variadic) {\r\n                    if (args[i].value.eval(context).toCSS() != this.params[i].value.eval(context).toCSS()) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    });\n\n    var MixinCall = function (elements, args, index, currentFileInfo, important) {\r\n        this.selector = new Selector(elements);\r\n        this.arguments = args || [];\r\n        this._index = index;\r\n        this._fileInfo = currentFileInfo;\r\n        this.important = important;\r\n        this.allowRoot = true;\r\n        this.setParent(this.selector, this);\r\n    };\r\n    MixinCall.prototype = Object.assign(new Node(), {\r\n        type: 'MixinCall',\r\n        accept: function (visitor) {\r\n            if (this.selector) {\r\n                this.selector = visitor.visit(this.selector);\r\n            }\r\n            if (this.arguments.length) {\r\n                this.arguments = visitor.visitArray(this.arguments);\r\n            }\r\n        },\r\n        eval: function (context) {\r\n            var mixins;\r\n            var mixin;\r\n            var mixinPath;\r\n            var args = [];\r\n            var arg;\r\n            var argValue;\r\n            var rules = [];\r\n            var match = false;\r\n            var i;\r\n            var m;\r\n            var f;\r\n            var isRecursive;\r\n            var isOneFound;\r\n            var candidates = [];\r\n            var candidate;\r\n            var conditionResult = [];\r\n            var defaultResult;\r\n            var defFalseEitherCase = -1;\r\n            var defNone = 0;\r\n            var defTrue = 1;\r\n            var defFalse = 2;\r\n            var count;\r\n            var originalRuleset;\r\n            var noArgumentsFilter;\r\n            this.selector = this.selector.eval(context);\r\n            function calcDefGroup(mixin, mixinPath) {\r\n                var f, p, namespace;\r\n                for (f = 0; f < 2; f++) {\r\n                    conditionResult[f] = true;\r\n                    defaultFunc.value(f);\r\n                    for (p = 0; p < mixinPath.length && conditionResult[f]; p++) {\r\n                        namespace = mixinPath[p];\r\n                        if (namespace.matchCondition) {\r\n                            conditionResult[f] = conditionResult[f] && namespace.matchCondition(null, context);\r\n                        }\r\n                    }\r\n                    if (mixin.matchCondition) {\r\n                        conditionResult[f] = conditionResult[f] && mixin.matchCondition(args, context);\r\n                    }\r\n                }\r\n                if (conditionResult[0] || conditionResult[1]) {\r\n                    if (conditionResult[0] != conditionResult[1]) {\r\n                        return conditionResult[1] ?\r\n                            defTrue : defFalse;\r\n                    }\r\n                    return defNone;\r\n                }\r\n                return defFalseEitherCase;\r\n            }\r\n            for (i = 0; i < this.arguments.length; i++) {\r\n                arg = this.arguments[i];\r\n                argValue = arg.value.eval(context);\r\n                if (arg.expand && Array.isArray(argValue.value)) {\r\n                    argValue = argValue.value;\r\n                    for (m = 0; m < argValue.length; m++) {\r\n                        args.push({ value: argValue[m] });\r\n                    }\r\n                }\r\n                else {\r\n                    args.push({ name: arg.name, value: argValue });\r\n                }\r\n            }\r\n            noArgumentsFilter = function (rule) { return rule.matchArgs(null, context); };\r\n            for (i = 0; i < context.frames.length; i++) {\r\n                if ((mixins = context.frames[i].find(this.selector, null, noArgumentsFilter)).length > 0) {\r\n                    isOneFound = true;\r\n                    // To make `default()` function independent of definition order we have two \"subpasses\" here.\r\n                    // At first we evaluate each guard *twice* (with `default() == true` and `default() == false`),\r\n                    // and build candidate list with corresponding flags. Then, when we know all possible matches,\r\n                    // we make a final decision.\r\n                    for (m = 0; m < mixins.length; m++) {\r\n                        mixin = mixins[m].rule;\r\n                        mixinPath = mixins[m].path;\r\n                        isRecursive = false;\r\n                        for (f = 0; f < context.frames.length; f++) {\r\n                            if ((!(mixin instanceof Definition)) && mixin === (context.frames[f].originalRuleset || context.frames[f])) {\r\n                                isRecursive = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (isRecursive) {\r\n                            continue;\r\n                        }\r\n                        if (mixin.matchArgs(args, context)) {\r\n                            candidate = { mixin: mixin, group: calcDefGroup(mixin, mixinPath) };\r\n                            if (candidate.group !== defFalseEitherCase) {\r\n                                candidates.push(candidate);\r\n                            }\r\n                            match = true;\r\n                        }\r\n                    }\r\n                    defaultFunc.reset();\r\n                    count = [0, 0, 0];\r\n                    for (m = 0; m < candidates.length; m++) {\r\n                        count[candidates[m].group]++;\r\n                    }\r\n                    if (count[defNone] > 0) {\r\n                        defaultResult = defFalse;\r\n                    }\r\n                    else {\r\n                        defaultResult = defTrue;\r\n                        if ((count[defTrue] + count[defFalse]) > 1) {\r\n                            throw { type: 'Runtime',\r\n                                message: \"Ambiguous use of `default()` found when matching for `\" + this.format(args) + \"`\",\r\n                                index: this.getIndex(), filename: this.fileInfo().filename };\r\n                        }\r\n                    }\r\n                    for (m = 0; m < candidates.length; m++) {\r\n                        candidate = candidates[m].group;\r\n                        if ((candidate === defNone) || (candidate === defaultResult)) {\r\n                            try {\r\n                                mixin = candidates[m].mixin;\r\n                                if (!(mixin instanceof Definition)) {\r\n                                    originalRuleset = mixin.originalRuleset || mixin;\r\n                                    mixin = new Definition('', [], mixin.rules, null, false, null, originalRuleset.visibilityInfo());\r\n                                    mixin.originalRuleset = originalRuleset;\r\n                                }\r\n                                var newRules = mixin.evalCall(context, args, this.important).rules;\r\n                                this._setVisibilityToReplacement(newRules);\r\n                                Array.prototype.push.apply(rules, newRules);\r\n                            }\r\n                            catch (e) {\r\n                                throw { message: e.message, index: this.getIndex(), filename: this.fileInfo().filename, stack: e.stack };\r\n                            }\r\n                        }\r\n                    }\r\n                    if (match) {\r\n                        return rules;\r\n                    }\r\n                }\r\n            }\r\n            if (isOneFound) {\r\n                throw { type: 'Runtime',\r\n                    message: \"No matching definition was found for `\" + this.format(args) + \"`\",\r\n                    index: this.getIndex(), filename: this.fileInfo().filename };\r\n            }\r\n            else {\r\n                throw { type: 'Name',\r\n                    message: this.selector.toCSS().trim() + \" is undefined\",\r\n                    index: this.getIndex(), filename: this.fileInfo().filename };\r\n            }\r\n        },\r\n        _setVisibilityToReplacement: function (replacement) {\r\n            var i, rule;\r\n            if (this.blocksVisibility()) {\r\n                for (i = 0; i < replacement.length; i++) {\r\n                    rule = replacement[i];\r\n                    rule.addVisibilityBlock();\r\n                }\r\n            }\r\n        },\r\n        format: function (args) {\r\n            return this.selector.toCSS().trim() + \"(\" + (args ? args.map(function (a) {\r\n                var argValue = '';\r\n                if (a.name) {\r\n                    argValue += a.name + \":\";\r\n                }\r\n                if (a.value.toCSS) {\r\n                    argValue += a.value.toCSS();\r\n                }\r\n                else {\r\n                    argValue += '???';\r\n                }\r\n                return argValue;\r\n            }).join(', ') : '') + \")\";\r\n        }\r\n    });\n\n    var tree = {\r\n        Node: Node,\r\n        Color: Color,\r\n        AtRule: AtRule,\r\n        DetachedRuleset: DetachedRuleset,\r\n        Operation: Operation,\r\n        Dimension: Dimension,\r\n        Unit: Unit,\r\n        Keyword: Keyword,\r\n        Variable: Variable,\r\n        Property: Property,\r\n        Ruleset: Ruleset,\r\n        Element: Element,\r\n        Attribute: Attribute,\r\n        Combinator: Combinator,\r\n        Selector: Selector,\r\n        Quoted: Quoted,\r\n        Expression: Expression,\r\n        Declaration: Declaration,\r\n        Call: Call,\r\n        URL: URL,\r\n        Import: Import,\r\n        Comment: Comment,\r\n        Anonymous: Anonymous,\r\n        Value: Value,\r\n        JavaScript: JavaScript,\r\n        Assignment: Assignment,\r\n        Condition: Condition,\r\n        Paren: Paren,\r\n        Media: Media,\r\n        UnicodeDescriptor: UnicodeDescriptor,\r\n        Negative: Negative,\r\n        Extend: Extend,\r\n        VariableCall: VariableCall,\r\n        NamespaceValue: NamespaceValue,\r\n        mixin: {\r\n            Call: MixinCall,\r\n            Definition: Definition\r\n        }\r\n    };\n\n    var AbstractFileManager = /** @class */ (function () {\r\n        function AbstractFileManager() {\r\n        }\r\n        AbstractFileManager.prototype.getPath = function (filename) {\r\n            var j = filename.lastIndexOf('?');\r\n            if (j > 0) {\r\n                filename = filename.slice(0, j);\r\n            }\r\n            j = filename.lastIndexOf('/');\r\n            if (j < 0) {\r\n                j = filename.lastIndexOf('\\\\');\r\n            }\r\n            if (j < 0) {\r\n                return '';\r\n            }\r\n            return filename.slice(0, j + 1);\r\n        };\r\n        AbstractFileManager.prototype.tryAppendExtension = function (path, ext) {\r\n            return /(\\.[a-z]*$)|([\\?;].*)$/.test(path) ? path : path + ext;\r\n        };\r\n        AbstractFileManager.prototype.tryAppendLessExtension = function (path) {\r\n            return this.tryAppendExtension(path, '.less');\r\n        };\r\n        AbstractFileManager.prototype.supportsSync = function () {\r\n            return false;\r\n        };\r\n        AbstractFileManager.prototype.alwaysMakePathsAbsolute = function () {\r\n            return false;\r\n        };\r\n        AbstractFileManager.prototype.isPathAbsolute = function (filename) {\r\n            return (/^(?:[a-z-]+:|\\/|\\\\|#)/i).test(filename);\r\n        };\r\n        // TODO: pull out / replace?\r\n        AbstractFileManager.prototype.join = function (basePath, laterPath) {\r\n            if (!basePath) {\r\n                return laterPath;\r\n            }\r\n            return basePath + laterPath;\r\n        };\r\n        AbstractFileManager.prototype.pathDiff = function (url, baseUrl) {\r\n            // diff between two paths to create a relative path\r\n            var urlParts = this.extractUrlParts(url);\r\n            var baseUrlParts = this.extractUrlParts(baseUrl);\r\n            var i;\r\n            var max;\r\n            var urlDirectories;\r\n            var baseUrlDirectories;\r\n            var diff = '';\r\n            if (urlParts.hostPart !== baseUrlParts.hostPart) {\r\n                return '';\r\n            }\r\n            max = Math.max(baseUrlParts.directories.length, urlParts.directories.length);\r\n            for (i = 0; i < max; i++) {\r\n                if (baseUrlParts.directories[i] !== urlParts.directories[i]) {\r\n                    break;\r\n                }\r\n            }\r\n            baseUrlDirectories = baseUrlParts.directories.slice(i);\r\n            urlDirectories = urlParts.directories.slice(i);\r\n            for (i = 0; i < baseUrlDirectories.length - 1; i++) {\r\n                diff += '../';\r\n            }\r\n            for (i = 0; i < urlDirectories.length - 1; i++) {\r\n                diff += urlDirectories[i] + \"/\";\r\n            }\r\n            return diff;\r\n        };\r\n        // helper function, not part of API\r\n        AbstractFileManager.prototype.extractUrlParts = function (url, baseUrl) {\r\n            // urlParts[1] = protocol://hostname/ OR /\r\n            // urlParts[2] = / if path relative to host base\r\n            // urlParts[3] = directories\r\n            // urlParts[4] = filename\r\n            // urlParts[5] = parameters\r\n            var urlPartsRegex = /^((?:[a-z-]+:)?\\/{2}(?:[^\\/\\?#]*\\/)|([\\/\\\\]))?((?:[^\\/\\\\\\?#]*[\\/\\\\])*)([^\\/\\\\\\?#]*)([#\\?].*)?$/i;\r\n            var urlParts = url.match(urlPartsRegex);\r\n            var returner = {};\r\n            var rawDirectories = [];\r\n            var directories = [];\r\n            var i;\r\n            var baseUrlParts;\r\n            if (!urlParts) {\r\n                throw new Error(\"Could not parse sheet href - '\" + url + \"'\");\r\n            }\r\n            // Stylesheets in IE don't always return the full path\r\n            if (baseUrl && (!urlParts[1] || urlParts[2])) {\r\n                baseUrlParts = baseUrl.match(urlPartsRegex);\r\n                if (!baseUrlParts) {\r\n                    throw new Error(\"Could not parse page url - '\" + baseUrl + \"'\");\r\n                }\r\n                urlParts[1] = urlParts[1] || baseUrlParts[1] || '';\r\n                if (!urlParts[2]) {\r\n                    urlParts[3] = baseUrlParts[3] + urlParts[3];\r\n                }\r\n            }\r\n            if (urlParts[3]) {\r\n                rawDirectories = urlParts[3].replace(/\\\\/g, '/').split('/');\r\n                // collapse '..' and skip '.'\r\n                for (i = 0; i < rawDirectories.length; i++) {\r\n                    if (rawDirectories[i] === '..') {\r\n                        directories.pop();\r\n                    }\r\n                    else if (rawDirectories[i] !== '.') {\r\n                        directories.push(rawDirectories[i]);\r\n                    }\r\n                }\r\n            }\r\n            returner.hostPart = urlParts[1];\r\n            returner.directories = directories;\r\n            returner.rawPath = (urlParts[1] || '') + rawDirectories.join('/');\r\n            returner.path = (urlParts[1] || '') + directories.join('/');\r\n            returner.filename = urlParts[4];\r\n            returner.fileUrl = returner.path + (urlParts[4] || '');\r\n            returner.url = returner.fileUrl + (urlParts[5] || '');\r\n            return returner;\r\n        };\r\n        return AbstractFileManager;\r\n    }());\n\n    var AbstractPluginLoader = /** @class */ (function () {\r\n        function AbstractPluginLoader() {\r\n            // Implemented by Node.js plugin loader\r\n            this.require = function () {\r\n                return null;\r\n            };\r\n        }\r\n        AbstractPluginLoader.prototype.evalPlugin = function (contents, context, imports, pluginOptions, fileInfo) {\r\n            var loader, registry, pluginObj, localModule, pluginManager, filename, result;\r\n            pluginManager = context.pluginManager;\r\n            if (fileInfo) {\r\n                if (typeof fileInfo === 'string') {\r\n                    filename = fileInfo;\r\n                }\r\n                else {\r\n                    filename = fileInfo.filename;\r\n                }\r\n            }\r\n            var shortname = (new this.less.FileManager()).extractUrlParts(filename).filename;\r\n            if (filename) {\r\n                pluginObj = pluginManager.get(filename);\r\n                if (pluginObj) {\r\n                    result = this.trySetOptions(pluginObj, filename, shortname, pluginOptions);\r\n                    if (result) {\r\n                        return result;\r\n                    }\r\n                    try {\r\n                        if (pluginObj.use) {\r\n                            pluginObj.use.call(this.context, pluginObj);\r\n                        }\r\n                    }\r\n                    catch (e) {\r\n                        e.message = e.message || 'Error during @plugin call';\r\n                        return new LessError(e, imports, filename);\r\n                    }\r\n                    return pluginObj;\r\n                }\r\n            }\r\n            localModule = {\r\n                exports: {},\r\n                pluginManager: pluginManager,\r\n                fileInfo: fileInfo\r\n            };\r\n            registry = functionRegistry.create();\r\n            var registerPlugin = function (obj) {\r\n                pluginObj = obj;\r\n            };\r\n            try {\r\n                loader = new Function('module', 'require', 'registerPlugin', 'functions', 'tree', 'less', 'fileInfo', contents);\r\n                loader(localModule, this.require(filename), registerPlugin, registry, this.less.tree, this.less, fileInfo);\r\n            }\r\n            catch (e) {\r\n                return new LessError(e, imports, filename);\r\n            }\r\n            if (!pluginObj) {\r\n                pluginObj = localModule.exports;\r\n            }\r\n            pluginObj = this.validatePlugin(pluginObj, filename, shortname);\r\n            if (pluginObj instanceof LessError) {\r\n                return pluginObj;\r\n            }\r\n            if (pluginObj) {\r\n                pluginObj.imports = imports;\r\n                pluginObj.filename = filename;\r\n                // For < 3.x (or unspecified minVersion) - setOptions() before install()\r\n                if (!pluginObj.minVersion || this.compareVersion('3.0.0', pluginObj.minVersion) < 0) {\r\n                    result = this.trySetOptions(pluginObj, filename, shortname, pluginOptions);\r\n                    if (result) {\r\n                        return result;\r\n                    }\r\n                }\r\n                // Run on first load\r\n                pluginManager.addPlugin(pluginObj, fileInfo.filename, registry);\r\n                pluginObj.functions = registry.getLocalFunctions();\r\n                // Need to call setOptions again because the pluginObj might have functions\r\n                result = this.trySetOptions(pluginObj, filename, shortname, pluginOptions);\r\n                if (result) {\r\n                    return result;\r\n                }\r\n                // Run every @plugin call\r\n                try {\r\n                    if (pluginObj.use) {\r\n                        pluginObj.use.call(this.context, pluginObj);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    e.message = e.message || 'Error during @plugin call';\r\n                    return new LessError(e, imports, filename);\r\n                }\r\n            }\r\n            else {\r\n                return new LessError({ message: 'Not a valid plugin' }, imports, filename);\r\n            }\r\n            return pluginObj;\r\n        };\r\n        AbstractPluginLoader.prototype.trySetOptions = function (plugin, filename, name, options) {\r\n            if (options && !plugin.setOptions) {\r\n                return new LessError({\r\n                    message: \"Options have been provided but the plugin \" + name + \" does not support any options.\"\r\n                });\r\n            }\r\n            try {\r\n                plugin.setOptions && plugin.setOptions(options);\r\n            }\r\n            catch (e) {\r\n                return new LessError(e);\r\n            }\r\n        };\r\n        AbstractPluginLoader.prototype.validatePlugin = function (plugin, filename, name) {\r\n            if (plugin) {\r\n                // support plugins being a function\r\n                // so that the plugin can be more usable programmatically\r\n                if (typeof plugin === 'function') {\r\n                    plugin = new plugin();\r\n                }\r\n                if (plugin.minVersion) {\r\n                    if (this.compareVersion(plugin.minVersion, this.less.version) < 0) {\r\n                        return new LessError({\r\n                            message: \"Plugin \" + name + \" requires version \" + this.versionToString(plugin.minVersion)\r\n                        });\r\n                    }\r\n                }\r\n                return plugin;\r\n            }\r\n            return null;\r\n        };\r\n        AbstractPluginLoader.prototype.compareVersion = function (aVersion, bVersion) {\r\n            if (typeof aVersion === 'string') {\r\n                aVersion = aVersion.match(/^(\\d+)\\.?(\\d+)?\\.?(\\d+)?/);\r\n                aVersion.shift();\r\n            }\r\n            for (var i = 0; i < aVersion.length; i++) {\r\n                if (aVersion[i] !== bVersion[i]) {\r\n                    return parseInt(aVersion[i]) > parseInt(bVersion[i]) ? -1 : 1;\r\n                }\r\n            }\r\n            return 0;\r\n        };\r\n        AbstractPluginLoader.prototype.versionToString = function (version) {\r\n            var versionString = '';\r\n            for (var i = 0; i < version.length; i++) {\r\n                versionString += (versionString ? '.' : '') + version[i];\r\n            }\r\n            return versionString;\r\n        };\r\n        AbstractPluginLoader.prototype.printUsage = function (plugins) {\r\n            for (var i = 0; i < plugins.length; i++) {\r\n                var plugin = plugins[i];\r\n                if (plugin.printUsage) {\r\n                    plugin.printUsage();\r\n                }\r\n            }\r\n        };\r\n        return AbstractPluginLoader;\r\n    }());\n\n    var _visitArgs = { visitDeeper: true };\r\n    var _hasIndexed = false;\r\n    function _noop(node) {\r\n        return node;\r\n    }\r\n    function indexNodeTypes(parent, ticker) {\r\n        // add .typeIndex to tree node types for lookup table\r\n        var key, child;\r\n        for (key in parent) {\r\n            /* eslint guard-for-in: 0 */\r\n            child = parent[key];\r\n            switch (typeof child) {\r\n                case 'function':\r\n                    // ignore bound functions directly on tree which do not have a prototype\r\n                    // or aren't nodes\r\n                    if (child.prototype && child.prototype.type) {\r\n                        child.prototype.typeIndex = ticker++;\r\n                    }\r\n                    break;\r\n                case 'object':\r\n                    ticker = indexNodeTypes(child, ticker);\r\n                    break;\r\n            }\r\n        }\r\n        return ticker;\r\n    }\r\n    var Visitor = /** @class */ (function () {\r\n        function Visitor(implementation) {\r\n            this._implementation = implementation;\r\n            this._visitInCache = {};\r\n            this._visitOutCache = {};\r\n            if (!_hasIndexed) {\r\n                indexNodeTypes(tree, 1);\r\n                _hasIndexed = true;\r\n            }\r\n        }\r\n        Visitor.prototype.visit = function (node) {\r\n            if (!node) {\r\n                return node;\r\n            }\r\n            var nodeTypeIndex = node.typeIndex;\r\n            if (!nodeTypeIndex) {\r\n                // MixinCall args aren't a node type?\r\n                if (node.value && node.value.typeIndex) {\r\n                    this.visit(node.value);\r\n                }\r\n                return node;\r\n            }\r\n            var impl = this._implementation;\r\n            var func = this._visitInCache[nodeTypeIndex];\r\n            var funcOut = this._visitOutCache[nodeTypeIndex];\r\n            var visitArgs = _visitArgs;\r\n            var fnName;\r\n            visitArgs.visitDeeper = true;\r\n            if (!func) {\r\n                fnName = \"visit\" + node.type;\r\n                func = impl[fnName] || _noop;\r\n                funcOut = impl[fnName + \"Out\"] || _noop;\r\n                this._visitInCache[nodeTypeIndex] = func;\r\n                this._visitOutCache[nodeTypeIndex] = funcOut;\r\n            }\r\n            if (func !== _noop) {\r\n                var newNode = func.call(impl, node, visitArgs);\r\n                if (node && impl.isReplacing) {\r\n                    node = newNode;\r\n                }\r\n            }\r\n            if (visitArgs.visitDeeper && node) {\r\n                if (node.length) {\r\n                    for (var i = 0, cnt = node.length; i < cnt; i++) {\r\n                        if (node[i].accept) {\r\n                            node[i].accept(this);\r\n                        }\r\n                    }\r\n                }\r\n                else if (node.accept) {\r\n                    node.accept(this);\r\n                }\r\n            }\r\n            if (funcOut != _noop) {\r\n                funcOut.call(impl, node);\r\n            }\r\n            return node;\r\n        };\r\n        Visitor.prototype.visitArray = function (nodes, nonReplacing) {\r\n            if (!nodes) {\r\n                return nodes;\r\n            }\r\n            var cnt = nodes.length;\r\n            var i;\r\n            // Non-replacing\r\n            if (nonReplacing || !this._implementation.isReplacing) {\r\n                for (i = 0; i < cnt; i++) {\r\n                    this.visit(nodes[i]);\r\n                }\r\n                return nodes;\r\n            }\r\n            // Replacing\r\n            var out = [];\r\n            for (i = 0; i < cnt; i++) {\r\n                var evald = this.visit(nodes[i]);\r\n                if (evald === undefined) {\r\n                    continue;\r\n                }\r\n                if (!evald.splice) {\r\n                    out.push(evald);\r\n                }\r\n                else if (evald.length) {\r\n                    this.flatten(evald, out);\r\n                }\r\n            }\r\n            return out;\r\n        };\r\n        Visitor.prototype.flatten = function (arr, out) {\r\n            if (!out) {\r\n                out = [];\r\n            }\r\n            var cnt, i, item, nestedCnt, j, nestedItem;\r\n            for (i = 0, cnt = arr.length; i < cnt; i++) {\r\n                item = arr[i];\r\n                if (item === undefined) {\r\n                    continue;\r\n                }\r\n                if (!item.splice) {\r\n                    out.push(item);\r\n                    continue;\r\n                }\r\n                for (j = 0, nestedCnt = item.length; j < nestedCnt; j++) {\r\n                    nestedItem = item[j];\r\n                    if (nestedItem === undefined) {\r\n                        continue;\r\n                    }\r\n                    if (!nestedItem.splice) {\r\n                        out.push(nestedItem);\r\n                    }\r\n                    else if (nestedItem.length) {\r\n                        this.flatten(nestedItem, out);\r\n                    }\r\n                }\r\n            }\r\n            return out;\r\n        };\r\n        return Visitor;\r\n    }());\n\n    var ImportSequencer = /** @class */ (function () {\r\n        function ImportSequencer(onSequencerEmpty) {\r\n            this.imports = [];\r\n            this.variableImports = [];\r\n            this._onSequencerEmpty = onSequencerEmpty;\r\n            this._currentDepth = 0;\r\n        }\r\n        ImportSequencer.prototype.addImport = function (callback) {\r\n            var importSequencer = this, importItem = {\r\n                callback: callback,\r\n                args: null,\r\n                isReady: false\r\n            };\r\n            this.imports.push(importItem);\r\n            return function () {\r\n                importItem.args = Array.prototype.slice.call(arguments, 0);\r\n                importItem.isReady = true;\r\n                importSequencer.tryRun();\r\n            };\r\n        };\r\n        ImportSequencer.prototype.addVariableImport = function (callback) {\r\n            this.variableImports.push(callback);\r\n        };\r\n        ImportSequencer.prototype.tryRun = function () {\r\n            this._currentDepth++;\r\n            try {\r\n                while (true) {\r\n                    while (this.imports.length > 0) {\r\n                        var importItem = this.imports[0];\r\n                        if (!importItem.isReady) {\r\n                            return;\r\n                        }\r\n                        this.imports = this.imports.slice(1);\r\n                        importItem.callback.apply(null, importItem.args);\r\n                    }\r\n                    if (this.variableImports.length === 0) {\r\n                        break;\r\n                    }\r\n                    var variableImport = this.variableImports[0];\r\n                    this.variableImports = this.variableImports.slice(1);\r\n                    variableImport();\r\n                }\r\n            }\r\n            finally {\r\n                this._currentDepth--;\r\n            }\r\n            if (this._currentDepth === 0 && this._onSequencerEmpty) {\r\n                this._onSequencerEmpty();\r\n            }\r\n        };\r\n        return ImportSequencer;\r\n    }());\n\n    var ImportVisitor = function (importer, finish) {\r\n        this._visitor = new Visitor(this);\r\n        this._importer = importer;\r\n        this._finish = finish;\r\n        this.context = new contexts.Eval();\r\n        this.importCount = 0;\r\n        this.onceFileDetectionMap = {};\r\n        this.recursionDetector = {};\r\n        this._sequencer = new ImportSequencer(this._onSequencerEmpty.bind(this));\r\n    };\r\n    ImportVisitor.prototype = {\r\n        isReplacing: false,\r\n        run: function (root) {\r\n            try {\r\n                // process the contents\r\n                this._visitor.visit(root);\r\n            }\r\n            catch (e) {\r\n                this.error = e;\r\n            }\r\n            this.isFinished = true;\r\n            this._sequencer.tryRun();\r\n        },\r\n        _onSequencerEmpty: function () {\r\n            if (!this.isFinished) {\r\n                return;\r\n            }\r\n            this._finish(this.error);\r\n        },\r\n        visitImport: function (importNode, visitArgs) {\r\n            var inlineCSS = importNode.options.inline;\r\n            if (!importNode.css || inlineCSS) {\r\n                var context = new contexts.Eval(this.context, copyArray(this.context.frames));\r\n                var importParent = context.frames[0];\r\n                this.importCount++;\r\n                if (importNode.isVariableImport()) {\r\n                    this._sequencer.addVariableImport(this.processImportNode.bind(this, importNode, context, importParent));\r\n                }\r\n                else {\r\n                    this.processImportNode(importNode, context, importParent);\r\n                }\r\n            }\r\n            visitArgs.visitDeeper = false;\r\n        },\r\n        processImportNode: function (importNode, context, importParent) {\r\n            var evaldImportNode;\r\n            var inlineCSS = importNode.options.inline;\r\n            try {\r\n                evaldImportNode = importNode.evalForImport(context);\r\n            }\r\n            catch (e) {\r\n                if (!e.filename) {\r\n                    e.index = importNode.getIndex();\r\n                    e.filename = importNode.fileInfo().filename;\r\n                }\r\n                // attempt to eval properly and treat as css\r\n                importNode.css = true;\r\n                // if that fails, this error will be thrown\r\n                importNode.error = e;\r\n            }\r\n            if (evaldImportNode && (!evaldImportNode.css || inlineCSS)) {\r\n                if (evaldImportNode.options.multiple) {\r\n                    context.importMultiple = true;\r\n                }\r\n                // try appending if we haven't determined if it is css or not\r\n                var tryAppendLessExtension = evaldImportNode.css === undefined;\r\n                for (var i = 0; i < importParent.rules.length; i++) {\r\n                    if (importParent.rules[i] === importNode) {\r\n                        importParent.rules[i] = evaldImportNode;\r\n                        break;\r\n                    }\r\n                }\r\n                var onImported = this.onImported.bind(this, evaldImportNode, context), sequencedOnImported = this._sequencer.addImport(onImported);\r\n                this._importer.push(evaldImportNode.getPath(), tryAppendLessExtension, evaldImportNode.fileInfo(), evaldImportNode.options, sequencedOnImported);\r\n            }\r\n            else {\r\n                this.importCount--;\r\n                if (this.isFinished) {\r\n                    this._sequencer.tryRun();\r\n                }\r\n            }\r\n        },\r\n        onImported: function (importNode, context, e, root, importedAtRoot, fullPath) {\r\n            if (e) {\r\n                if (!e.filename) {\r\n                    e.index = importNode.getIndex();\r\n                    e.filename = importNode.fileInfo().filename;\r\n                }\r\n                this.error = e;\r\n            }\r\n            var importVisitor = this, inlineCSS = importNode.options.inline, isPlugin = importNode.options.isPlugin, isOptional = importNode.options.optional, duplicateImport = importedAtRoot || fullPath in importVisitor.recursionDetector;\r\n            if (!context.importMultiple) {\r\n                if (duplicateImport) {\r\n                    importNode.skip = true;\r\n                }\r\n                else {\r\n                    importNode.skip = function () {\r\n                        if (fullPath in importVisitor.onceFileDetectionMap) {\r\n                            return true;\r\n                        }\r\n                        importVisitor.onceFileDetectionMap[fullPath] = true;\r\n                        return false;\r\n                    };\r\n                }\r\n            }\r\n            if (!fullPath && isOptional) {\r\n                importNode.skip = true;\r\n            }\r\n            if (root) {\r\n                importNode.root = root;\r\n                importNode.importedFilename = fullPath;\r\n                if (!inlineCSS && !isPlugin && (context.importMultiple || !duplicateImport)) {\r\n                    importVisitor.recursionDetector[fullPath] = true;\r\n                    var oldContext = this.context;\r\n                    this.context = context;\r\n                    try {\r\n                        this._visitor.visit(root);\r\n                    }\r\n                    catch (e) {\r\n                        this.error = e;\r\n                    }\r\n                    this.context = oldContext;\r\n                }\r\n            }\r\n            importVisitor.importCount--;\r\n            if (importVisitor.isFinished) {\r\n                importVisitor._sequencer.tryRun();\r\n            }\r\n        },\r\n        visitDeclaration: function (declNode, visitArgs) {\r\n            if (declNode.value.type === 'DetachedRuleset') {\r\n                this.context.frames.unshift(declNode);\r\n            }\r\n            else {\r\n                visitArgs.visitDeeper = false;\r\n            }\r\n        },\r\n        visitDeclarationOut: function (declNode) {\r\n            if (declNode.value.type === 'DetachedRuleset') {\r\n                this.context.frames.shift();\r\n            }\r\n        },\r\n        visitAtRule: function (atRuleNode, visitArgs) {\r\n            this.context.frames.unshift(atRuleNode);\r\n        },\r\n        visitAtRuleOut: function (atRuleNode) {\r\n            this.context.frames.shift();\r\n        },\r\n        visitMixinDefinition: function (mixinDefinitionNode, visitArgs) {\r\n            this.context.frames.unshift(mixinDefinitionNode);\r\n        },\r\n        visitMixinDefinitionOut: function (mixinDefinitionNode) {\r\n            this.context.frames.shift();\r\n        },\r\n        visitRuleset: function (rulesetNode, visitArgs) {\r\n            this.context.frames.unshift(rulesetNode);\r\n        },\r\n        visitRulesetOut: function (rulesetNode) {\r\n            this.context.frames.shift();\r\n        },\r\n        visitMedia: function (mediaNode, visitArgs) {\r\n            this.context.frames.unshift(mediaNode.rules[0]);\r\n        },\r\n        visitMediaOut: function (mediaNode) {\r\n            this.context.frames.shift();\r\n        }\r\n    };\n\n    var SetTreeVisibilityVisitor = /** @class */ (function () {\r\n        function SetTreeVisibilityVisitor(visible) {\r\n            this.visible = visible;\r\n        }\r\n        SetTreeVisibilityVisitor.prototype.run = function (root) {\r\n            this.visit(root);\r\n        };\r\n        SetTreeVisibilityVisitor.prototype.visitArray = function (nodes) {\r\n            if (!nodes) {\r\n                return nodes;\r\n            }\r\n            var cnt = nodes.length;\r\n            var i;\r\n            for (i = 0; i < cnt; i++) {\r\n                this.visit(nodes[i]);\r\n            }\r\n            return nodes;\r\n        };\r\n        SetTreeVisibilityVisitor.prototype.visit = function (node) {\r\n            if (!node) {\r\n                return node;\r\n            }\r\n            if (node.constructor === Array) {\r\n                return this.visitArray(node);\r\n            }\r\n            if (!node.blocksVisibility || node.blocksVisibility()) {\r\n                return node;\r\n            }\r\n            if (this.visible) {\r\n                node.ensureVisibility();\r\n            }\r\n            else {\r\n                node.ensureInvisibility();\r\n            }\r\n            node.accept(this);\r\n            return node;\r\n        };\r\n        return SetTreeVisibilityVisitor;\r\n    }());\n\n    /* jshint loopfunc:true */\r\n    var ExtendFinderVisitor = /** @class */ (function () {\r\n        function ExtendFinderVisitor() {\r\n            this._visitor = new Visitor(this);\r\n            this.contexts = [];\r\n            this.allExtendsStack = [[]];\r\n        }\r\n        ExtendFinderVisitor.prototype.run = function (root) {\r\n            root = this._visitor.visit(root);\r\n            root.allExtends = this.allExtendsStack[0];\r\n            return root;\r\n        };\r\n        ExtendFinderVisitor.prototype.visitDeclaration = function (declNode, visitArgs) {\r\n            visitArgs.visitDeeper = false;\r\n        };\r\n        ExtendFinderVisitor.prototype.visitMixinDefinition = function (mixinDefinitionNode, visitArgs) {\r\n            visitArgs.visitDeeper = false;\r\n        };\r\n        ExtendFinderVisitor.prototype.visitRuleset = function (rulesetNode, visitArgs) {\r\n            if (rulesetNode.root) {\r\n                return;\r\n            }\r\n            var i;\r\n            var j;\r\n            var extend;\r\n            var allSelectorsExtendList = [];\r\n            var extendList;\r\n            // get &:extend(.a); rules which apply to all selectors in this ruleset\r\n            var rules = rulesetNode.rules, ruleCnt = rules ? rules.length : 0;\r\n            for (i = 0; i < ruleCnt; i++) {\r\n                if (rulesetNode.rules[i] instanceof tree.Extend) {\r\n                    allSelectorsExtendList.push(rules[i]);\r\n                    rulesetNode.extendOnEveryPath = true;\r\n                }\r\n            }\r\n            // now find every selector and apply the extends that apply to all extends\r\n            // and the ones which apply to an individual extend\r\n            var paths = rulesetNode.paths;\r\n            for (i = 0; i < paths.length; i++) {\r\n                var selectorPath = paths[i], selector = selectorPath[selectorPath.length - 1], selExtendList = selector.extendList;\r\n                extendList = selExtendList ? copyArray(selExtendList).concat(allSelectorsExtendList)\r\n                    : allSelectorsExtendList;\r\n                if (extendList) {\r\n                    extendList = extendList.map(function (allSelectorsExtend) {\r\n                        return allSelectorsExtend.clone();\r\n                    });\r\n                }\r\n                for (j = 0; j < extendList.length; j++) {\r\n                    this.foundExtends = true;\r\n                    extend = extendList[j];\r\n                    extend.findSelfSelectors(selectorPath);\r\n                    extend.ruleset = rulesetNode;\r\n                    if (j === 0) {\r\n                        extend.firstExtendOnThisSelectorPath = true;\r\n                    }\r\n                    this.allExtendsStack[this.allExtendsStack.length - 1].push(extend);\r\n                }\r\n            }\r\n            this.contexts.push(rulesetNode.selectors);\r\n        };\r\n        ExtendFinderVisitor.prototype.visitRulesetOut = function (rulesetNode) {\r\n            if (!rulesetNode.root) {\r\n                this.contexts.length = this.contexts.length - 1;\r\n            }\r\n        };\r\n        ExtendFinderVisitor.prototype.visitMedia = function (mediaNode, visitArgs) {\r\n            mediaNode.allExtends = [];\r\n            this.allExtendsStack.push(mediaNode.allExtends);\r\n        };\r\n        ExtendFinderVisitor.prototype.visitMediaOut = function (mediaNode) {\r\n            this.allExtendsStack.length = this.allExtendsStack.length - 1;\r\n        };\r\n        ExtendFinderVisitor.prototype.visitAtRule = function (atRuleNode, visitArgs) {\r\n            atRuleNode.allExtends = [];\r\n            this.allExtendsStack.push(atRuleNode.allExtends);\r\n        };\r\n        ExtendFinderVisitor.prototype.visitAtRuleOut = function (atRuleNode) {\r\n            this.allExtendsStack.length = this.allExtendsStack.length - 1;\r\n        };\r\n        return ExtendFinderVisitor;\r\n    }());\r\n    var ProcessExtendsVisitor = /** @class */ (function () {\r\n        function ProcessExtendsVisitor() {\r\n            this._visitor = new Visitor(this);\r\n        }\r\n        ProcessExtendsVisitor.prototype.run = function (root) {\r\n            var extendFinder = new ExtendFinderVisitor();\r\n            this.extendIndices = {};\r\n            extendFinder.run(root);\r\n            if (!extendFinder.foundExtends) {\r\n                return root;\r\n            }\r\n            root.allExtends = root.allExtends.concat(this.doExtendChaining(root.allExtends, root.allExtends));\r\n            this.allExtendsStack = [root.allExtends];\r\n            var newRoot = this._visitor.visit(root);\r\n            this.checkExtendsForNonMatched(root.allExtends);\r\n            return newRoot;\r\n        };\r\n        ProcessExtendsVisitor.prototype.checkExtendsForNonMatched = function (extendList) {\r\n            var indices = this.extendIndices;\r\n            extendList.filter(function (extend) {\r\n                return !extend.hasFoundMatches && extend.parent_ids.length == 1;\r\n            }).forEach(function (extend) {\r\n                var selector = '_unknown_';\r\n                try {\r\n                    selector = extend.selector.toCSS({});\r\n                }\r\n                catch (_) { }\r\n                if (!indices[extend.index + \" \" + selector]) {\r\n                    indices[extend.index + \" \" + selector] = true;\r\n                    logger$1.warn(\"extend '\" + selector + \"' has no matches\");\r\n                }\r\n            });\r\n        };\r\n        ProcessExtendsVisitor.prototype.doExtendChaining = function (extendsList, extendsListTarget, iterationCount) {\r\n            //\r\n            // chaining is different from normal extension.. if we extend an extend then we are not just copying, altering\r\n            // and pasting the selector we would do normally, but we are also adding an extend with the same target selector\r\n            // this means this new extend can then go and alter other extends\r\n            //\r\n            // this method deals with all the chaining work - without it, extend is flat and doesn't work on other extend selectors\r\n            // this is also the most expensive.. and a match on one selector can cause an extension of a selector we had already\r\n            // processed if we look at each selector at a time, as is done in visitRuleset\r\n            var extendIndex;\r\n            var targetExtendIndex;\r\n            var matches;\r\n            var extendsToAdd = [];\r\n            var newSelector;\r\n            var extendVisitor = this;\r\n            var selectorPath;\r\n            var extend;\r\n            var targetExtend;\r\n            var newExtend;\r\n            iterationCount = iterationCount || 0;\r\n            // loop through comparing every extend with every target extend.\r\n            // a target extend is the one on the ruleset we are looking at copy/edit/pasting in place\r\n            // e.g.  .a:extend(.b) {}  and .b:extend(.c) {} then the first extend extends the second one\r\n            // and the second is the target.\r\n            // the separation into two lists allows us to process a subset of chains with a bigger set, as is the\r\n            // case when processing media queries\r\n            for (extendIndex = 0; extendIndex < extendsList.length; extendIndex++) {\r\n                for (targetExtendIndex = 0; targetExtendIndex < extendsListTarget.length; targetExtendIndex++) {\r\n                    extend = extendsList[extendIndex];\r\n                    targetExtend = extendsListTarget[targetExtendIndex];\r\n                    // look for circular references\r\n                    if (extend.parent_ids.indexOf(targetExtend.object_id) >= 0) {\r\n                        continue;\r\n                    }\r\n                    // find a match in the target extends self selector (the bit before :extend)\r\n                    selectorPath = [targetExtend.selfSelectors[0]];\r\n                    matches = extendVisitor.findMatch(extend, selectorPath);\r\n                    if (matches.length) {\r\n                        extend.hasFoundMatches = true;\r\n                        // we found a match, so for each self selector..\r\n                        extend.selfSelectors.forEach(function (selfSelector) {\r\n                            var info = targetExtend.visibilityInfo();\r\n                            // process the extend as usual\r\n                            newSelector = extendVisitor.extendSelector(matches, selectorPath, selfSelector, extend.isVisible());\r\n                            // but now we create a new extend from it\r\n                            newExtend = new (tree.Extend)(targetExtend.selector, targetExtend.option, 0, targetExtend.fileInfo(), info);\r\n                            newExtend.selfSelectors = newSelector;\r\n                            // add the extend onto the list of extends for that selector\r\n                            newSelector[newSelector.length - 1].extendList = [newExtend];\r\n                            // record that we need to add it.\r\n                            extendsToAdd.push(newExtend);\r\n                            newExtend.ruleset = targetExtend.ruleset;\r\n                            // remember its parents for circular references\r\n                            newExtend.parent_ids = newExtend.parent_ids.concat(targetExtend.parent_ids, extend.parent_ids);\r\n                            // only process the selector once.. if we have :extend(.a,.b) then multiple\r\n                            // extends will look at the same selector path, so when extending\r\n                            // we know that any others will be duplicates in terms of what is added to the css\r\n                            if (targetExtend.firstExtendOnThisSelectorPath) {\r\n                                newExtend.firstExtendOnThisSelectorPath = true;\r\n                                targetExtend.ruleset.paths.push(newSelector);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            if (extendsToAdd.length) {\r\n                // try to detect circular references to stop a stack overflow.\r\n                // may no longer be needed.\r\n                this.extendChainCount++;\r\n                if (iterationCount > 100) {\r\n                    var selectorOne = '{unable to calculate}';\r\n                    var selectorTwo = '{unable to calculate}';\r\n                    try {\r\n                        selectorOne = extendsToAdd[0].selfSelectors[0].toCSS();\r\n                        selectorTwo = extendsToAdd[0].selector.toCSS();\r\n                    }\r\n                    catch (e) { }\r\n                    throw { message: \"extend circular reference detected. One of the circular extends is currently:\" + selectorOne + \":extend(\" + selectorTwo + \")\" };\r\n                }\r\n                // now process the new extends on the existing rules so that we can handle a extending b extending c extending\r\n                // d extending e...\r\n                return extendsToAdd.concat(extendVisitor.doExtendChaining(extendsToAdd, extendsListTarget, iterationCount + 1));\r\n            }\r\n            else {\r\n                return extendsToAdd;\r\n            }\r\n        };\r\n        ProcessExtendsVisitor.prototype.visitDeclaration = function (ruleNode, visitArgs) {\r\n            visitArgs.visitDeeper = false;\r\n        };\r\n        ProcessExtendsVisitor.prototype.visitMixinDefinition = function (mixinDefinitionNode, visitArgs) {\r\n            visitArgs.visitDeeper = false;\r\n        };\r\n        ProcessExtendsVisitor.prototype.visitSelector = function (selectorNode, visitArgs) {\r\n            visitArgs.visitDeeper = false;\r\n        };\r\n        ProcessExtendsVisitor.prototype.visitRuleset = function (rulesetNode, visitArgs) {\r\n            if (rulesetNode.root) {\r\n                return;\r\n            }\r\n            var matches;\r\n            var pathIndex;\r\n            var extendIndex;\r\n            var allExtends = this.allExtendsStack[this.allExtendsStack.length - 1];\r\n            var selectorsToAdd = [];\r\n            var extendVisitor = this;\r\n            var selectorPath;\r\n            // look at each selector path in the ruleset, find any extend matches and then copy, find and replace\r\n            for (extendIndex = 0; extendIndex < allExtends.length; extendIndex++) {\r\n                for (pathIndex = 0; pathIndex < rulesetNode.paths.length; pathIndex++) {\r\n                    selectorPath = rulesetNode.paths[pathIndex];\r\n                    // extending extends happens initially, before the main pass\r\n                    if (rulesetNode.extendOnEveryPath) {\r\n                        continue;\r\n                    }\r\n                    var extendList = selectorPath[selectorPath.length - 1].extendList;\r\n                    if (extendList && extendList.length) {\r\n                        continue;\r\n                    }\r\n                    matches = this.findMatch(allExtends[extendIndex], selectorPath);\r\n                    if (matches.length) {\r\n                        allExtends[extendIndex].hasFoundMatches = true;\r\n                        allExtends[extendIndex].selfSelectors.forEach(function (selfSelector) {\r\n                            var extendedSelectors;\r\n                            extendedSelectors = extendVisitor.extendSelector(matches, selectorPath, selfSelector, allExtends[extendIndex].isVisible());\r\n                            selectorsToAdd.push(extendedSelectors);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            rulesetNode.paths = rulesetNode.paths.concat(selectorsToAdd);\r\n        };\r\n        ProcessExtendsVisitor.prototype.findMatch = function (extend, haystackSelectorPath) {\r\n            //\r\n            // look through the haystack selector path to try and find the needle - extend.selector\r\n            // returns an array of selector matches that can then be replaced\r\n            //\r\n            var haystackSelectorIndex;\r\n            var hackstackSelector;\r\n            var hackstackElementIndex;\r\n            var haystackElement;\r\n            var targetCombinator;\r\n            var i;\r\n            var extendVisitor = this;\r\n            var needleElements = extend.selector.elements;\r\n            var potentialMatches = [];\r\n            var potentialMatch;\r\n            var matches = [];\r\n            // loop through the haystack elements\r\n            for (haystackSelectorIndex = 0; haystackSelectorIndex < haystackSelectorPath.length; haystackSelectorIndex++) {\r\n                hackstackSelector = haystackSelectorPath[haystackSelectorIndex];\r\n                for (hackstackElementIndex = 0; hackstackElementIndex < hackstackSelector.elements.length; hackstackElementIndex++) {\r\n                    haystackElement = hackstackSelector.elements[hackstackElementIndex];\r\n                    // if we allow elements before our match we can add a potential match every time. otherwise only at the first element.\r\n                    if (extend.allowBefore || (haystackSelectorIndex === 0 && hackstackElementIndex === 0)) {\r\n                        potentialMatches.push({ pathIndex: haystackSelectorIndex, index: hackstackElementIndex, matched: 0,\r\n                            initialCombinator: haystackElement.combinator });\r\n                    }\r\n                    for (i = 0; i < potentialMatches.length; i++) {\r\n                        potentialMatch = potentialMatches[i];\r\n                        // selectors add \" \" onto the first element. When we use & it joins the selectors together, but if we don't\r\n                        // then each selector in haystackSelectorPath has a space before it added in the toCSS phase. so we need to\r\n                        // work out what the resulting combinator will be\r\n                        targetCombinator = haystackElement.combinator.value;\r\n                        if (targetCombinator === '' && hackstackElementIndex === 0) {\r\n                            targetCombinator = ' ';\r\n                        }\r\n                        // if we don't match, null our match to indicate failure\r\n                        if (!extendVisitor.isElementValuesEqual(needleElements[potentialMatch.matched].value, haystackElement.value) ||\r\n                            (potentialMatch.matched > 0 && needleElements[potentialMatch.matched].combinator.value !== targetCombinator)) {\r\n                            potentialMatch = null;\r\n                        }\r\n                        else {\r\n                            potentialMatch.matched++;\r\n                        }\r\n                        // if we are still valid and have finished, test whether we have elements after and whether these are allowed\r\n                        if (potentialMatch) {\r\n                            potentialMatch.finished = potentialMatch.matched === needleElements.length;\r\n                            if (potentialMatch.finished &&\r\n                                (!extend.allowAfter &&\r\n                                    (hackstackElementIndex + 1 < hackstackSelector.elements.length || haystackSelectorIndex + 1 < haystackSelectorPath.length))) {\r\n                                potentialMatch = null;\r\n                            }\r\n                        }\r\n                        // if null we remove, if not, we are still valid, so either push as a valid match or continue\r\n                        if (potentialMatch) {\r\n                            if (potentialMatch.finished) {\r\n                                potentialMatch.length = needleElements.length;\r\n                                potentialMatch.endPathIndex = haystackSelectorIndex;\r\n                                potentialMatch.endPathElementIndex = hackstackElementIndex + 1; // index after end of match\r\n                                potentialMatches.length = 0; // we don't allow matches to overlap, so start matching again\r\n                                matches.push(potentialMatch);\r\n                            }\r\n                        }\r\n                        else {\r\n                            potentialMatches.splice(i, 1);\r\n                            i--;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return matches;\r\n        };\r\n        ProcessExtendsVisitor.prototype.isElementValuesEqual = function (elementValue1, elementValue2) {\r\n            if (typeof elementValue1 === 'string' || typeof elementValue2 === 'string') {\r\n                return elementValue1 === elementValue2;\r\n            }\r\n            if (elementValue1 instanceof tree.Attribute) {\r\n                if (elementValue1.op !== elementValue2.op || elementValue1.key !== elementValue2.key) {\r\n                    return false;\r\n                }\r\n                if (!elementValue1.value || !elementValue2.value) {\r\n                    if (elementValue1.value || elementValue2.value) {\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                }\r\n                elementValue1 = elementValue1.value.value || elementValue1.value;\r\n                elementValue2 = elementValue2.value.value || elementValue2.value;\r\n                return elementValue1 === elementValue2;\r\n            }\r\n            elementValue1 = elementValue1.value;\r\n            elementValue2 = elementValue2.value;\r\n            if (elementValue1 instanceof tree.Selector) {\r\n                if (!(elementValue2 instanceof tree.Selector) || elementValue1.elements.length !== elementValue2.elements.length) {\r\n                    return false;\r\n                }\r\n                for (var i = 0; i < elementValue1.elements.length; i++) {\r\n                    if (elementValue1.elements[i].combinator.value !== elementValue2.elements[i].combinator.value) {\r\n                        if (i !== 0 || (elementValue1.elements[i].combinator.value || ' ') !== (elementValue2.elements[i].combinator.value || ' ')) {\r\n                            return false;\r\n                        }\r\n                    }\r\n                    if (!this.isElementValuesEqual(elementValue1.elements[i].value, elementValue2.elements[i].value)) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        ProcessExtendsVisitor.prototype.extendSelector = function (matches, selectorPath, replacementSelector, isVisible) {\r\n            // for a set of matches, replace each match with the replacement selector\r\n            var currentSelectorPathIndex = 0, currentSelectorPathElementIndex = 0, path = [], matchIndex, selector, firstElement, match, newElements;\r\n            for (matchIndex = 0; matchIndex < matches.length; matchIndex++) {\r\n                match = matches[matchIndex];\r\n                selector = selectorPath[match.pathIndex];\r\n                firstElement = new tree.Element(match.initialCombinator, replacementSelector.elements[0].value, replacementSelector.elements[0].isVariable, replacementSelector.elements[0].getIndex(), replacementSelector.elements[0].fileInfo());\r\n                if (match.pathIndex > currentSelectorPathIndex && currentSelectorPathElementIndex > 0) {\r\n                    path[path.length - 1].elements = path[path.length - 1]\r\n                        .elements.concat(selectorPath[currentSelectorPathIndex].elements.slice(currentSelectorPathElementIndex));\r\n                    currentSelectorPathElementIndex = 0;\r\n                    currentSelectorPathIndex++;\r\n                }\r\n                newElements = selector.elements\r\n                    .slice(currentSelectorPathElementIndex, match.index)\r\n                    .concat([firstElement])\r\n                    .concat(replacementSelector.elements.slice(1));\r\n                if (currentSelectorPathIndex === match.pathIndex && matchIndex > 0) {\r\n                    path[path.length - 1].elements =\r\n                        path[path.length - 1].elements.concat(newElements);\r\n                }\r\n                else {\r\n                    path = path.concat(selectorPath.slice(currentSelectorPathIndex, match.pathIndex));\r\n                    path.push(new tree.Selector(newElements));\r\n                }\r\n                currentSelectorPathIndex = match.endPathIndex;\r\n                currentSelectorPathElementIndex = match.endPathElementIndex;\r\n                if (currentSelectorPathElementIndex >= selectorPath[currentSelectorPathIndex].elements.length) {\r\n                    currentSelectorPathElementIndex = 0;\r\n                    currentSelectorPathIndex++;\r\n                }\r\n            }\r\n            if (currentSelectorPathIndex < selectorPath.length && currentSelectorPathElementIndex > 0) {\r\n                path[path.length - 1].elements = path[path.length - 1]\r\n                    .elements.concat(selectorPath[currentSelectorPathIndex].elements.slice(currentSelectorPathElementIndex));\r\n                currentSelectorPathIndex++;\r\n            }\r\n            path = path.concat(selectorPath.slice(currentSelectorPathIndex, selectorPath.length));\r\n            path = path.map(function (currentValue) {\r\n                // we can re-use elements here, because the visibility property matters only for selectors\r\n                var derived = currentValue.createDerived(currentValue.elements);\r\n                if (isVisible) {\r\n                    derived.ensureVisibility();\r\n                }\r\n                else {\r\n                    derived.ensureInvisibility();\r\n                }\r\n                return derived;\r\n            });\r\n            return path;\r\n        };\r\n        ProcessExtendsVisitor.prototype.visitMedia = function (mediaNode, visitArgs) {\r\n            var newAllExtends = mediaNode.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length - 1]);\r\n            newAllExtends = newAllExtends.concat(this.doExtendChaining(newAllExtends, mediaNode.allExtends));\r\n            this.allExtendsStack.push(newAllExtends);\r\n        };\r\n        ProcessExtendsVisitor.prototype.visitMediaOut = function (mediaNode) {\r\n            var lastIndex = this.allExtendsStack.length - 1;\r\n            this.allExtendsStack.length = lastIndex;\r\n        };\r\n        ProcessExtendsVisitor.prototype.visitAtRule = function (atRuleNode, visitArgs) {\r\n            var newAllExtends = atRuleNode.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length - 1]);\r\n            newAllExtends = newAllExtends.concat(this.doExtendChaining(newAllExtends, atRuleNode.allExtends));\r\n            this.allExtendsStack.push(newAllExtends);\r\n        };\r\n        ProcessExtendsVisitor.prototype.visitAtRuleOut = function (atRuleNode) {\r\n            var lastIndex = this.allExtendsStack.length - 1;\r\n            this.allExtendsStack.length = lastIndex;\r\n        };\r\n        return ProcessExtendsVisitor;\r\n    }());\n\n    var JoinSelectorVisitor = /** @class */ (function () {\r\n        function JoinSelectorVisitor() {\r\n            this.contexts = [[]];\r\n            this._visitor = new Visitor(this);\r\n        }\r\n        JoinSelectorVisitor.prototype.run = function (root) {\r\n            return this._visitor.visit(root);\r\n        };\r\n        JoinSelectorVisitor.prototype.visitDeclaration = function (declNode, visitArgs) {\r\n            visitArgs.visitDeeper = false;\r\n        };\r\n        JoinSelectorVisitor.prototype.visitMixinDefinition = function (mixinDefinitionNode, visitArgs) {\r\n            visitArgs.visitDeeper = false;\r\n        };\r\n        JoinSelectorVisitor.prototype.visitRuleset = function (rulesetNode, visitArgs) {\r\n            var context = this.contexts[this.contexts.length - 1];\r\n            var paths = [];\r\n            var selectors;\r\n            this.contexts.push(paths);\r\n            if (!rulesetNode.root) {\r\n                selectors = rulesetNode.selectors;\r\n                if (selectors) {\r\n                    selectors = selectors.filter(function (selector) { return selector.getIsOutput(); });\r\n                    rulesetNode.selectors = selectors.length ? selectors : (selectors = null);\r\n                    if (selectors) {\r\n                        rulesetNode.joinSelectors(paths, context, selectors);\r\n                    }\r\n                }\r\n                if (!selectors) {\r\n                    rulesetNode.rules = null;\r\n                }\r\n                rulesetNode.paths = paths;\r\n            }\r\n        };\r\n        JoinSelectorVisitor.prototype.visitRulesetOut = function (rulesetNode) {\r\n            this.contexts.length = this.contexts.length - 1;\r\n        };\r\n        JoinSelectorVisitor.prototype.visitMedia = function (mediaNode, visitArgs) {\r\n            var context = this.contexts[this.contexts.length - 1];\r\n            mediaNode.rules[0].root = (context.length === 0 || context[0].multiMedia);\r\n        };\r\n        JoinSelectorVisitor.prototype.visitAtRule = function (atRuleNode, visitArgs) {\r\n            var context = this.contexts[this.contexts.length - 1];\r\n            if (atRuleNode.rules && atRuleNode.rules.length) {\r\n                atRuleNode.rules[0].root = (atRuleNode.isRooted || context.length === 0 || null);\r\n            }\r\n        };\r\n        return JoinSelectorVisitor;\r\n    }());\n\n    var CSSVisitorUtils = /** @class */ (function () {\r\n        function CSSVisitorUtils(context) {\r\n            this._visitor = new Visitor(this);\r\n            this._context = context;\r\n        }\r\n        CSSVisitorUtils.prototype.containsSilentNonBlockedChild = function (bodyRules) {\r\n            var rule;\r\n            if (!bodyRules) {\r\n                return false;\r\n            }\r\n            for (var r = 0; r < bodyRules.length; r++) {\r\n                rule = bodyRules[r];\r\n                if (rule.isSilent && rule.isSilent(this._context) && !rule.blocksVisibility()) {\r\n                    // the atrule contains something that was referenced (likely by extend)\r\n                    // therefore it needs to be shown in output too\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        };\r\n        CSSVisitorUtils.prototype.keepOnlyVisibleChilds = function (owner) {\r\n            if (owner && owner.rules) {\r\n                owner.rules = owner.rules.filter(function (thing) { return thing.isVisible(); });\r\n            }\r\n        };\r\n        CSSVisitorUtils.prototype.isEmpty = function (owner) {\r\n            return (owner && owner.rules)\r\n                ? (owner.rules.length === 0) : true;\r\n        };\r\n        CSSVisitorUtils.prototype.hasVisibleSelector = function (rulesetNode) {\r\n            return (rulesetNode && rulesetNode.paths)\r\n                ? (rulesetNode.paths.length > 0) : false;\r\n        };\r\n        CSSVisitorUtils.prototype.resolveVisibility = function (node, originalRules) {\r\n            if (!node.blocksVisibility()) {\r\n                if (this.isEmpty(node) && !this.containsSilentNonBlockedChild(originalRules)) {\r\n                    return;\r\n                }\r\n                return node;\r\n            }\r\n            var compiledRulesBody = node.rules[0];\r\n            this.keepOnlyVisibleChilds(compiledRulesBody);\r\n            if (this.isEmpty(compiledRulesBody)) {\r\n                return;\r\n            }\r\n            node.ensureVisibility();\r\n            node.removeVisibilityBlock();\r\n            return node;\r\n        };\r\n        CSSVisitorUtils.prototype.isVisibleRuleset = function (rulesetNode) {\r\n            if (rulesetNode.firstRoot) {\r\n                return true;\r\n            }\r\n            if (this.isEmpty(rulesetNode)) {\r\n                return false;\r\n            }\r\n            if (!rulesetNode.root && !this.hasVisibleSelector(rulesetNode)) {\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n        return CSSVisitorUtils;\r\n    }());\r\n    var ToCSSVisitor = function (context) {\r\n        this._visitor = new Visitor(this);\r\n        this._context = context;\r\n        this.utils = new CSSVisitorUtils(context);\r\n    };\r\n    ToCSSVisitor.prototype = {\r\n        isReplacing: true,\r\n        run: function (root) {\r\n            return this._visitor.visit(root);\r\n        },\r\n        visitDeclaration: function (declNode, visitArgs) {\r\n            if (declNode.blocksVisibility() || declNode.variable) {\r\n                return;\r\n            }\r\n            return declNode;\r\n        },\r\n        visitMixinDefinition: function (mixinNode, visitArgs) {\r\n            // mixin definitions do not get eval'd - this means they keep state\r\n            // so we have to clear that state here so it isn't used if toCSS is called twice\r\n            mixinNode.frames = [];\r\n        },\r\n        visitExtend: function (extendNode, visitArgs) {\r\n        },\r\n        visitComment: function (commentNode, visitArgs) {\r\n            if (commentNode.blocksVisibility() || commentNode.isSilent(this._context)) {\r\n                return;\r\n            }\r\n            return commentNode;\r\n        },\r\n        visitMedia: function (mediaNode, visitArgs) {\r\n            var originalRules = mediaNode.rules[0].rules;\r\n            mediaNode.accept(this._visitor);\r\n            visitArgs.visitDeeper = false;\r\n            return this.utils.resolveVisibility(mediaNode, originalRules);\r\n        },\r\n        visitImport: function (importNode, visitArgs) {\r\n            if (importNode.blocksVisibility()) {\r\n                return;\r\n            }\r\n            return importNode;\r\n        },\r\n        visitAtRule: function (atRuleNode, visitArgs) {\r\n            if (atRuleNode.rules && atRuleNode.rules.length) {\r\n                return this.visitAtRuleWithBody(atRuleNode, visitArgs);\r\n            }\r\n            else {\r\n                return this.visitAtRuleWithoutBody(atRuleNode, visitArgs);\r\n            }\r\n        },\r\n        visitAnonymous: function (anonymousNode, visitArgs) {\r\n            if (!anonymousNode.blocksVisibility()) {\r\n                anonymousNode.accept(this._visitor);\r\n                return anonymousNode;\r\n            }\r\n        },\r\n        visitAtRuleWithBody: function (atRuleNode, visitArgs) {\r\n            // if there is only one nested ruleset and that one has no path, then it is\r\n            // just fake ruleset\r\n            function hasFakeRuleset(atRuleNode) {\r\n                var bodyRules = atRuleNode.rules;\r\n                return bodyRules.length === 1 && (!bodyRules[0].paths || bodyRules[0].paths.length === 0);\r\n            }\r\n            function getBodyRules(atRuleNode) {\r\n                var nodeRules = atRuleNode.rules;\r\n                if (hasFakeRuleset(atRuleNode)) {\r\n                    return nodeRules[0].rules;\r\n                }\r\n                return nodeRules;\r\n            }\r\n            // it is still true that it is only one ruleset in array\r\n            // this is last such moment\r\n            // process childs\r\n            var originalRules = getBodyRules(atRuleNode);\r\n            atRuleNode.accept(this._visitor);\r\n            visitArgs.visitDeeper = false;\r\n            if (!this.utils.isEmpty(atRuleNode)) {\r\n                this._mergeRules(atRuleNode.rules[0].rules);\r\n            }\r\n            return this.utils.resolveVisibility(atRuleNode, originalRules);\r\n        },\r\n        visitAtRuleWithoutBody: function (atRuleNode, visitArgs) {\r\n            if (atRuleNode.blocksVisibility()) {\r\n                return;\r\n            }\r\n            if (atRuleNode.name === '@charset') {\r\n                // Only output the debug info together with subsequent @charset definitions\r\n                // a comment (or @media statement) before the actual @charset atrule would\r\n                // be considered illegal css as it has to be on the first line\r\n                if (this.charset) {\r\n                    if (atRuleNode.debugInfo) {\r\n                        var comment = new tree.Comment(\"/* \" + atRuleNode.toCSS(this._context).replace(/\\n/g, '') + \" */\\n\");\r\n                        comment.debugInfo = atRuleNode.debugInfo;\r\n                        return this._visitor.visit(comment);\r\n                    }\r\n                    return;\r\n                }\r\n                this.charset = true;\r\n            }\r\n            return atRuleNode;\r\n        },\r\n        checkValidNodes: function (rules, isRoot) {\r\n            if (!rules) {\r\n                return;\r\n            }\r\n            for (var i = 0; i < rules.length; i++) {\r\n                var ruleNode = rules[i];\r\n                if (isRoot && ruleNode instanceof tree.Declaration && !ruleNode.variable) {\r\n                    throw { message: 'Properties must be inside selector blocks. They cannot be in the root',\r\n                        index: ruleNode.getIndex(), filename: ruleNode.fileInfo() && ruleNode.fileInfo().filename };\r\n                }\r\n                if (ruleNode instanceof tree.Call) {\r\n                    throw { message: \"Function '\" + ruleNode.name + \"' did not return a root node\",\r\n                        index: ruleNode.getIndex(), filename: ruleNode.fileInfo() && ruleNode.fileInfo().filename };\r\n                }\r\n                if (ruleNode.type && !ruleNode.allowRoot) {\r\n                    throw { message: ruleNode.type + \" node returned by a function is not valid here\",\r\n                        index: ruleNode.getIndex(), filename: ruleNode.fileInfo() && ruleNode.fileInfo().filename };\r\n                }\r\n            }\r\n        },\r\n        visitRuleset: function (rulesetNode, visitArgs) {\r\n            // at this point rulesets are nested into each other\r\n            var rule;\r\n            var rulesets = [];\r\n            this.checkValidNodes(rulesetNode.rules, rulesetNode.firstRoot);\r\n            if (!rulesetNode.root) {\r\n                // remove invisible paths\r\n                this._compileRulesetPaths(rulesetNode);\r\n                // remove rulesets from this ruleset body and compile them separately\r\n                var nodeRules = rulesetNode.rules;\r\n                var nodeRuleCnt = nodeRules ? nodeRules.length : 0;\r\n                for (var i = 0; i < nodeRuleCnt;) {\r\n                    rule = nodeRules[i];\r\n                    if (rule && rule.rules) {\r\n                        // visit because we are moving them out from being a child\r\n                        rulesets.push(this._visitor.visit(rule));\r\n                        nodeRules.splice(i, 1);\r\n                        nodeRuleCnt--;\r\n                        continue;\r\n                    }\r\n                    i++;\r\n                }\r\n                // accept the visitor to remove rules and refactor itself\r\n                // then we can decide nogw whether we want it or not\r\n                // compile body\r\n                if (nodeRuleCnt > 0) {\r\n                    rulesetNode.accept(this._visitor);\r\n                }\r\n                else {\r\n                    rulesetNode.rules = null;\r\n                }\r\n                visitArgs.visitDeeper = false;\r\n            }\r\n            else { // if (! rulesetNode.root) {\r\n                rulesetNode.accept(this._visitor);\r\n                visitArgs.visitDeeper = false;\r\n            }\r\n            if (rulesetNode.rules) {\r\n                this._mergeRules(rulesetNode.rules);\r\n                this._removeDuplicateRules(rulesetNode.rules);\r\n            }\r\n            // now decide whether we keep the ruleset\r\n            if (this.utils.isVisibleRuleset(rulesetNode)) {\r\n                rulesetNode.ensureVisibility();\r\n                rulesets.splice(0, 0, rulesetNode);\r\n            }\r\n            if (rulesets.length === 1) {\r\n                return rulesets[0];\r\n            }\r\n            return rulesets;\r\n        },\r\n        _compileRulesetPaths: function (rulesetNode) {\r\n            if (rulesetNode.paths) {\r\n                rulesetNode.paths = rulesetNode.paths\r\n                    .filter(function (p) {\r\n                    var i;\r\n                    if (p[0].elements[0].combinator.value === ' ') {\r\n                        p[0].elements[0].combinator = new (tree.Combinator)('');\r\n                    }\r\n                    for (i = 0; i < p.length; i++) {\r\n                        if (p[i].isVisible() && p[i].getIsOutput()) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    return false;\r\n                });\r\n            }\r\n        },\r\n        _removeDuplicateRules: function (rules) {\r\n            if (!rules) {\r\n                return;\r\n            }\r\n            // remove duplicates\r\n            var ruleCache = {};\r\n            var ruleList;\r\n            var rule;\r\n            var i;\r\n            for (i = rules.length - 1; i >= 0; i--) {\r\n                rule = rules[i];\r\n                if (rule instanceof tree.Declaration) {\r\n                    if (!ruleCache[rule.name]) {\r\n                        ruleCache[rule.name] = rule;\r\n                    }\r\n                    else {\r\n                        ruleList = ruleCache[rule.name];\r\n                        if (ruleList instanceof tree.Declaration) {\r\n                            ruleList = ruleCache[rule.name] = [ruleCache[rule.name].toCSS(this._context)];\r\n                        }\r\n                        var ruleCSS = rule.toCSS(this._context);\r\n                        if (ruleList.indexOf(ruleCSS) !== -1) {\r\n                            rules.splice(i, 1);\r\n                        }\r\n                        else {\r\n                            ruleList.push(ruleCSS);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        _mergeRules: function (rules) {\r\n            if (!rules) {\r\n                return;\r\n            }\r\n            var groups = {};\r\n            var groupsArr = [];\r\n            for (var i = 0; i < rules.length; i++) {\r\n                var rule = rules[i];\r\n                if (rule.merge) {\r\n                    var key = rule.name;\r\n                    groups[key] ? rules.splice(i--, 1) :\r\n                        groupsArr.push(groups[key] = []);\r\n                    groups[key].push(rule);\r\n                }\r\n            }\r\n            groupsArr.forEach(function (group) {\r\n                if (group.length > 0) {\r\n                    var result_1 = group[0];\r\n                    var space_1 = [];\r\n                    var comma_1 = [new tree.Expression(space_1)];\r\n                    group.forEach(function (rule) {\r\n                        if ((rule.merge === '+') && (space_1.length > 0)) {\r\n                            comma_1.push(new tree.Expression(space_1 = []));\r\n                        }\r\n                        space_1.push(rule.value);\r\n                        result_1.important = result_1.important || rule.important;\r\n                    });\r\n                    result_1.value = new tree.Value(comma_1);\r\n                }\r\n            });\r\n        }\r\n    };\n\n    var visitors = {\r\n        Visitor: Visitor,\r\n        ImportVisitor: ImportVisitor,\r\n        MarkVisibleSelectorsVisitor: SetTreeVisibilityVisitor,\r\n        ExtendVisitor: ProcessExtendsVisitor,\r\n        JoinSelectorVisitor: JoinSelectorVisitor,\r\n        ToCSSVisitor: ToCSSVisitor\r\n    };\n\n    // Split the input into chunks.\r\n    function chunker (input, fail) {\r\n        var len = input.length;\r\n        var level = 0;\r\n        var parenLevel = 0;\r\n        var lastOpening;\r\n        var lastOpeningParen;\r\n        var lastMultiComment;\r\n        var lastMultiCommentEndBrace;\r\n        var chunks = [];\r\n        var emitFrom = 0;\r\n        var chunkerCurrentIndex;\r\n        var currentChunkStartIndex;\r\n        var cc;\r\n        var cc2;\r\n        var matched;\r\n        function emitChunk(force) {\r\n            var len = chunkerCurrentIndex - emitFrom;\r\n            if (((len < 512) && !force) || !len) {\r\n                return;\r\n            }\r\n            chunks.push(input.slice(emitFrom, chunkerCurrentIndex + 1));\r\n            emitFrom = chunkerCurrentIndex + 1;\r\n        }\r\n        for (chunkerCurrentIndex = 0; chunkerCurrentIndex < len; chunkerCurrentIndex++) {\r\n            cc = input.charCodeAt(chunkerCurrentIndex);\r\n            if (((cc >= 97) && (cc <= 122)) || (cc < 34)) {\r\n                // a-z or whitespace\r\n                continue;\r\n            }\r\n            switch (cc) {\r\n                case 40: // (\r\n                    parenLevel++;\r\n                    lastOpeningParen = chunkerCurrentIndex;\r\n                    continue;\r\n                case 41: // )\r\n                    if (--parenLevel < 0) {\r\n                        return fail('missing opening `(`', chunkerCurrentIndex);\r\n                    }\r\n                    continue;\r\n                case 59: // ;\r\n                    if (!parenLevel) {\r\n                        emitChunk();\r\n                    }\r\n                    continue;\r\n                case 123: // {\r\n                    level++;\r\n                    lastOpening = chunkerCurrentIndex;\r\n                    continue;\r\n                case 125: // }\r\n                    if (--level < 0) {\r\n                        return fail('missing opening `{`', chunkerCurrentIndex);\r\n                    }\r\n                    if (!level && !parenLevel) {\r\n                        emitChunk();\r\n                    }\r\n                    continue;\r\n                case 92: // \\\r\n                    if (chunkerCurrentIndex < len - 1) {\r\n                        chunkerCurrentIndex++;\r\n                        continue;\r\n                    }\r\n                    return fail('unescaped `\\\\`', chunkerCurrentIndex);\r\n                case 34:\r\n                case 39:\r\n                case 96: // \", ' and `\r\n                    matched = 0;\r\n                    currentChunkStartIndex = chunkerCurrentIndex;\r\n                    for (chunkerCurrentIndex = chunkerCurrentIndex + 1; chunkerCurrentIndex < len; chunkerCurrentIndex++) {\r\n                        cc2 = input.charCodeAt(chunkerCurrentIndex);\r\n                        if (cc2 > 96) {\r\n                            continue;\r\n                        }\r\n                        if (cc2 == cc) {\r\n                            matched = 1;\r\n                            break;\r\n                        }\r\n                        if (cc2 == 92) { // \\\r\n                            if (chunkerCurrentIndex == len - 1) {\r\n                                return fail('unescaped `\\\\`', chunkerCurrentIndex);\r\n                            }\r\n                            chunkerCurrentIndex++;\r\n                        }\r\n                    }\r\n                    if (matched) {\r\n                        continue;\r\n                    }\r\n                    return fail(\"unmatched `\" + String.fromCharCode(cc) + \"`\", currentChunkStartIndex);\r\n                case 47: // /, check for comment\r\n                    if (parenLevel || (chunkerCurrentIndex == len - 1)) {\r\n                        continue;\r\n                    }\r\n                    cc2 = input.charCodeAt(chunkerCurrentIndex + 1);\r\n                    if (cc2 == 47) {\r\n                        // //, find lnfeed\r\n                        for (chunkerCurrentIndex = chunkerCurrentIndex + 2; chunkerCurrentIndex < len; chunkerCurrentIndex++) {\r\n                            cc2 = input.charCodeAt(chunkerCurrentIndex);\r\n                            if ((cc2 <= 13) && ((cc2 == 10) || (cc2 == 13))) {\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (cc2 == 42) {\r\n                        // /*, find */\r\n                        lastMultiComment = currentChunkStartIndex = chunkerCurrentIndex;\r\n                        for (chunkerCurrentIndex = chunkerCurrentIndex + 2; chunkerCurrentIndex < len - 1; chunkerCurrentIndex++) {\r\n                            cc2 = input.charCodeAt(chunkerCurrentIndex);\r\n                            if (cc2 == 125) {\r\n                                lastMultiCommentEndBrace = chunkerCurrentIndex;\r\n                            }\r\n                            if (cc2 != 42) {\r\n                                continue;\r\n                            }\r\n                            if (input.charCodeAt(chunkerCurrentIndex + 1) == 47) {\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (chunkerCurrentIndex == len - 1) {\r\n                            return fail('missing closing `*/`', currentChunkStartIndex);\r\n                        }\r\n                        chunkerCurrentIndex++;\r\n                    }\r\n                    continue;\r\n                case 42: // *, check for unmatched */\r\n                    if ((chunkerCurrentIndex < len - 1) && (input.charCodeAt(chunkerCurrentIndex + 1) == 47)) {\r\n                        return fail('unmatched `/*`', chunkerCurrentIndex);\r\n                    }\r\n                    continue;\r\n            }\r\n        }\r\n        if (level !== 0) {\r\n            if ((lastMultiComment > lastOpening) && (lastMultiCommentEndBrace > lastMultiComment)) {\r\n                return fail('missing closing `}` or `*/`', lastOpening);\r\n            }\r\n            else {\r\n                return fail('missing closing `}`', lastOpening);\r\n            }\r\n        }\r\n        else if (parenLevel !== 0) {\r\n            return fail('missing closing `)`', lastOpeningParen);\r\n        }\r\n        emitChunk(true);\r\n        return chunks;\r\n    }\n\n    var getParserInput = (function () {\r\n        var // Less input string\r\n        input;\r\n        var // current chunk\r\n        j;\r\n        var // holds state for backtracking\r\n        saveStack = [];\r\n        var // furthest index the parser has gone to\r\n        furthest;\r\n        var // if this is furthest we got to, this is the probably cause\r\n        furthestPossibleErrorMessage;\r\n        var // chunkified input\r\n        chunks;\r\n        var // current chunk\r\n        current;\r\n        var // index of current chunk, in `input`\r\n        currentPos;\r\n        var parserInput = {};\r\n        var CHARCODE_SPACE = 32;\r\n        var CHARCODE_TAB = 9;\r\n        var CHARCODE_LF = 10;\r\n        var CHARCODE_CR = 13;\r\n        var CHARCODE_PLUS = 43;\r\n        var CHARCODE_COMMA = 44;\r\n        var CHARCODE_FORWARD_SLASH = 47;\r\n        var CHARCODE_9 = 57;\r\n        function skipWhitespace(length) {\r\n            var oldi = parserInput.i;\r\n            var oldj = j;\r\n            var curr = parserInput.i - currentPos;\r\n            var endIndex = parserInput.i + current.length - curr;\r\n            var mem = (parserInput.i += length);\r\n            var inp = input;\r\n            var c;\r\n            var nextChar;\r\n            var comment;\r\n            for (; parserInput.i < endIndex; parserInput.i++) {\r\n                c = inp.charCodeAt(parserInput.i);\r\n                if (parserInput.autoCommentAbsorb && c === CHARCODE_FORWARD_SLASH) {\r\n                    nextChar = inp.charAt(parserInput.i + 1);\r\n                    if (nextChar === '/') {\r\n                        comment = { index: parserInput.i, isLineComment: true };\r\n                        var nextNewLine = inp.indexOf('\\n', parserInput.i + 2);\r\n                        if (nextNewLine < 0) {\r\n                            nextNewLine = endIndex;\r\n                        }\r\n                        parserInput.i = nextNewLine;\r\n                        comment.text = inp.substr(comment.index, parserInput.i - comment.index);\r\n                        parserInput.commentStore.push(comment);\r\n                        continue;\r\n                    }\r\n                    else if (nextChar === '*') {\r\n                        var nextStarSlash = inp.indexOf('*/', parserInput.i + 2);\r\n                        if (nextStarSlash >= 0) {\r\n                            comment = {\r\n                                index: parserInput.i,\r\n                                text: inp.substr(parserInput.i, nextStarSlash + 2 - parserInput.i),\r\n                                isLineComment: false\r\n                            };\r\n                            parserInput.i += comment.text.length - 1;\r\n                            parserInput.commentStore.push(comment);\r\n                            continue;\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                if ((c !== CHARCODE_SPACE) && (c !== CHARCODE_LF) && (c !== CHARCODE_TAB) && (c !== CHARCODE_CR)) {\r\n                    break;\r\n                }\r\n            }\r\n            current = current.slice(length + parserInput.i - mem + curr);\r\n            currentPos = parserInput.i;\r\n            if (!current.length) {\r\n                if (j < chunks.length - 1) {\r\n                    current = chunks[++j];\r\n                    skipWhitespace(0); // skip space at the beginning of a chunk\r\n                    return true; // things changed\r\n                }\r\n                parserInput.finished = true;\r\n            }\r\n            return oldi !== parserInput.i || oldj !== j;\r\n        }\r\n        parserInput.save = function () {\r\n            currentPos = parserInput.i;\r\n            saveStack.push({ current: current, i: parserInput.i, j: j });\r\n        };\r\n        parserInput.restore = function (possibleErrorMessage) {\r\n            if (parserInput.i > furthest || (parserInput.i === furthest && possibleErrorMessage && !furthestPossibleErrorMessage)) {\r\n                furthest = parserInput.i;\r\n                furthestPossibleErrorMessage = possibleErrorMessage;\r\n            }\r\n            var state = saveStack.pop();\r\n            current = state.current;\r\n            currentPos = parserInput.i = state.i;\r\n            j = state.j;\r\n        };\r\n        parserInput.forget = function () {\r\n            saveStack.pop();\r\n        };\r\n        parserInput.isWhitespace = function (offset) {\r\n            var pos = parserInput.i + (offset || 0);\r\n            var code = input.charCodeAt(pos);\r\n            return (code === CHARCODE_SPACE || code === CHARCODE_CR || code === CHARCODE_TAB || code === CHARCODE_LF);\r\n        };\r\n        // Specialization of $(tok)\r\n        parserInput.$re = function (tok) {\r\n            if (parserInput.i > currentPos) {\r\n                current = current.slice(parserInput.i - currentPos);\r\n                currentPos = parserInput.i;\r\n            }\r\n            var m = tok.exec(current);\r\n            if (!m) {\r\n                return null;\r\n            }\r\n            skipWhitespace(m[0].length);\r\n            if (typeof m === 'string') {\r\n                return m;\r\n            }\r\n            return m.length === 1 ? m[0] : m;\r\n        };\r\n        parserInput.$char = function (tok) {\r\n            if (input.charAt(parserInput.i) !== tok) {\r\n                return null;\r\n            }\r\n            skipWhitespace(1);\r\n            return tok;\r\n        };\r\n        parserInput.$str = function (tok) {\r\n            var tokLength = tok.length;\r\n            // https://jsperf.com/string-startswith/21\r\n            for (var i = 0; i < tokLength; i++) {\r\n                if (input.charAt(parserInput.i + i) !== tok.charAt(i)) {\r\n                    return null;\r\n                }\r\n            }\r\n            skipWhitespace(tokLength);\r\n            return tok;\r\n        };\r\n        parserInput.$quoted = function (loc) {\r\n            var pos = loc || parserInput.i;\r\n            var startChar = input.charAt(pos);\r\n            if (startChar !== '\\'' && startChar !== '\"') {\r\n                return;\r\n            }\r\n            var length = input.length;\r\n            var currentPosition = pos;\r\n            for (var i = 1; i + currentPosition < length; i++) {\r\n                var nextChar = input.charAt(i + currentPosition);\r\n                switch (nextChar) {\r\n                    case '\\\\':\r\n                        i++;\r\n                        continue;\r\n                    case '\\r':\r\n                    case '\\n':\r\n                        break;\r\n                    case startChar:\r\n                        var str = input.substr(currentPosition, i + 1);\r\n                        if (!loc && loc !== 0) {\r\n                            skipWhitespace(i + 1);\r\n                            return str;\r\n                        }\r\n                        return [startChar, str];\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n        /**\r\n         * Permissive parsing. Ignores everything except matching {} [] () and quotes\r\n         * until matching token (outside of blocks)\r\n         */\r\n        parserInput.$parseUntil = function (tok) {\r\n            var quote = '';\r\n            var returnVal = null;\r\n            var inComment = false;\r\n            var blockDepth = 0;\r\n            var blockStack = [];\r\n            var parseGroups = [];\r\n            var length = input.length;\r\n            var startPos = parserInput.i;\r\n            var lastPos = parserInput.i;\r\n            var i = parserInput.i;\r\n            var loop = true;\r\n            var testChar;\r\n            if (typeof tok === 'string') {\r\n                testChar = function (char) { return char === tok; };\r\n            }\r\n            else {\r\n                testChar = function (char) { return tok.test(char); };\r\n            }\r\n            do {\r\n                var nextChar = input.charAt(i);\r\n                if (blockDepth === 0 && testChar(nextChar)) {\r\n                    returnVal = input.substr(lastPos, i - lastPos);\r\n                    if (returnVal) {\r\n                        parseGroups.push(returnVal);\r\n                    }\r\n                    else {\r\n                        parseGroups.push(' ');\r\n                    }\r\n                    returnVal = parseGroups;\r\n                    skipWhitespace(i - startPos);\r\n                    loop = false;\r\n                }\r\n                else {\r\n                    if (inComment) {\r\n                        if (nextChar === '*' &&\r\n                            input.charAt(i + 1) === '/') {\r\n                            i++;\r\n                            blockDepth--;\r\n                            inComment = false;\r\n                        }\r\n                        i++;\r\n                        continue;\r\n                    }\r\n                    switch (nextChar) {\r\n                        case '\\\\':\r\n                            i++;\r\n                            nextChar = input.charAt(i);\r\n                            parseGroups.push(input.substr(lastPos, i - lastPos + 1));\r\n                            lastPos = i + 1;\r\n                            break;\r\n                        case '/':\r\n                            if (input.charAt(i + 1) === '*') {\r\n                                i++;\r\n                                inComment = true;\r\n                                blockDepth++;\r\n                            }\r\n                            break;\r\n                        case '\\'':\r\n                        case '\"':\r\n                            quote = parserInput.$quoted(i);\r\n                            if (quote) {\r\n                                parseGroups.push(input.substr(lastPos, i - lastPos), quote);\r\n                                i += quote[1].length - 1;\r\n                                lastPos = i + 1;\r\n                            }\r\n                            else {\r\n                                skipWhitespace(i - startPos);\r\n                                returnVal = nextChar;\r\n                                loop = false;\r\n                            }\r\n                            break;\r\n                        case '{':\r\n                            blockStack.push('}');\r\n                            blockDepth++;\r\n                            break;\r\n                        case '(':\r\n                            blockStack.push(')');\r\n                            blockDepth++;\r\n                            break;\r\n                        case '[':\r\n                            blockStack.push(']');\r\n                            blockDepth++;\r\n                            break;\r\n                        case '}':\r\n                        case ')':\r\n                        case ']':\r\n                            var expected = blockStack.pop();\r\n                            if (nextChar === expected) {\r\n                                blockDepth--;\r\n                            }\r\n                            else {\r\n                                // move the parser to the error and return expected\r\n                                skipWhitespace(i - startPos);\r\n                                returnVal = expected;\r\n                                loop = false;\r\n                            }\r\n                    }\r\n                    i++;\r\n                    if (i > length) {\r\n                        loop = false;\r\n                    }\r\n                }\r\n            } while (loop);\r\n            return returnVal ? returnVal : null;\r\n        };\r\n        parserInput.autoCommentAbsorb = true;\r\n        parserInput.commentStore = [];\r\n        parserInput.finished = false;\r\n        // Same as $(), but don't change the state of the parser,\r\n        // just return the match.\r\n        parserInput.peek = function (tok) {\r\n            if (typeof tok === 'string') {\r\n                // https://jsperf.com/string-startswith/21\r\n                for (var i = 0; i < tok.length; i++) {\r\n                    if (input.charAt(parserInput.i + i) !== tok.charAt(i)) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n            else {\r\n                return tok.test(current);\r\n            }\r\n        };\r\n        // Specialization of peek()\r\n        // TODO remove or change some currentChar calls to peekChar\r\n        parserInput.peekChar = function (tok) { return input.charAt(parserInput.i) === tok; };\r\n        parserInput.currentChar = function () { return input.charAt(parserInput.i); };\r\n        parserInput.prevChar = function () { return input.charAt(parserInput.i - 1); };\r\n        parserInput.getInput = function () { return input; };\r\n        parserInput.peekNotNumeric = function () {\r\n            var c = input.charCodeAt(parserInput.i);\r\n            // Is the first char of the dimension 0-9, '.', '+' or '-'\r\n            return (c > CHARCODE_9 || c < CHARCODE_PLUS) || c === CHARCODE_FORWARD_SLASH || c === CHARCODE_COMMA;\r\n        };\r\n        parserInput.start = function (str, chunkInput, failFunction) {\r\n            input = str;\r\n            parserInput.i = j = currentPos = furthest = 0;\r\n            // chunking apparently makes things quicker (but my tests indicate\r\n            // it might actually make things slower in node at least)\r\n            // and it is a non-perfect parse - it can't recognise\r\n            // unquoted urls, meaning it can't distinguish comments\r\n            // meaning comments with quotes or {}() in them get 'counted'\r\n            // and then lead to parse errors.\r\n            // In addition if the chunking chunks in the wrong place we might\r\n            // not be able to parse a parser statement in one go\r\n            // this is officially deprecated but can be switched on via an option\r\n            // in the case it causes too much performance issues.\r\n            if (chunkInput) {\r\n                chunks = chunker(str, failFunction);\r\n            }\r\n            else {\r\n                chunks = [str];\r\n            }\r\n            current = chunks[0];\r\n            skipWhitespace(0);\r\n        };\r\n        parserInput.end = function () {\r\n            var message;\r\n            var isFinished = parserInput.i >= input.length;\r\n            if (parserInput.i < furthest) {\r\n                message = furthestPossibleErrorMessage;\r\n                parserInput.i = furthest;\r\n            }\r\n            return {\r\n                isFinished: isFinished,\r\n                furthest: parserInput.i,\r\n                furthestPossibleErrorMessage: message,\r\n                furthestReachedEnd: parserInput.i >= input.length - 1,\r\n                furthestChar: input[parserInput.i]\r\n            };\r\n        };\r\n        return parserInput;\r\n    });\n\n    //\r\n    // less.js - parser\r\n    //\r\n    //    A relatively straight-forward predictive parser.\r\n    //    There is no tokenization/lexing stage, the input is parsed\r\n    //    in one sweep.\r\n    //\r\n    //    To make the parser fast enough to run in the browser, several\r\n    //    optimization had to be made:\r\n    //\r\n    //    - Matching and slicing on a huge input is often cause of slowdowns.\r\n    //      The solution is to chunkify the input into smaller strings.\r\n    //      The chunks are stored in the `chunks` var,\r\n    //      `j` holds the current chunk index, and `currentPos` holds\r\n    //      the index of the current chunk in relation to `input`.\r\n    //      This gives us an almost 4x speed-up.\r\n    //\r\n    //    - In many cases, we don't need to match individual tokens;\r\n    //      for example, if a value doesn't hold any variables, operations\r\n    //      or dynamic references, the parser can effectively 'skip' it,\r\n    //      treating it as a literal.\r\n    //      An example would be '1px solid #000' - which evaluates to itself,\r\n    //      we don't need to know what the individual components are.\r\n    //      The drawback, of course is that you don't get the benefits of\r\n    //      syntax-checking on the CSS. This gives us a 50% speed-up in the parser,\r\n    //      and a smaller speed-up in the code-gen.\r\n    //\r\n    //\r\n    //    Token matching is done with the `$` function, which either takes\r\n    //    a terminal string or regexp, or a non-terminal function to call.\r\n    //    It also takes care of moving all the indices forwards.\r\n    //\r\n    var Parser = function Parser(context, imports, fileInfo) {\r\n        var parsers;\r\n        var parserInput = getParserInput();\r\n        function error(msg, type) {\r\n            throw new LessError({\r\n                index: parserInput.i,\r\n                filename: fileInfo.filename,\r\n                type: type || 'Syntax',\r\n                message: msg\r\n            }, imports);\r\n        }\r\n        function expect(arg, msg) {\r\n            // some older browsers return typeof 'function' for RegExp\r\n            var result = (arg instanceof Function) ? arg.call(parsers) : parserInput.$re(arg);\r\n            if (result) {\r\n                return result;\r\n            }\r\n            error(msg || (typeof arg === 'string'\r\n                ? \"expected '\" + arg + \"' got '\" + parserInput.currentChar() + \"'\"\r\n                : 'unexpected token'));\r\n        }\r\n        // Specialization of expect()\r\n        function expectChar(arg, msg) {\r\n            if (parserInput.$char(arg)) {\r\n                return arg;\r\n            }\r\n            error(msg || \"expected '\" + arg + \"' got '\" + parserInput.currentChar() + \"'\");\r\n        }\r\n        function getDebugInfo(index) {\r\n            var filename = fileInfo.filename;\r\n            return {\r\n                lineNumber: getLocation(index, parserInput.getInput()).line + 1,\r\n                fileName: filename\r\n            };\r\n        }\r\n        /**\r\n         *  Used after initial parsing to create nodes on the fly\r\n         *\r\n         *  @param {String} str          - string to parse\r\n         *  @param {Array}  parseList    - array of parsers to run input through e.g. [\"value\", \"important\"]\r\n         *  @param {Number} currentIndex - start number to begin indexing\r\n         *  @param {Object} fileInfo     - fileInfo to attach to created nodes\r\n         */\r\n        function parseNode(str, parseList, currentIndex, fileInfo, callback) {\r\n            var result;\r\n            var returnNodes = [];\r\n            var parser = parserInput;\r\n            try {\r\n                parser.start(str, false, function fail(msg, index) {\r\n                    callback({\r\n                        message: msg,\r\n                        index: index + currentIndex\r\n                    });\r\n                });\r\n                for (var x = 0, p = void 0, i = void 0; (p = parseList[x]); x++) {\r\n                    i = parser.i;\r\n                    result = parsers[p]();\r\n                    if (result) {\r\n                        try {\r\n                            result._index = i + currentIndex;\r\n                            result._fileInfo = fileInfo;\r\n                        }\r\n                        catch (e) { }\r\n                        returnNodes.push(result);\r\n                    }\r\n                    else {\r\n                        returnNodes.push(null);\r\n                    }\r\n                }\r\n                var endInfo = parser.end();\r\n                if (endInfo.isFinished) {\r\n                    callback(null, returnNodes);\r\n                }\r\n                else {\r\n                    callback(true, null);\r\n                }\r\n            }\r\n            catch (e) {\r\n                throw new LessError({\r\n                    index: e.index + currentIndex,\r\n                    message: e.message\r\n                }, imports, fileInfo.filename);\r\n            }\r\n        }\r\n        //\r\n        // The Parser\r\n        //\r\n        return {\r\n            parserInput: parserInput,\r\n            imports: imports,\r\n            fileInfo: fileInfo,\r\n            parseNode: parseNode,\r\n            //\r\n            // Parse an input string into an abstract syntax tree,\r\n            // @param str A string containing 'less' markup\r\n            // @param callback call `callback` when done.\r\n            // @param [additionalData] An optional map which can contains vars - a map (key, value) of variables to apply\r\n            //\r\n            parse: function (str, callback, additionalData) {\r\n                var root;\r\n                var err = null;\r\n                var globalVars;\r\n                var modifyVars;\r\n                var ignored;\r\n                var preText = '';\r\n                // Optionally disable @plugin parsing\r\n                if (additionalData && additionalData.disablePluginRule) {\r\n                    parsers.plugin = function () {\r\n                        var dir = parserInput.$re(/^@plugin?\\s+/);\r\n                        if (dir) {\r\n                            error('@plugin statements are not allowed when disablePluginRule is set to true');\r\n                        }\r\n                    };\r\n                }\r\n                globalVars = (additionalData && additionalData.globalVars) ? Parser.serializeVars(additionalData.globalVars) + \"\\n\" : '';\r\n                modifyVars = (additionalData && additionalData.modifyVars) ? \"\\n\" + Parser.serializeVars(additionalData.modifyVars) : '';\r\n                if (context.pluginManager) {\r\n                    var preProcessors = context.pluginManager.getPreProcessors();\r\n                    for (var i = 0; i < preProcessors.length; i++) {\r\n                        str = preProcessors[i].process(str, { context: context, imports: imports, fileInfo: fileInfo });\r\n                    }\r\n                }\r\n                if (globalVars || (additionalData && additionalData.banner)) {\r\n                    preText = ((additionalData && additionalData.banner) ? additionalData.banner : '') + globalVars;\r\n                    ignored = imports.contentsIgnoredChars;\r\n                    ignored[fileInfo.filename] = ignored[fileInfo.filename] || 0;\r\n                    ignored[fileInfo.filename] += preText.length;\r\n                }\r\n                str = str.replace(/\\r\\n?/g, '\\n');\r\n                // Remove potential UTF Byte Order Mark\r\n                str = preText + str.replace(/^\\uFEFF/, '') + modifyVars;\r\n                imports.contents[fileInfo.filename] = str;\r\n                // Start with the primary rule.\r\n                // The whole syntax tree is held under a Ruleset node,\r\n                // with the `root` property set to true, so no `{}` are\r\n                // output. The callback is called when the input is parsed.\r\n                try {\r\n                    parserInput.start(str, context.chunkInput, function fail(msg, index) {\r\n                        throw new LessError({\r\n                            index: index,\r\n                            type: 'Parse',\r\n                            message: msg,\r\n                            filename: fileInfo.filename\r\n                        }, imports);\r\n                    });\r\n                    tree.Node.prototype.parse = this;\r\n                    root = new tree.Ruleset(null, this.parsers.primary());\r\n                    tree.Node.prototype.rootNode = root;\r\n                    root.root = true;\r\n                    root.firstRoot = true;\r\n                    root.functionRegistry = functionRegistry.inherit();\r\n                }\r\n                catch (e) {\r\n                    return callback(new LessError(e, imports, fileInfo.filename));\r\n                }\r\n                // If `i` is smaller than the `input.length - 1`,\r\n                // it means the parser wasn't able to parse the whole\r\n                // string, so we've got a parsing error.\r\n                //\r\n                // We try to extract a \\n delimited string,\r\n                // showing the line where the parse error occurred.\r\n                // We split it up into two parts (the part which parsed,\r\n                // and the part which didn't), so we can color them differently.\r\n                var endInfo = parserInput.end();\r\n                if (!endInfo.isFinished) {\r\n                    var message = endInfo.furthestPossibleErrorMessage;\r\n                    if (!message) {\r\n                        message = 'Unrecognised input';\r\n                        if (endInfo.furthestChar === '}') {\r\n                            message += '. Possibly missing opening \\'{\\'';\r\n                        }\r\n                        else if (endInfo.furthestChar === ')') {\r\n                            message += '. Possibly missing opening \\'(\\'';\r\n                        }\r\n                        else if (endInfo.furthestReachedEnd) {\r\n                            message += '. Possibly missing something';\r\n                        }\r\n                    }\r\n                    err = new LessError({\r\n                        type: 'Parse',\r\n                        message: message,\r\n                        index: endInfo.furthest,\r\n                        filename: fileInfo.filename\r\n                    }, imports);\r\n                }\r\n                var finish = function (e) {\r\n                    e = err || e || imports.error;\r\n                    if (e) {\r\n                        if (!(e instanceof LessError)) {\r\n                            e = new LessError(e, imports, fileInfo.filename);\r\n                        }\r\n                        return callback(e);\r\n                    }\r\n                    else {\r\n                        return callback(null, root);\r\n                    }\r\n                };\r\n                if (context.processImports !== false) {\r\n                    new visitors.ImportVisitor(imports, finish)\r\n                        .run(root);\r\n                }\r\n                else {\r\n                    return finish();\r\n                }\r\n            },\r\n            //\r\n            // Here in, the parsing rules/functions\r\n            //\r\n            // The basic structure of the syntax tree generated is as follows:\r\n            //\r\n            //   Ruleset ->  Declaration -> Value -> Expression -> Entity\r\n            //\r\n            // Here's some Less code:\r\n            //\r\n            //    .class {\r\n            //      color: #fff;\r\n            //      border: 1px solid #000;\r\n            //      width: @w + 4px;\r\n            //      > .child {...}\r\n            //    }\r\n            //\r\n            // And here's what the parse tree might look like:\r\n            //\r\n            //     Ruleset (Selector '.class', [\r\n            //         Declaration (\"color\",  Value ([Expression [Color #fff]]))\r\n            //         Declaration (\"border\", Value ([Expression [Dimension 1px][Keyword \"solid\"][Color #000]]))\r\n            //         Declaration (\"width\",  Value ([Expression [Operation \" + \" [Variable \"@w\"][Dimension 4px]]]))\r\n            //         Ruleset (Selector [Element '>', '.child'], [...])\r\n            //     ])\r\n            //\r\n            //  In general, most rules will try to parse a token with the `$re()` function, and if the return\r\n            //  value is truly, will return a new node, of the relevant type. Sometimes, we need to check\r\n            //  first, before parsing, that's when we use `peek()`.\r\n            //\r\n            parsers: parsers = {\r\n                //\r\n                // The `primary` rule is the *entry* and *exit* point of the parser.\r\n                // The rules here can appear at any level of the parse tree.\r\n                //\r\n                // The recursive nature of the grammar is an interplay between the `block`\r\n                // rule, which represents `{ ... }`, the `ruleset` rule, and this `primary` rule,\r\n                // as represented by this simplified grammar:\r\n                //\r\n                //     primary    (ruleset | declaration)+\r\n                //     ruleset    selector+ block\r\n                //     block      '{' primary '}'\r\n                //\r\n                // Only at one point is the primary rule not called from the\r\n                // block rule: at the root level.\r\n                //\r\n                primary: function () {\r\n                    var mixin = this.mixin;\r\n                    var root = [];\r\n                    var node;\r\n                    while (true) {\r\n                        while (true) {\r\n                            node = this.comment();\r\n                            if (!node) {\r\n                                break;\r\n                            }\r\n                            root.push(node);\r\n                        }\r\n                        // always process comments before deciding if finished\r\n                        if (parserInput.finished) {\r\n                            break;\r\n                        }\r\n                        if (parserInput.peek('}')) {\r\n                            break;\r\n                        }\r\n                        node = this.extendRule();\r\n                        if (node) {\r\n                            root = root.concat(node);\r\n                            continue;\r\n                        }\r\n                        node = mixin.definition() || this.declaration() || mixin.call(false, false) ||\r\n                            this.ruleset() || this.variableCall() || this.entities.call() || this.atrule();\r\n                        if (node) {\r\n                            root.push(node);\r\n                        }\r\n                        else {\r\n                            var foundSemiColon = false;\r\n                            while (parserInput.$char(';')) {\r\n                                foundSemiColon = true;\r\n                            }\r\n                            if (!foundSemiColon) {\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    return root;\r\n                },\r\n                // comments are collected by the main parsing mechanism and then assigned to nodes\r\n                // where the current structure allows it\r\n                comment: function () {\r\n                    if (parserInput.commentStore.length) {\r\n                        var comment = parserInput.commentStore.shift();\r\n                        return new (tree.Comment)(comment.text, comment.isLineComment, comment.index, fileInfo);\r\n                    }\r\n                },\r\n                //\r\n                // Entities are tokens which can be found inside an Expression\r\n                //\r\n                entities: {\r\n                    mixinLookup: function () {\r\n                        return parsers.mixin.call(true, true);\r\n                    },\r\n                    //\r\n                    // A string, which supports escaping \" and '\r\n                    //\r\n                    //     \"milky way\" 'he\\'s the one!'\r\n                    //\r\n                    quoted: function (forceEscaped) {\r\n                        var str;\r\n                        var index = parserInput.i;\r\n                        var isEscaped = false;\r\n                        parserInput.save();\r\n                        if (parserInput.$char('~')) {\r\n                            isEscaped = true;\r\n                        }\r\n                        else if (forceEscaped) {\r\n                            parserInput.restore();\r\n                            return;\r\n                        }\r\n                        str = parserInput.$quoted();\r\n                        if (!str) {\r\n                            parserInput.restore();\r\n                            return;\r\n                        }\r\n                        parserInput.forget();\r\n                        return new (tree.Quoted)(str.charAt(0), str.substr(1, str.length - 2), isEscaped, index, fileInfo);\r\n                    },\r\n                    //\r\n                    // A catch-all word, such as:\r\n                    //\r\n                    //     black border-collapse\r\n                    //\r\n                    keyword: function () {\r\n                        var k = parserInput.$char('%') || parserInput.$re(/^\\[?(?:[\\w-]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+\\]?/);\r\n                        if (k) {\r\n                            return tree.Color.fromKeyword(k) || new (tree.Keyword)(k);\r\n                        }\r\n                    },\r\n                    //\r\n                    // A function call\r\n                    //\r\n                    //     rgb(255, 0, 255)\r\n                    //\r\n                    // The arguments are parsed with the `entities.arguments` parser.\r\n                    //\r\n                    call: function () {\r\n                        var name;\r\n                        var args;\r\n                        var func;\r\n                        var index = parserInput.i;\r\n                        // http://jsperf.com/case-insensitive-regex-vs-strtolower-then-regex/18\r\n                        if (parserInput.peek(/^url\\(/i)) {\r\n                            return;\r\n                        }\r\n                        parserInput.save();\r\n                        name = parserInput.$re(/^([\\w-]+|%|~|progid:[\\w\\.]+)\\(/);\r\n                        if (!name) {\r\n                            parserInput.forget();\r\n                            return;\r\n                        }\r\n                        name = name[1];\r\n                        func = this.customFuncCall(name);\r\n                        if (func) {\r\n                            args = func.parse();\r\n                            if (args && func.stop) {\r\n                                parserInput.forget();\r\n                                return args;\r\n                            }\r\n                        }\r\n                        args = this.arguments(args);\r\n                        if (!parserInput.$char(')')) {\r\n                            parserInput.restore('Could not parse call arguments or missing \\')\\'');\r\n                            return;\r\n                        }\r\n                        parserInput.forget();\r\n                        return new (tree.Call)(name, args, index, fileInfo);\r\n                    },\r\n                    //\r\n                    // Parsing rules for functions with non-standard args, e.g.:\r\n                    //\r\n                    //     boolean(not(2 > 1))\r\n                    //\r\n                    //     This is a quick prototype, to be modified/improved when\r\n                    //     more custom-parsed funcs come (e.g. `selector(...)`)\r\n                    //\r\n                    customFuncCall: function (name) {\r\n                        /* Ideally the table is to be moved out of here for faster perf.,\r\n                           but it's quite tricky since it relies on all these `parsers`\r\n                           and `expect` available only here */\r\n                        return {\r\n                            alpha: f(parsers.ieAlpha, true),\r\n                            boolean: f(condition),\r\n                            'if': f(condition)\r\n                        }[name.toLowerCase()];\r\n                        function f(parse, stop) {\r\n                            return {\r\n                                parse: parse,\r\n                                stop: stop // when true - stop after parse() and return its result, \r\n                                // otherwise continue for plain args\r\n                            };\r\n                        }\r\n                        function condition() {\r\n                            return [expect(parsers.condition, 'expected condition')];\r\n                        }\r\n                    },\r\n                    arguments: function (prevArgs) {\r\n                        var argsComma = prevArgs || [];\r\n                        var argsSemiColon = [];\r\n                        var isSemiColonSeparated;\r\n                        var value;\r\n                        parserInput.save();\r\n                        while (true) {\r\n                            if (prevArgs) {\r\n                                prevArgs = false;\r\n                            }\r\n                            else {\r\n                                value = parsers.detachedRuleset() || this.assignment() || parsers.expression();\r\n                                if (!value) {\r\n                                    break;\r\n                                }\r\n                                if (value.value && value.value.length == 1) {\r\n                                    value = value.value[0];\r\n                                }\r\n                                argsComma.push(value);\r\n                            }\r\n                            if (parserInput.$char(',')) {\r\n                                continue;\r\n                            }\r\n                            if (parserInput.$char(';') || isSemiColonSeparated) {\r\n                                isSemiColonSeparated = true;\r\n                                value = (argsComma.length < 1) ? argsComma[0]\r\n                                    : new tree.Value(argsComma);\r\n                                argsSemiColon.push(value);\r\n                                argsComma = [];\r\n                            }\r\n                        }\r\n                        parserInput.forget();\r\n                        return isSemiColonSeparated ? argsSemiColon : argsComma;\r\n                    },\r\n                    literal: function () {\r\n                        return this.dimension() ||\r\n                            this.color() ||\r\n                            this.quoted() ||\r\n                            this.unicodeDescriptor();\r\n                    },\r\n                    // Assignments are argument entities for calls.\r\n                    // They are present in ie filter properties as shown below.\r\n                    //\r\n                    //     filter: progid:DXImageTransform.Microsoft.Alpha( *opacity=50* )\r\n                    //\r\n                    assignment: function () {\r\n                        var key;\r\n                        var value;\r\n                        parserInput.save();\r\n                        key = parserInput.$re(/^\\w+(?=\\s?=)/i);\r\n                        if (!key) {\r\n                            parserInput.restore();\r\n                            return;\r\n                        }\r\n                        if (!parserInput.$char('=')) {\r\n                            parserInput.restore();\r\n                            return;\r\n                        }\r\n                        value = parsers.entity();\r\n                        if (value) {\r\n                            parserInput.forget();\r\n                            return new (tree.Assignment)(key, value);\r\n                        }\r\n                        else {\r\n                            parserInput.restore();\r\n                        }\r\n                    },\r\n                    //\r\n                    // Parse url() tokens\r\n                    //\r\n                    // We use a specific rule for urls, because they don't really behave like\r\n                    // standard function calls. The difference is that the argument doesn't have\r\n                    // to be enclosed within a string, so it can't be parsed as an Expression.\r\n                    //\r\n                    url: function () {\r\n                        var value;\r\n                        var index = parserInput.i;\r\n                        parserInput.autoCommentAbsorb = false;\r\n                        if (!parserInput.$str('url(')) {\r\n                            parserInput.autoCommentAbsorb = true;\r\n                            return;\r\n                        }\r\n                        value = this.quoted() || this.variable() || this.property() ||\r\n                            parserInput.$re(/^(?:(?:\\\\[\\(\\)'\"])|[^\\(\\)'\"])+/) || '';\r\n                        parserInput.autoCommentAbsorb = true;\r\n                        expectChar(')');\r\n                        return new (tree.URL)((value.value != null ||\r\n                            value instanceof tree.Variable ||\r\n                            value instanceof tree.Property) ?\r\n                            value : new (tree.Anonymous)(value, index), index, fileInfo);\r\n                    },\r\n                    //\r\n                    // A Variable entity, such as `@fink`, in\r\n                    //\r\n                    //     width: @fink + 2px\r\n                    //\r\n                    // We use a different parser for variable definitions,\r\n                    // see `parsers.variable`.\r\n                    //\r\n                    variable: function () {\r\n                        var ch;\r\n                        var name;\r\n                        var index = parserInput.i;\r\n                        parserInput.save();\r\n                        if (parserInput.currentChar() === '@' && (name = parserInput.$re(/^@@?[\\w-]+/))) {\r\n                            ch = parserInput.currentChar();\r\n                            if (ch === '(' || ch === '[' && !parserInput.prevChar().match(/^\\s/)) {\r\n                                // this may be a VariableCall lookup\r\n                                var result = parsers.variableCall(name);\r\n                                if (result) {\r\n                                    parserInput.forget();\r\n                                    return result;\r\n                                }\r\n                            }\r\n                            parserInput.forget();\r\n                            return new (tree.Variable)(name, index, fileInfo);\r\n                        }\r\n                        parserInput.restore();\r\n                    },\r\n                    // A variable entity using the protective {} e.g. @{var}\r\n                    variableCurly: function () {\r\n                        var curly;\r\n                        var index = parserInput.i;\r\n                        if (parserInput.currentChar() === '@' && (curly = parserInput.$re(/^@\\{([\\w-]+)\\}/))) {\r\n                            return new (tree.Variable)(\"@\" + curly[1], index, fileInfo);\r\n                        }\r\n                    },\r\n                    //\r\n                    // A Property accessor, such as `$color`, in\r\n                    //\r\n                    //     background-color: $color\r\n                    //\r\n                    property: function () {\r\n                        var name;\r\n                        var index = parserInput.i;\r\n                        if (parserInput.currentChar() === '$' && (name = parserInput.$re(/^\\$[\\w-]+/))) {\r\n                            return new (tree.Property)(name, index, fileInfo);\r\n                        }\r\n                    },\r\n                    // A property entity useing the protective {} e.g. ${prop}\r\n                    propertyCurly: function () {\r\n                        var curly;\r\n                        var index = parserInput.i;\r\n                        if (parserInput.currentChar() === '$' && (curly = parserInput.$re(/^\\$\\{([\\w-]+)\\}/))) {\r\n                            return new (tree.Property)(\"$\" + curly[1], index, fileInfo);\r\n                        }\r\n                    },\r\n                    //\r\n                    // A Hexadecimal color\r\n                    //\r\n                    //     #4F3C2F\r\n                    //\r\n                    // `rgb` and `hsl` colors are parsed through the `entities.call` parser.\r\n                    //\r\n                    color: function () {\r\n                        var rgb;\r\n                        parserInput.save();\r\n                        if (parserInput.currentChar() === '#' && (rgb = parserInput.$re(/^#([A-Fa-f0-9]{8}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3,4})([\\w.#\\[])?/))) {\r\n                            if (!rgb[2]) {\r\n                                parserInput.forget();\r\n                                return new (tree.Color)(rgb[1], undefined, rgb[0]);\r\n                            }\r\n                        }\r\n                        parserInput.restore();\r\n                    },\r\n                    colorKeyword: function () {\r\n                        parserInput.save();\r\n                        var autoCommentAbsorb = parserInput.autoCommentAbsorb;\r\n                        parserInput.autoCommentAbsorb = false;\r\n                        var k = parserInput.$re(/^[_A-Za-z-][_A-Za-z0-9-]+/);\r\n                        parserInput.autoCommentAbsorb = autoCommentAbsorb;\r\n                        if (!k) {\r\n                            parserInput.forget();\r\n                            return;\r\n                        }\r\n                        parserInput.restore();\r\n                        var color = tree.Color.fromKeyword(k);\r\n                        if (color) {\r\n                            parserInput.$str(k);\r\n                            return color;\r\n                        }\r\n                    },\r\n                    //\r\n                    // A Dimension, that is, a number and a unit\r\n                    //\r\n                    //     0.5em 95%\r\n                    //\r\n                    dimension: function () {\r\n                        if (parserInput.peekNotNumeric()) {\r\n                            return;\r\n                        }\r\n                        var value = parserInput.$re(/^([+-]?\\d*\\.?\\d+)(%|[a-z_]+)?/i);\r\n                        if (value) {\r\n                            return new (tree.Dimension)(value[1], value[2]);\r\n                        }\r\n                    },\r\n                    //\r\n                    // A unicode descriptor, as is used in unicode-range\r\n                    //\r\n                    // U+0??  or U+00A1-00A9\r\n                    //\r\n                    unicodeDescriptor: function () {\r\n                        var ud;\r\n                        ud = parserInput.$re(/^U\\+[0-9a-fA-F?]+(\\-[0-9a-fA-F?]+)?/);\r\n                        if (ud) {\r\n                            return new (tree.UnicodeDescriptor)(ud[0]);\r\n                        }\r\n                    },\r\n                    //\r\n                    // JavaScript code to be evaluated\r\n                    //\r\n                    //     `window.location.href`\r\n                    //\r\n                    javascript: function () {\r\n                        var js;\r\n                        var index = parserInput.i;\r\n                        parserInput.save();\r\n                        var escape = parserInput.$char('~');\r\n                        var jsQuote = parserInput.$char('`');\r\n                        if (!jsQuote) {\r\n                            parserInput.restore();\r\n                            return;\r\n                        }\r\n                        js = parserInput.$re(/^[^`]*`/);\r\n                        if (js) {\r\n                            parserInput.forget();\r\n                            return new (tree.JavaScript)(js.substr(0, js.length - 1), Boolean(escape), index, fileInfo);\r\n                        }\r\n                        parserInput.restore('invalid javascript definition');\r\n                    }\r\n                },\r\n                //\r\n                // The variable part of a variable definition. Used in the `rule` parser\r\n                //\r\n                //     @fink:\r\n                //\r\n                variable: function () {\r\n                    var name;\r\n                    if (parserInput.currentChar() === '@' && (name = parserInput.$re(/^(@[\\w-]+)\\s*:/))) {\r\n                        return name[1];\r\n                    }\r\n                },\r\n                //\r\n                // Call a variable value to retrieve a detached ruleset\r\n                // or a value from a detached ruleset's rules.\r\n                //\r\n                //     @fink();\r\n                //     @fink;\r\n                //     color: @fink[@color];\r\n                //\r\n                variableCall: function (parsedName) {\r\n                    var lookups;\r\n                    var i = parserInput.i;\r\n                    var inValue = !!parsedName;\r\n                    var name = parsedName;\r\n                    parserInput.save();\r\n                    if (name || (parserInput.currentChar() === '@'\r\n                        && (name = parserInput.$re(/^(@[\\w-]+)(\\(\\s*\\))?/)))) {\r\n                        lookups = this.mixin.ruleLookups();\r\n                        if (!lookups && ((inValue && parserInput.$str('()') !== '()') || (name[2] !== '()'))) {\r\n                            parserInput.restore('Missing \\'[...]\\' lookup in variable call');\r\n                            return;\r\n                        }\r\n                        if (!inValue) {\r\n                            name = name[1];\r\n                        }\r\n                        var call = new tree.VariableCall(name, i, fileInfo);\r\n                        if (!inValue && parsers.end()) {\r\n                            parserInput.forget();\r\n                            return call;\r\n                        }\r\n                        else {\r\n                            parserInput.forget();\r\n                            return new tree.NamespaceValue(call, lookups, i, fileInfo);\r\n                        }\r\n                    }\r\n                    parserInput.restore();\r\n                },\r\n                //\r\n                // extend syntax - used to extend selectors\r\n                //\r\n                extend: function (isRule) {\r\n                    var elements;\r\n                    var e;\r\n                    var index = parserInput.i;\r\n                    var option;\r\n                    var extendList;\r\n                    var extend;\r\n                    if (!parserInput.$str(isRule ? '&:extend(' : ':extend(')) {\r\n                        return;\r\n                    }\r\n                    do {\r\n                        option = null;\r\n                        elements = null;\r\n                        while (!(option = parserInput.$re(/^(all)(?=\\s*(\\)|,))/))) {\r\n                            e = this.element();\r\n                            if (!e) {\r\n                                break;\r\n                            }\r\n                            if (elements) {\r\n                                elements.push(e);\r\n                            }\r\n                            else {\r\n                                elements = [e];\r\n                            }\r\n                        }\r\n                        option = option && option[1];\r\n                        if (!elements) {\r\n                            error('Missing target selector for :extend().');\r\n                        }\r\n                        extend = new (tree.Extend)(new (tree.Selector)(elements), option, index, fileInfo);\r\n                        if (extendList) {\r\n                            extendList.push(extend);\r\n                        }\r\n                        else {\r\n                            extendList = [extend];\r\n                        }\r\n                    } while (parserInput.$char(','));\r\n                    expect(/^\\)/);\r\n                    if (isRule) {\r\n                        expect(/^;/);\r\n                    }\r\n                    return extendList;\r\n                },\r\n                //\r\n                // extendRule - used in a rule to extend all the parent selectors\r\n                //\r\n                extendRule: function () {\r\n                    return this.extend(true);\r\n                },\r\n                //\r\n                // Mixins\r\n                //\r\n                mixin: {\r\n                    //\r\n                    // A Mixin call, with an optional argument list\r\n                    //\r\n                    //     #mixins > .square(#fff);\r\n                    //     #mixins.square(#fff);\r\n                    //     .rounded(4px, black);\r\n                    //     .button;\r\n                    //\r\n                    // We can lookup / return a value using the lookup syntax:\r\n                    //\r\n                    //     color: #mixin.square(#fff)[@color];\r\n                    //\r\n                    // The `while` loop is there because mixins can be\r\n                    // namespaced, but we only support the child and descendant\r\n                    // selector for now.\r\n                    //\r\n                    call: function (inValue, getLookup) {\r\n                        var s = parserInput.currentChar();\r\n                        var important = false;\r\n                        var lookups;\r\n                        var index = parserInput.i;\r\n                        var elements;\r\n                        var args;\r\n                        var hasParens;\r\n                        if (s !== '.' && s !== '#') {\r\n                            return;\r\n                        }\r\n                        parserInput.save(); // stop us absorbing part of an invalid selector\r\n                        elements = this.elements();\r\n                        if (elements) {\r\n                            if (parserInput.$char('(')) {\r\n                                args = this.args(true).args;\r\n                                expectChar(')');\r\n                                hasParens = true;\r\n                            }\r\n                            if (getLookup !== false) {\r\n                                lookups = this.ruleLookups();\r\n                            }\r\n                            if (getLookup === true && !lookups) {\r\n                                parserInput.restore();\r\n                                return;\r\n                            }\r\n                            if (inValue && !lookups && !hasParens) {\r\n                                // This isn't a valid in-value mixin call\r\n                                parserInput.restore();\r\n                                return;\r\n                            }\r\n                            if (!inValue && parsers.important()) {\r\n                                important = true;\r\n                            }\r\n                            if (inValue || parsers.end()) {\r\n                                parserInput.forget();\r\n                                var mixin = new (tree.mixin.Call)(elements, args, index, fileInfo, !lookups && important);\r\n                                if (lookups) {\r\n                                    return new tree.NamespaceValue(mixin, lookups);\r\n                                }\r\n                                else {\r\n                                    return mixin;\r\n                                }\r\n                            }\r\n                        }\r\n                        parserInput.restore();\r\n                    },\r\n                    /**\r\n                     * Matching elements for mixins\r\n                     * (Start with . or # and can have > )\r\n                     */\r\n                    elements: function () {\r\n                        var elements;\r\n                        var e;\r\n                        var c;\r\n                        var elem;\r\n                        var elemIndex;\r\n                        var re = /^[#.](?:[\\w-]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/;\r\n                        while (true) {\r\n                            elemIndex = parserInput.i;\r\n                            e = parserInput.$re(re);\r\n                            if (!e) {\r\n                                break;\r\n                            }\r\n                            elem = new (tree.Element)(c, e, false, elemIndex, fileInfo);\r\n                            if (elements) {\r\n                                elements.push(elem);\r\n                            }\r\n                            else {\r\n                                elements = [elem];\r\n                            }\r\n                            c = parserInput.$char('>');\r\n                        }\r\n                        return elements;\r\n                    },\r\n                    args: function (isCall) {\r\n                        var entities = parsers.entities;\r\n                        var returner = { args: null, variadic: false };\r\n                        var expressions = [];\r\n                        var argsSemiColon = [];\r\n                        var argsComma = [];\r\n                        var isSemiColonSeparated;\r\n                        var expressionContainsNamed;\r\n                        var name;\r\n                        var nameLoop;\r\n                        var value;\r\n                        var arg;\r\n                        var expand;\r\n                        var hasSep = true;\r\n                        parserInput.save();\r\n                        while (true) {\r\n                            if (isCall) {\r\n                                arg = parsers.detachedRuleset() || parsers.expression();\r\n                            }\r\n                            else {\r\n                                parserInput.commentStore.length = 0;\r\n                                if (parserInput.$str('...')) {\r\n                                    returner.variadic = true;\r\n                                    if (parserInput.$char(';') && !isSemiColonSeparated) {\r\n                                        isSemiColonSeparated = true;\r\n                                    }\r\n                                    (isSemiColonSeparated ? argsSemiColon : argsComma)\r\n                                        .push({ variadic: true });\r\n                                    break;\r\n                                }\r\n                                arg = entities.variable() || entities.property() || entities.literal() || entities.keyword() || this.call(true);\r\n                            }\r\n                            if (!arg || !hasSep) {\r\n                                break;\r\n                            }\r\n                            nameLoop = null;\r\n                            if (arg.throwAwayComments) {\r\n                                arg.throwAwayComments();\r\n                            }\r\n                            value = arg;\r\n                            var val = null;\r\n                            if (isCall) {\r\n                                // Variable\r\n                                if (arg.value && arg.value.length == 1) {\r\n                                    val = arg.value[0];\r\n                                }\r\n                            }\r\n                            else {\r\n                                val = arg;\r\n                            }\r\n                            if (val && (val instanceof tree.Variable || val instanceof tree.Property)) {\r\n                                if (parserInput.$char(':')) {\r\n                                    if (expressions.length > 0) {\r\n                                        if (isSemiColonSeparated) {\r\n                                            error('Cannot mix ; and , as delimiter types');\r\n                                        }\r\n                                        expressionContainsNamed = true;\r\n                                    }\r\n                                    value = parsers.detachedRuleset() || parsers.expression();\r\n                                    if (!value) {\r\n                                        if (isCall) {\r\n                                            error('could not understand value for named argument');\r\n                                        }\r\n                                        else {\r\n                                            parserInput.restore();\r\n                                            returner.args = [];\r\n                                            return returner;\r\n                                        }\r\n                                    }\r\n                                    nameLoop = (name = val.name);\r\n                                }\r\n                                else if (parserInput.$str('...')) {\r\n                                    if (!isCall) {\r\n                                        returner.variadic = true;\r\n                                        if (parserInput.$char(';') && !isSemiColonSeparated) {\r\n                                            isSemiColonSeparated = true;\r\n                                        }\r\n                                        (isSemiColonSeparated ? argsSemiColon : argsComma)\r\n                                            .push({ name: arg.name, variadic: true });\r\n                                        break;\r\n                                    }\r\n                                    else {\r\n                                        expand = true;\r\n                                    }\r\n                                }\r\n                                else if (!isCall) {\r\n                                    name = nameLoop = val.name;\r\n                                    value = null;\r\n                                }\r\n                            }\r\n                            if (value) {\r\n                                expressions.push(value);\r\n                            }\r\n                            argsComma.push({ name: nameLoop, value: value, expand: expand });\r\n                            if (parserInput.$char(',')) {\r\n                                hasSep = true;\r\n                                continue;\r\n                            }\r\n                            hasSep = parserInput.$char(';') === ';';\r\n                            if (hasSep || isSemiColonSeparated) {\r\n                                if (expressionContainsNamed) {\r\n                                    error('Cannot mix ; and , as delimiter types');\r\n                                }\r\n                                isSemiColonSeparated = true;\r\n                                if (expressions.length > 1) {\r\n                                    value = new (tree.Value)(expressions);\r\n                                }\r\n                                argsSemiColon.push({ name: name, value: value, expand: expand });\r\n                                name = null;\r\n                                expressions = [];\r\n                                expressionContainsNamed = false;\r\n                            }\r\n                        }\r\n                        parserInput.forget();\r\n                        returner.args = isSemiColonSeparated ? argsSemiColon : argsComma;\r\n                        return returner;\r\n                    },\r\n                    //\r\n                    // A Mixin definition, with a list of parameters\r\n                    //\r\n                    //     .rounded (@radius: 2px, @color) {\r\n                    //        ...\r\n                    //     }\r\n                    //\r\n                    // Until we have a finer grained state-machine, we have to\r\n                    // do a look-ahead, to make sure we don't have a mixin call.\r\n                    // See the `rule` function for more information.\r\n                    //\r\n                    // We start by matching `.rounded (`, and then proceed on to\r\n                    // the argument list, which has optional default values.\r\n                    // We store the parameters in `params`, with a `value` key,\r\n                    // if there is a value, such as in the case of `@radius`.\r\n                    //\r\n                    // Once we've got our params list, and a closing `)`, we parse\r\n                    // the `{...}` block.\r\n                    //\r\n                    definition: function () {\r\n                        var name;\r\n                        var params = [];\r\n                        var match;\r\n                        var ruleset;\r\n                        var cond;\r\n                        var variadic = false;\r\n                        if ((parserInput.currentChar() !== '.' && parserInput.currentChar() !== '#') ||\r\n                            parserInput.peek(/^[^{]*\\}/)) {\r\n                            return;\r\n                        }\r\n                        parserInput.save();\r\n                        match = parserInput.$re(/^([#.](?:[\\w-]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\\s*\\(/);\r\n                        if (match) {\r\n                            name = match[1];\r\n                            var argInfo = this.args(false);\r\n                            params = argInfo.args;\r\n                            variadic = argInfo.variadic;\r\n                            // .mixincall(\"@{a}\");\r\n                            // looks a bit like a mixin definition..\r\n                            // also\r\n                            // .mixincall(@a: {rule: set;});\r\n                            // so we have to be nice and restore\r\n                            if (!parserInput.$char(')')) {\r\n                                parserInput.restore('Missing closing \\')\\'');\r\n                                return;\r\n                            }\r\n                            parserInput.commentStore.length = 0;\r\n                            if (parserInput.$str('when')) { // Guard\r\n                                cond = expect(parsers.conditions, 'expected condition');\r\n                            }\r\n                            ruleset = parsers.block();\r\n                            if (ruleset) {\r\n                                parserInput.forget();\r\n                                return new (tree.mixin.Definition)(name, params, ruleset, cond, variadic);\r\n                            }\r\n                            else {\r\n                                parserInput.restore();\r\n                            }\r\n                        }\r\n                        else {\r\n                            parserInput.restore();\r\n                        }\r\n                    },\r\n                    ruleLookups: function () {\r\n                        var rule;\r\n                        var lookups = [];\r\n                        if (parserInput.currentChar() !== '[') {\r\n                            return;\r\n                        }\r\n                        while (true) {\r\n                            parserInput.save();\r\n                            rule = this.lookupValue();\r\n                            if (!rule && rule !== '') {\r\n                                parserInput.restore();\r\n                                break;\r\n                            }\r\n                            lookups.push(rule);\r\n                            parserInput.forget();\r\n                        }\r\n                        if (lookups.length > 0) {\r\n                            return lookups;\r\n                        }\r\n                    },\r\n                    lookupValue: function () {\r\n                        parserInput.save();\r\n                        if (!parserInput.$char('[')) {\r\n                            parserInput.restore();\r\n                            return;\r\n                        }\r\n                        var name = parserInput.$re(/^(?:[@$]{0,2})[_a-zA-Z0-9-]*/);\r\n                        if (!parserInput.$char(']')) {\r\n                            parserInput.restore();\r\n                            return;\r\n                        }\r\n                        if (name || name === '') {\r\n                            parserInput.forget();\r\n                            return name;\r\n                        }\r\n                        parserInput.restore();\r\n                    }\r\n                },\r\n                //\r\n                // Entities are the smallest recognized token,\r\n                // and can be found inside a rule's value.\r\n                //\r\n                entity: function () {\r\n                    var entities = this.entities;\r\n                    return this.comment() || entities.literal() || entities.variable() || entities.url() ||\r\n                        entities.property() || entities.call() || entities.keyword() || this.mixin.call(true) ||\r\n                        entities.javascript();\r\n                },\r\n                //\r\n                // A Declaration terminator. Note that we use `peek()` to check for '}',\r\n                // because the `block` rule will be expecting it, but we still need to make sure\r\n                // it's there, if ';' was omitted.\r\n                //\r\n                end: function () {\r\n                    return parserInput.$char(';') || parserInput.peek('}');\r\n                },\r\n                //\r\n                // IE's alpha function\r\n                //\r\n                //     alpha(opacity=88)\r\n                //\r\n                ieAlpha: function () {\r\n                    var value;\r\n                    // http://jsperf.com/case-insensitive-regex-vs-strtolower-then-regex/18\r\n                    if (!parserInput.$re(/^opacity=/i)) {\r\n                        return;\r\n                    }\r\n                    value = parserInput.$re(/^\\d+/);\r\n                    if (!value) {\r\n                        value = expect(parsers.entities.variable, 'Could not parse alpha');\r\n                        value = \"@{\" + value.name.slice(1) + \"}\";\r\n                    }\r\n                    expectChar(')');\r\n                    return new tree.Quoted('', \"alpha(opacity=\" + value + \")\");\r\n                },\r\n                //\r\n                // A Selector Element\r\n                //\r\n                //     div\r\n                //     + h1\r\n                //     #socks\r\n                //     input[type=\"text\"]\r\n                //\r\n                // Elements are the building blocks for Selectors,\r\n                // they are made out of a `Combinator` (see combinator rule),\r\n                // and an element name, such as a tag a class, or `*`.\r\n                //\r\n                element: function () {\r\n                    var e;\r\n                    var c;\r\n                    var v;\r\n                    var index = parserInput.i;\r\n                    c = this.combinator();\r\n                    e = parserInput.$re(/^(?:\\d+\\.\\d+|\\d+)%/) ||\r\n                        parserInput.$re(/^(?:[.#]?|:*)(?:[\\w-]|[^\\x00-\\x9f]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/) ||\r\n                        parserInput.$char('*') || parserInput.$char('&') || this.attribute() ||\r\n                        parserInput.$re(/^\\([^&()@]+\\)/) || parserInput.$re(/^[\\.#:](?=@)/) ||\r\n                        this.entities.variableCurly();\r\n                    if (!e) {\r\n                        parserInput.save();\r\n                        if (parserInput.$char('(')) {\r\n                            if ((v = this.selector(false)) && parserInput.$char(')')) {\r\n                                e = new (tree.Paren)(v);\r\n                                parserInput.forget();\r\n                            }\r\n                            else {\r\n                                parserInput.restore('Missing closing \\')\\'');\r\n                            }\r\n                        }\r\n                        else {\r\n                            parserInput.forget();\r\n                        }\r\n                    }\r\n                    if (e) {\r\n                        return new (tree.Element)(c, e, e instanceof tree.Variable, index, fileInfo);\r\n                    }\r\n                },\r\n                //\r\n                // Combinators combine elements together, in a Selector.\r\n                //\r\n                // Because our parser isn't white-space sensitive, special care\r\n                // has to be taken, when parsing the descendant combinator, ` `,\r\n                // as it's an empty space. We have to check the previous character\r\n                // in the input, to see if it's a ` ` character. More info on how\r\n                // we deal with this in *combinator.js*.\r\n                //\r\n                combinator: function () {\r\n                    var c = parserInput.currentChar();\r\n                    if (c === '/') {\r\n                        parserInput.save();\r\n                        var slashedCombinator = parserInput.$re(/^\\/[a-z]+\\//i);\r\n                        if (slashedCombinator) {\r\n                            parserInput.forget();\r\n                            return new (tree.Combinator)(slashedCombinator);\r\n                        }\r\n                        parserInput.restore();\r\n                    }\r\n                    if (c === '>' || c === '+' || c === '~' || c === '|' || c === '^') {\r\n                        parserInput.i++;\r\n                        if (c === '^' && parserInput.currentChar() === '^') {\r\n                            c = '^^';\r\n                            parserInput.i++;\r\n                        }\r\n                        while (parserInput.isWhitespace()) {\r\n                            parserInput.i++;\r\n                        }\r\n                        return new (tree.Combinator)(c);\r\n                    }\r\n                    else if (parserInput.isWhitespace(-1)) {\r\n                        return new (tree.Combinator)(' ');\r\n                    }\r\n                    else {\r\n                        return new (tree.Combinator)(null);\r\n                    }\r\n                },\r\n                //\r\n                // A CSS Selector\r\n                // with less extensions e.g. the ability to extend and guard\r\n                //\r\n                //     .class > div + h1\r\n                //     li a:hover\r\n                //\r\n                // Selectors are made out of one or more Elements, see above.\r\n                //\r\n                selector: function (isLess) {\r\n                    var index = parserInput.i;\r\n                    var elements;\r\n                    var extendList;\r\n                    var c;\r\n                    var e;\r\n                    var allExtends;\r\n                    var when;\r\n                    var condition;\r\n                    isLess = isLess !== false;\r\n                    while ((isLess && (extendList = this.extend())) || (isLess && (when = parserInput.$str('when'))) || (e = this.element())) {\r\n                        if (when) {\r\n                            condition = expect(this.conditions, 'expected condition');\r\n                        }\r\n                        else if (condition) {\r\n                            error('CSS guard can only be used at the end of selector');\r\n                        }\r\n                        else if (extendList) {\r\n                            if (allExtends) {\r\n                                allExtends = allExtends.concat(extendList);\r\n                            }\r\n                            else {\r\n                                allExtends = extendList;\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (allExtends) {\r\n                                error('Extend can only be used at the end of selector');\r\n                            }\r\n                            c = parserInput.currentChar();\r\n                            if (elements) {\r\n                                elements.push(e);\r\n                            }\r\n                            else {\r\n                                elements = [e];\r\n                            }\r\n                            e = null;\r\n                        }\r\n                        if (c === '{' || c === '}' || c === ';' || c === ',' || c === ')') {\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (elements) {\r\n                        return new (tree.Selector)(elements, allExtends, condition, index, fileInfo);\r\n                    }\r\n                    if (allExtends) {\r\n                        error('Extend must be used to extend a selector, it cannot be used on its own');\r\n                    }\r\n                },\r\n                selectors: function () {\r\n                    var s;\r\n                    var selectors;\r\n                    while (true) {\r\n                        s = this.selector();\r\n                        if (!s) {\r\n                            break;\r\n                        }\r\n                        if (selectors) {\r\n                            selectors.push(s);\r\n                        }\r\n                        else {\r\n                            selectors = [s];\r\n                        }\r\n                        parserInput.commentStore.length = 0;\r\n                        if (s.condition && selectors.length > 1) {\r\n                            error(\"Guards are only currently allowed on a single selector.\");\r\n                        }\r\n                        if (!parserInput.$char(',')) {\r\n                            break;\r\n                        }\r\n                        if (s.condition) {\r\n                            error(\"Guards are only currently allowed on a single selector.\");\r\n                        }\r\n                        parserInput.commentStore.length = 0;\r\n                    }\r\n                    return selectors;\r\n                },\r\n                attribute: function () {\r\n                    if (!parserInput.$char('[')) {\r\n                        return;\r\n                    }\r\n                    var entities = this.entities;\r\n                    var key;\r\n                    var val;\r\n                    var op;\r\n                    //\r\n                    // case-insensitive flag\r\n                    // e.g. [attr operator value i]\r\n                    //\r\n                    var cif;\r\n                    if (!(key = entities.variableCurly())) {\r\n                        key = expect(/^(?:[_A-Za-z0-9-\\*]*\\|)?(?:[_A-Za-z0-9-]|\\\\.)+/);\r\n                    }\r\n                    op = parserInput.$re(/^[|~*$^]?=/);\r\n                    if (op) {\r\n                        val = entities.quoted() || parserInput.$re(/^[0-9]+%/) || parserInput.$re(/^[\\w-]+/) || entities.variableCurly();\r\n                        if (val) {\r\n                            cif = parserInput.$re(/^[iIsS]/);\r\n                        }\r\n                    }\r\n                    expectChar(']');\r\n                    return new (tree.Attribute)(key, op, val, cif);\r\n                },\r\n                //\r\n                // The `block` rule is used by `ruleset` and `mixin.definition`.\r\n                // It's a wrapper around the `primary` rule, with added `{}`.\r\n                //\r\n                block: function () {\r\n                    var content;\r\n                    if (parserInput.$char('{') && (content = this.primary()) && parserInput.$char('}')) {\r\n                        return content;\r\n                    }\r\n                },\r\n                blockRuleset: function () {\r\n                    var block = this.block();\r\n                    if (block) {\r\n                        block = new tree.Ruleset(null, block);\r\n                    }\r\n                    return block;\r\n                },\r\n                detachedRuleset: function () {\r\n                    var argInfo;\r\n                    var params;\r\n                    var variadic;\r\n                    parserInput.save();\r\n                    if (parserInput.$re(/^[.#]\\(/)) {\r\n                        /**\r\n                         * DR args currently only implemented for each() function, and not\r\n                         * yet settable as `@dr: #(@arg) {}`\r\n                         * This should be done when DRs are merged with mixins.\r\n                         * See: https://github.com/less/less-meta/issues/16\r\n                         */\r\n                        argInfo = this.mixin.args(false);\r\n                        params = argInfo.args;\r\n                        variadic = argInfo.variadic;\r\n                        if (!parserInput.$char(')')) {\r\n                            parserInput.restore();\r\n                            return;\r\n                        }\r\n                    }\r\n                    var blockRuleset = this.blockRuleset();\r\n                    if (blockRuleset) {\r\n                        parserInput.forget();\r\n                        if (params) {\r\n                            return new tree.mixin.Definition(null, params, blockRuleset, null, variadic);\r\n                        }\r\n                        return new tree.DetachedRuleset(blockRuleset);\r\n                    }\r\n                    parserInput.restore();\r\n                },\r\n                //\r\n                // div, .class, body > p {...}\r\n                //\r\n                ruleset: function () {\r\n                    var selectors;\r\n                    var rules;\r\n                    var debugInfo;\r\n                    parserInput.save();\r\n                    if (context.dumpLineNumbers) {\r\n                        debugInfo = getDebugInfo(parserInput.i);\r\n                    }\r\n                    selectors = this.selectors();\r\n                    if (selectors && (rules = this.block())) {\r\n                        parserInput.forget();\r\n                        var ruleset = new (tree.Ruleset)(selectors, rules, context.strictImports);\r\n                        if (context.dumpLineNumbers) {\r\n                            ruleset.debugInfo = debugInfo;\r\n                        }\r\n                        return ruleset;\r\n                    }\r\n                    else {\r\n                        parserInput.restore();\r\n                    }\r\n                },\r\n                declaration: function () {\r\n                    var name;\r\n                    var value;\r\n                    var index = parserInput.i;\r\n                    var hasDR;\r\n                    var c = parserInput.currentChar();\r\n                    var important;\r\n                    var merge;\r\n                    var isVariable;\r\n                    if (c === '.' || c === '#' || c === '&' || c === ':') {\r\n                        return;\r\n                    }\r\n                    parserInput.save();\r\n                    name = this.variable() || this.ruleProperty();\r\n                    if (name) {\r\n                        isVariable = typeof name === 'string';\r\n                        if (isVariable) {\r\n                            value = this.detachedRuleset();\r\n                            if (value) {\r\n                                hasDR = true;\r\n                            }\r\n                        }\r\n                        parserInput.commentStore.length = 0;\r\n                        if (!value) {\r\n                            // a name returned by this.ruleProperty() is always an array of the form:\r\n                            // [string-1, ..., string-n, \"\"] or [string-1, ..., string-n, \"+\"]\r\n                            // where each item is a tree.Keyword or tree.Variable\r\n                            merge = !isVariable && name.length > 1 && name.pop().value;\r\n                            // Custom property values get permissive parsing\r\n                            if (name[0].value && name[0].value.slice(0, 2) === '--') {\r\n                                value = this.permissiveValue();\r\n                            }\r\n                            // Try to store values as anonymous\r\n                            // If we need the value later we'll re-parse it in ruleset.parseValue\r\n                            else {\r\n                                value = this.anonymousValue();\r\n                            }\r\n                            if (value) {\r\n                                parserInput.forget();\r\n                                // anonymous values absorb the end ';' which is required for them to work\r\n                                return new (tree.Declaration)(name, value, false, merge, index, fileInfo);\r\n                            }\r\n                            if (!value) {\r\n                                value = this.value();\r\n                            }\r\n                            if (value) {\r\n                                important = this.important();\r\n                            }\r\n                            else if (isVariable) {\r\n                                // As a last resort, try permissiveValue\r\n                                value = this.permissiveValue();\r\n                            }\r\n                        }\r\n                        if (value && (this.end() || hasDR)) {\r\n                            parserInput.forget();\r\n                            return new (tree.Declaration)(name, value, important, merge, index, fileInfo);\r\n                        }\r\n                        else {\r\n                            parserInput.restore();\r\n                        }\r\n                    }\r\n                    else {\r\n                        parserInput.restore();\r\n                    }\r\n                },\r\n                anonymousValue: function () {\r\n                    var index = parserInput.i;\r\n                    var match = parserInput.$re(/^([^.#@\\$+\\/'\"*`(;{}-]*);/);\r\n                    if (match) {\r\n                        return new (tree.Anonymous)(match[1], index);\r\n                    }\r\n                },\r\n                /**\r\n                 * Used for custom properties, at-rules, and variables (as fallback)\r\n                 * Parses almost anything inside of {} [] () \"\" blocks\r\n                 * until it reaches outer-most tokens.\r\n                 *\r\n                 * First, it will try to parse comments and entities to reach\r\n                 * the end. This is mostly like the Expression parser except no\r\n                 * math is allowed.\r\n                 */\r\n                permissiveValue: function (untilTokens) {\r\n                    var i;\r\n                    var e;\r\n                    var done;\r\n                    var value;\r\n                    var tok = untilTokens || ';';\r\n                    var index = parserInput.i;\r\n                    var result = [];\r\n                    function testCurrentChar() {\r\n                        var char = parserInput.currentChar();\r\n                        if (typeof tok === 'string') {\r\n                            return char === tok;\r\n                        }\r\n                        else {\r\n                            return tok.test(char);\r\n                        }\r\n                    }\r\n                    if (testCurrentChar()) {\r\n                        return;\r\n                    }\r\n                    value = [];\r\n                    do {\r\n                        e = this.comment();\r\n                        if (e) {\r\n                            value.push(e);\r\n                            continue;\r\n                        }\r\n                        e = this.entity();\r\n                        if (e) {\r\n                            value.push(e);\r\n                        }\r\n                    } while (e);\r\n                    done = testCurrentChar();\r\n                    if (value.length > 0) {\r\n                        value = new (tree.Expression)(value);\r\n                        if (done) {\r\n                            return value;\r\n                        }\r\n                        else {\r\n                            result.push(value);\r\n                        }\r\n                        // Preserve space before $parseUntil as it will not\r\n                        if (parserInput.prevChar() === ' ') {\r\n                            result.push(new tree.Anonymous(' ', index));\r\n                        }\r\n                    }\r\n                    parserInput.save();\r\n                    value = parserInput.$parseUntil(tok);\r\n                    if (value) {\r\n                        if (typeof value === 'string') {\r\n                            error(\"Expected '\" + value + \"'\", 'Parse');\r\n                        }\r\n                        if (value.length === 1 && value[0] === ' ') {\r\n                            parserInput.forget();\r\n                            return new tree.Anonymous('', index);\r\n                        }\r\n                        var item = void 0;\r\n                        for (i = 0; i < value.length; i++) {\r\n                            item = value[i];\r\n                            if (Array.isArray(item)) {\r\n                                // Treat actual quotes as normal quoted values\r\n                                result.push(new tree.Quoted(item[0], item[1], true, index, fileInfo));\r\n                            }\r\n                            else {\r\n                                if (i === value.length - 1) {\r\n                                    item = item.trim();\r\n                                }\r\n                                // Treat like quoted values, but replace vars like unquoted expressions\r\n                                var quote = new tree.Quoted('\\'', item, true, index, fileInfo);\r\n                                quote.variableRegex = /@([\\w-]+)/g;\r\n                                quote.propRegex = /\\$([\\w-]+)/g;\r\n                                result.push(quote);\r\n                            }\r\n                        }\r\n                        parserInput.forget();\r\n                        return new tree.Expression(result, true);\r\n                    }\r\n                    parserInput.restore();\r\n                },\r\n                //\r\n                // An @import atrule\r\n                //\r\n                //     @import \"lib\";\r\n                //\r\n                // Depending on our environment, importing is done differently:\r\n                // In the browser, it's an XHR request, in Node, it would be a\r\n                // file-system operation. The function used for importing is\r\n                // stored in `import`, which we pass to the Import constructor.\r\n                //\r\n                'import': function () {\r\n                    var path;\r\n                    var features;\r\n                    var index = parserInput.i;\r\n                    var dir = parserInput.$re(/^@import\\s+/);\r\n                    if (dir) {\r\n                        var options = (dir ? this.importOptions() : null) || {};\r\n                        if ((path = this.entities.quoted() || this.entities.url())) {\r\n                            features = this.mediaFeatures();\r\n                            if (!parserInput.$char(';')) {\r\n                                parserInput.i = index;\r\n                                error('missing semi-colon or unrecognised media features on import');\r\n                            }\r\n                            features = features && new (tree.Value)(features);\r\n                            return new (tree.Import)(path, features, options, index, fileInfo);\r\n                        }\r\n                        else {\r\n                            parserInput.i = index;\r\n                            error('malformed import statement');\r\n                        }\r\n                    }\r\n                },\r\n                importOptions: function () {\r\n                    var o;\r\n                    var options = {};\r\n                    var optionName;\r\n                    var value;\r\n                    // list of options, surrounded by parens\r\n                    if (!parserInput.$char('(')) {\r\n                        return null;\r\n                    }\r\n                    do {\r\n                        o = this.importOption();\r\n                        if (o) {\r\n                            optionName = o;\r\n                            value = true;\r\n                            switch (optionName) {\r\n                                case 'css':\r\n                                    optionName = 'less';\r\n                                    value = false;\r\n                                    break;\r\n                                case 'once':\r\n                                    optionName = 'multiple';\r\n                                    value = false;\r\n                                    break;\r\n                            }\r\n                            options[optionName] = value;\r\n                            if (!parserInput.$char(',')) {\r\n                                break;\r\n                            }\r\n                        }\r\n                    } while (o);\r\n                    expectChar(')');\r\n                    return options;\r\n                },\r\n                importOption: function () {\r\n                    var opt = parserInput.$re(/^(less|css|multiple|once|inline|reference|optional)/);\r\n                    if (opt) {\r\n                        return opt[1];\r\n                    }\r\n                },\r\n                mediaFeature: function () {\r\n                    var entities = this.entities;\r\n                    var nodes = [];\r\n                    var e;\r\n                    var p;\r\n                    parserInput.save();\r\n                    do {\r\n                        e = entities.keyword() || entities.variable() || entities.mixinLookup();\r\n                        if (e) {\r\n                            nodes.push(e);\r\n                        }\r\n                        else if (parserInput.$char('(')) {\r\n                            p = this.property();\r\n                            e = this.value();\r\n                            if (parserInput.$char(')')) {\r\n                                if (p && e) {\r\n                                    nodes.push(new (tree.Paren)(new (tree.Declaration)(p, e, null, null, parserInput.i, fileInfo, true)));\r\n                                }\r\n                                else if (e) {\r\n                                    nodes.push(new (tree.Paren)(e));\r\n                                }\r\n                                else {\r\n                                    error('badly formed media feature definition');\r\n                                }\r\n                            }\r\n                            else {\r\n                                error('Missing closing \\')\\'', 'Parse');\r\n                            }\r\n                        }\r\n                    } while (e);\r\n                    parserInput.forget();\r\n                    if (nodes.length > 0) {\r\n                        return new (tree.Expression)(nodes);\r\n                    }\r\n                },\r\n                mediaFeatures: function () {\r\n                    var entities = this.entities;\r\n                    var features = [];\r\n                    var e;\r\n                    do {\r\n                        e = this.mediaFeature();\r\n                        if (e) {\r\n                            features.push(e);\r\n                            if (!parserInput.$char(',')) {\r\n                                break;\r\n                            }\r\n                        }\r\n                        else {\r\n                            e = entities.variable() || entities.mixinLookup();\r\n                            if (e) {\r\n                                features.push(e);\r\n                                if (!parserInput.$char(',')) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    } while (e);\r\n                    return features.length > 0 ? features : null;\r\n                },\r\n                media: function () {\r\n                    var features;\r\n                    var rules;\r\n                    var media;\r\n                    var debugInfo;\r\n                    var index = parserInput.i;\r\n                    if (context.dumpLineNumbers) {\r\n                        debugInfo = getDebugInfo(index);\r\n                    }\r\n                    parserInput.save();\r\n                    if (parserInput.$str('@media')) {\r\n                        features = this.mediaFeatures();\r\n                        rules = this.block();\r\n                        if (!rules) {\r\n                            error('media definitions require block statements after any features');\r\n                        }\r\n                        parserInput.forget();\r\n                        media = new (tree.Media)(rules, features, index, fileInfo);\r\n                        if (context.dumpLineNumbers) {\r\n                            media.debugInfo = debugInfo;\r\n                        }\r\n                        return media;\r\n                    }\r\n                    parserInput.restore();\r\n                },\r\n                //\r\n                // A @plugin directive, used to import plugins dynamically.\r\n                //\r\n                //     @plugin (args) \"lib\";\r\n                //\r\n                plugin: function () {\r\n                    var path;\r\n                    var args;\r\n                    var options;\r\n                    var index = parserInput.i;\r\n                    var dir = parserInput.$re(/^@plugin\\s+/);\r\n                    if (dir) {\r\n                        args = this.pluginArgs();\r\n                        if (args) {\r\n                            options = {\r\n                                pluginArgs: args,\r\n                                isPlugin: true\r\n                            };\r\n                        }\r\n                        else {\r\n                            options = { isPlugin: true };\r\n                        }\r\n                        if ((path = this.entities.quoted() || this.entities.url())) {\r\n                            if (!parserInput.$char(';')) {\r\n                                parserInput.i = index;\r\n                                error('missing semi-colon on @plugin');\r\n                            }\r\n                            return new (tree.Import)(path, null, options, index, fileInfo);\r\n                        }\r\n                        else {\r\n                            parserInput.i = index;\r\n                            error('malformed @plugin statement');\r\n                        }\r\n                    }\r\n                },\r\n                pluginArgs: function () {\r\n                    // list of options, surrounded by parens\r\n                    parserInput.save();\r\n                    if (!parserInput.$char('(')) {\r\n                        parserInput.restore();\r\n                        return null;\r\n                    }\r\n                    var args = parserInput.$re(/^\\s*([^\\);]+)\\)\\s*/);\r\n                    if (args[1]) {\r\n                        parserInput.forget();\r\n                        return args[1].trim();\r\n                    }\r\n                    else {\r\n                        parserInput.restore();\r\n                        return null;\r\n                    }\r\n                },\r\n                //\r\n                // A CSS AtRule\r\n                //\r\n                //     @charset \"utf-8\";\r\n                //\r\n                atrule: function () {\r\n                    var index = parserInput.i;\r\n                    var name;\r\n                    var value;\r\n                    var rules;\r\n                    var nonVendorSpecificName;\r\n                    var hasIdentifier;\r\n                    var hasExpression;\r\n                    var hasUnknown;\r\n                    var hasBlock = true;\r\n                    var isRooted = true;\r\n                    if (parserInput.currentChar() !== '@') {\r\n                        return;\r\n                    }\r\n                    value = this['import']() || this.plugin() || this.media();\r\n                    if (value) {\r\n                        return value;\r\n                    }\r\n                    parserInput.save();\r\n                    name = parserInput.$re(/^@[a-z-]+/);\r\n                    if (!name) {\r\n                        return;\r\n                    }\r\n                    nonVendorSpecificName = name;\r\n                    if (name.charAt(1) == '-' && name.indexOf('-', 2) > 0) {\r\n                        nonVendorSpecificName = \"@\" + name.slice(name.indexOf('-', 2) + 1);\r\n                    }\r\n                    switch (nonVendorSpecificName) {\r\n                        case '@charset':\r\n                            hasIdentifier = true;\r\n                            hasBlock = false;\r\n                            break;\r\n                        case '@namespace':\r\n                            hasExpression = true;\r\n                            hasBlock = false;\r\n                            break;\r\n                        case '@keyframes':\r\n                        case '@counter-style':\r\n                            hasIdentifier = true;\r\n                            break;\r\n                        case '@document':\r\n                        case '@supports':\r\n                            hasUnknown = true;\r\n                            isRooted = false;\r\n                            break;\r\n                        default:\r\n                            hasUnknown = true;\r\n                            break;\r\n                    }\r\n                    parserInput.commentStore.length = 0;\r\n                    if (hasIdentifier) {\r\n                        value = this.entity();\r\n                        if (!value) {\r\n                            error(\"expected \" + name + \" identifier\");\r\n                        }\r\n                    }\r\n                    else if (hasExpression) {\r\n                        value = this.expression();\r\n                        if (!value) {\r\n                            error(\"expected \" + name + \" expression\");\r\n                        }\r\n                    }\r\n                    else if (hasUnknown) {\r\n                        value = this.permissiveValue(/^[{;]/);\r\n                        hasBlock = (parserInput.currentChar() === '{');\r\n                        if (!value) {\r\n                            if (!hasBlock && parserInput.currentChar() !== ';') {\r\n                                error(name + \" rule is missing block or ending semi-colon\");\r\n                            }\r\n                        }\r\n                        else if (!value.value) {\r\n                            value = null;\r\n                        }\r\n                    }\r\n                    if (hasBlock) {\r\n                        rules = this.blockRuleset();\r\n                    }\r\n                    if (rules || (!hasBlock && value && parserInput.$char(';'))) {\r\n                        parserInput.forget();\r\n                        return new (tree.AtRule)(name, value, rules, index, fileInfo, context.dumpLineNumbers ? getDebugInfo(index) : null, isRooted);\r\n                    }\r\n                    parserInput.restore('at-rule options not recognised');\r\n                },\r\n                //\r\n                // A Value is a comma-delimited list of Expressions\r\n                //\r\n                //     font-family: Baskerville, Georgia, serif;\r\n                //\r\n                // In a Rule, a Value represents everything after the `:`,\r\n                // and before the `;`.\r\n                //\r\n                value: function () {\r\n                    var e;\r\n                    var expressions = [];\r\n                    var index = parserInput.i;\r\n                    do {\r\n                        e = this.expression();\r\n                        if (e) {\r\n                            expressions.push(e);\r\n                            if (!parserInput.$char(',')) {\r\n                                break;\r\n                            }\r\n                        }\r\n                    } while (e);\r\n                    if (expressions.length > 0) {\r\n                        return new (tree.Value)(expressions, index);\r\n                    }\r\n                },\r\n                important: function () {\r\n                    if (parserInput.currentChar() === '!') {\r\n                        return parserInput.$re(/^! *important/);\r\n                    }\r\n                },\r\n                sub: function () {\r\n                    var a;\r\n                    var e;\r\n                    parserInput.save();\r\n                    if (parserInput.$char('(')) {\r\n                        a = this.addition();\r\n                        if (a && parserInput.$char(')')) {\r\n                            parserInput.forget();\r\n                            e = new (tree.Expression)([a]);\r\n                            e.parens = true;\r\n                            return e;\r\n                        }\r\n                        parserInput.restore('Expected \\')\\'');\r\n                        return;\r\n                    }\r\n                    parserInput.restore();\r\n                },\r\n                multiplication: function () {\r\n                    var m;\r\n                    var a;\r\n                    var op;\r\n                    var operation;\r\n                    var isSpaced;\r\n                    m = this.operand();\r\n                    if (m) {\r\n                        isSpaced = parserInput.isWhitespace(-1);\r\n                        while (true) {\r\n                            if (parserInput.peek(/^\\/[*\\/]/)) {\r\n                                break;\r\n                            }\r\n                            parserInput.save();\r\n                            op = parserInput.$char('/') || parserInput.$char('*') || parserInput.$str('./');\r\n                            if (!op) {\r\n                                parserInput.forget();\r\n                                break;\r\n                            }\r\n                            a = this.operand();\r\n                            if (!a) {\r\n                                parserInput.restore();\r\n                                break;\r\n                            }\r\n                            parserInput.forget();\r\n                            m.parensInOp = true;\r\n                            a.parensInOp = true;\r\n                            operation = new (tree.Operation)(op, [operation || m, a], isSpaced);\r\n                            isSpaced = parserInput.isWhitespace(-1);\r\n                        }\r\n                        return operation || m;\r\n                    }\r\n                },\r\n                addition: function () {\r\n                    var m;\r\n                    var a;\r\n                    var op;\r\n                    var operation;\r\n                    var isSpaced;\r\n                    m = this.multiplication();\r\n                    if (m) {\r\n                        isSpaced = parserInput.isWhitespace(-1);\r\n                        while (true) {\r\n                            op = parserInput.$re(/^[-+]\\s+/) || (!isSpaced && (parserInput.$char('+') || parserInput.$char('-')));\r\n                            if (!op) {\r\n                                break;\r\n                            }\r\n                            a = this.multiplication();\r\n                            if (!a) {\r\n                                break;\r\n                            }\r\n                            m.parensInOp = true;\r\n                            a.parensInOp = true;\r\n                            operation = new (tree.Operation)(op, [operation || m, a], isSpaced);\r\n                            isSpaced = parserInput.isWhitespace(-1);\r\n                        }\r\n                        return operation || m;\r\n                    }\r\n                },\r\n                conditions: function () {\r\n                    var a;\r\n                    var b;\r\n                    var index = parserInput.i;\r\n                    var condition;\r\n                    a = this.condition(true);\r\n                    if (a) {\r\n                        while (true) {\r\n                            if (!parserInput.peek(/^,\\s*(not\\s*)?\\(/) || !parserInput.$char(',')) {\r\n                                break;\r\n                            }\r\n                            b = this.condition(true);\r\n                            if (!b) {\r\n                                break;\r\n                            }\r\n                            condition = new (tree.Condition)('or', condition || a, b, index);\r\n                        }\r\n                        return condition || a;\r\n                    }\r\n                },\r\n                condition: function (needsParens) {\r\n                    var result;\r\n                    var logical;\r\n                    var next;\r\n                    function or() {\r\n                        return parserInput.$str('or');\r\n                    }\r\n                    result = this.conditionAnd(needsParens);\r\n                    if (!result) {\r\n                        return;\r\n                    }\r\n                    logical = or();\r\n                    if (logical) {\r\n                        next = this.condition(needsParens);\r\n                        if (next) {\r\n                            result = new (tree.Condition)(logical, result, next);\r\n                        }\r\n                        else {\r\n                            return;\r\n                        }\r\n                    }\r\n                    return result;\r\n                },\r\n                conditionAnd: function (needsParens) {\r\n                    var result;\r\n                    var logical;\r\n                    var next;\r\n                    var self = this;\r\n                    function insideCondition() {\r\n                        var cond = self.negatedCondition(needsParens) || self.parenthesisCondition(needsParens);\r\n                        if (!cond && !needsParens) {\r\n                            return self.atomicCondition(needsParens);\r\n                        }\r\n                        return cond;\r\n                    }\r\n                    function and() {\r\n                        return parserInput.$str('and');\r\n                    }\r\n                    result = insideCondition();\r\n                    if (!result) {\r\n                        return;\r\n                    }\r\n                    logical = and();\r\n                    if (logical) {\r\n                        next = this.conditionAnd(needsParens);\r\n                        if (next) {\r\n                            result = new (tree.Condition)(logical, result, next);\r\n                        }\r\n                        else {\r\n                            return;\r\n                        }\r\n                    }\r\n                    return result;\r\n                },\r\n                negatedCondition: function (needsParens) {\r\n                    if (parserInput.$str('not')) {\r\n                        var result = this.parenthesisCondition(needsParens);\r\n                        if (result) {\r\n                            result.negate = !result.negate;\r\n                        }\r\n                        return result;\r\n                    }\r\n                },\r\n                parenthesisCondition: function (needsParens) {\r\n                    function tryConditionFollowedByParenthesis(me) {\r\n                        var body;\r\n                        parserInput.save();\r\n                        body = me.condition(needsParens);\r\n                        if (!body) {\r\n                            parserInput.restore();\r\n                            return;\r\n                        }\r\n                        if (!parserInput.$char(')')) {\r\n                            parserInput.restore();\r\n                            return;\r\n                        }\r\n                        parserInput.forget();\r\n                        return body;\r\n                    }\r\n                    var body;\r\n                    parserInput.save();\r\n                    if (!parserInput.$str('(')) {\r\n                        parserInput.restore();\r\n                        return;\r\n                    }\r\n                    body = tryConditionFollowedByParenthesis(this);\r\n                    if (body) {\r\n                        parserInput.forget();\r\n                        return body;\r\n                    }\r\n                    body = this.atomicCondition(needsParens);\r\n                    if (!body) {\r\n                        parserInput.restore();\r\n                        return;\r\n                    }\r\n                    if (!parserInput.$char(')')) {\r\n                        parserInput.restore(\"expected ')' got '\" + parserInput.currentChar() + \"'\");\r\n                        return;\r\n                    }\r\n                    parserInput.forget();\r\n                    return body;\r\n                },\r\n                atomicCondition: function (needsParens) {\r\n                    var entities = this.entities;\r\n                    var index = parserInput.i;\r\n                    var a;\r\n                    var b;\r\n                    var c;\r\n                    var op;\r\n                    function cond() {\r\n                        return this.addition() || entities.keyword() || entities.quoted() || entities.mixinLookup();\r\n                    }\r\n                    cond = cond.bind(this);\r\n                    a = cond();\r\n                    if (a) {\r\n                        if (parserInput.$char('>')) {\r\n                            if (parserInput.$char('=')) {\r\n                                op = '>=';\r\n                            }\r\n                            else {\r\n                                op = '>';\r\n                            }\r\n                        }\r\n                        else if (parserInput.$char('<')) {\r\n                            if (parserInput.$char('=')) {\r\n                                op = '<=';\r\n                            }\r\n                            else {\r\n                                op = '<';\r\n                            }\r\n                        }\r\n                        else if (parserInput.$char('=')) {\r\n                            if (parserInput.$char('>')) {\r\n                                op = '=>';\r\n                            }\r\n                            else if (parserInput.$char('<')) {\r\n                                op = '=<';\r\n                            }\r\n                            else {\r\n                                op = '=';\r\n                            }\r\n                        }\r\n                        if (op) {\r\n                            b = cond();\r\n                            if (b) {\r\n                                c = new (tree.Condition)(op, a, b, index, false);\r\n                            }\r\n                            else {\r\n                                error('expected expression');\r\n                            }\r\n                        }\r\n                        else {\r\n                            c = new (tree.Condition)('=', a, new (tree.Keyword)('true'), index, false);\r\n                        }\r\n                        return c;\r\n                    }\r\n                },\r\n                //\r\n                // An operand is anything that can be part of an operation,\r\n                // such as a Color, or a Variable\r\n                //\r\n                operand: function () {\r\n                    var entities = this.entities;\r\n                    var negate;\r\n                    if (parserInput.peek(/^-[@\\$\\(]/)) {\r\n                        negate = parserInput.$char('-');\r\n                    }\r\n                    var o = this.sub() || entities.dimension() ||\r\n                        entities.color() || entities.variable() ||\r\n                        entities.property() || entities.call() ||\r\n                        entities.quoted(true) || entities.colorKeyword() ||\r\n                        entities.mixinLookup();\r\n                    if (negate) {\r\n                        o.parensInOp = true;\r\n                        o = new (tree.Negative)(o);\r\n                    }\r\n                    return o;\r\n                },\r\n                //\r\n                // Expressions either represent mathematical operations,\r\n                // or white-space delimited Entities.\r\n                //\r\n                //     1px solid black\r\n                //     @var * 2\r\n                //\r\n                expression: function () {\r\n                    var entities = [];\r\n                    var e;\r\n                    var delim;\r\n                    var index = parserInput.i;\r\n                    do {\r\n                        e = this.comment();\r\n                        if (e) {\r\n                            entities.push(e);\r\n                            continue;\r\n                        }\r\n                        e = this.addition() || this.entity();\r\n                        if (e instanceof tree.Comment) {\r\n                            e = null;\r\n                        }\r\n                        if (e) {\r\n                            entities.push(e);\r\n                            // operations do not allow keyword \"/\" dimension (e.g. small/20px) so we support that here\r\n                            if (!parserInput.peek(/^\\/[\\/*]/)) {\r\n                                delim = parserInput.$char('/');\r\n                                if (delim) {\r\n                                    entities.push(new (tree.Anonymous)(delim, index));\r\n                                }\r\n                            }\r\n                        }\r\n                    } while (e);\r\n                    if (entities.length > 0) {\r\n                        return new (tree.Expression)(entities);\r\n                    }\r\n                },\r\n                property: function () {\r\n                    var name = parserInput.$re(/^(\\*?-?[_a-zA-Z0-9-]+)\\s*:/);\r\n                    if (name) {\r\n                        return name[1];\r\n                    }\r\n                },\r\n                ruleProperty: function () {\r\n                    var name = [];\r\n                    var index = [];\r\n                    var s;\r\n                    var k;\r\n                    parserInput.save();\r\n                    var simpleProperty = parserInput.$re(/^([_a-zA-Z0-9-]+)\\s*:/);\r\n                    if (simpleProperty) {\r\n                        name = [new (tree.Keyword)(simpleProperty[1])];\r\n                        parserInput.forget();\r\n                        return name;\r\n                    }\r\n                    function match(re) {\r\n                        var i = parserInput.i;\r\n                        var chunk = parserInput.$re(re);\r\n                        if (chunk) {\r\n                            index.push(i);\r\n                            return name.push(chunk[1]);\r\n                        }\r\n                    }\r\n                    match(/^(\\*?)/);\r\n                    while (true) {\r\n                        if (!match(/^((?:[\\w-]+)|(?:[@\\$]\\{[\\w-]+\\}))/)) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    if ((name.length > 1) && match(/^((?:\\+_|\\+)?)\\s*:/)) {\r\n                        parserInput.forget();\r\n                        // at last, we have the complete match now. move forward,\r\n                        // convert name particles to tree objects and return:\r\n                        if (name[0] === '') {\r\n                            name.shift();\r\n                            index.shift();\r\n                        }\r\n                        for (k = 0; k < name.length; k++) {\r\n                            s = name[k];\r\n                            name[k] = (s.charAt(0) !== '@' && s.charAt(0) !== '$') ?\r\n                                new (tree.Keyword)(s) :\r\n                                (s.charAt(0) === '@' ?\r\n                                    new (tree.Variable)(\"@\" + s.slice(2, -1), index[k], fileInfo) :\r\n                                    new (tree.Property)(\"$\" + s.slice(2, -1), index[k], fileInfo));\r\n                        }\r\n                        return name;\r\n                    }\r\n                    parserInput.restore();\r\n                }\r\n            }\r\n        };\r\n    };\r\n    Parser.serializeVars = function (vars) {\r\n        var s = '';\r\n        for (var name_1 in vars) {\r\n            if (Object.hasOwnProperty.call(vars, name_1)) {\r\n                var value = vars[name_1];\r\n                s += ((name_1[0] === '@') ? '' : '@') + name_1 + \": \" + value + ((String(value).slice(-1) === ';') ? '' : ';');\r\n            }\r\n        }\r\n        return s;\r\n    };\n\n    function boolean(condition) {\r\n        return condition ? Keyword.True : Keyword.False;\r\n    }\r\n    /**\r\n     * Functions with evalArgs set to false are sent context\r\n     * as the first argument.\r\n     */\r\n    function If(context, condition, trueValue, falseValue) {\r\n        return condition.eval(context) ? trueValue.eval(context)\r\n            : (falseValue ? falseValue.eval(context) : new Anonymous);\r\n    }\r\n    If.evalArgs = false;\r\n    function isdefined(context, variable) {\r\n        try {\r\n            variable.eval(context);\r\n            return Keyword.True;\r\n        }\r\n        catch (e) {\r\n            return Keyword.False;\r\n        }\r\n    }\r\n    isdefined.evalArgs = false;\r\n    var boolean$1 = { isdefined: isdefined, boolean: boolean, 'if': If };\n\n    var colorFunctions;\r\n    function clamp(val) {\r\n        return Math.min(1, Math.max(0, val));\r\n    }\r\n    function hsla(origColor, hsl) {\r\n        var color = colorFunctions.hsla(hsl.h, hsl.s, hsl.l, hsl.a);\r\n        if (color) {\r\n            if (origColor.value &&\r\n                /^(rgb|hsl)/.test(origColor.value)) {\r\n                color.value = origColor.value;\r\n            }\r\n            else {\r\n                color.value = 'rgb';\r\n            }\r\n            return color;\r\n        }\r\n    }\r\n    function toHSL(color) {\r\n        if (color.toHSL) {\r\n            return color.toHSL();\r\n        }\r\n        else {\r\n            throw new Error('Argument cannot be evaluated to a color');\r\n        }\r\n    }\r\n    function toHSV(color) {\r\n        if (color.toHSV) {\r\n            return color.toHSV();\r\n        }\r\n        else {\r\n            throw new Error('Argument cannot be evaluated to a color');\r\n        }\r\n    }\r\n    function number$1(n) {\r\n        if (n instanceof Dimension) {\r\n            return parseFloat(n.unit.is('%') ? n.value / 100 : n.value);\r\n        }\r\n        else if (typeof n === 'number') {\r\n            return n;\r\n        }\r\n        else {\r\n            throw {\r\n                type: 'Argument',\r\n                message: 'color functions take numbers as parameters'\r\n            };\r\n        }\r\n    }\r\n    function scaled(n, size) {\r\n        if (n instanceof Dimension && n.unit.is('%')) {\r\n            return parseFloat(n.value * size / 100);\r\n        }\r\n        else {\r\n            return number$1(n);\r\n        }\r\n    }\r\n    colorFunctions = {\r\n        rgb: function (r, g, b) {\r\n            var a = 1;\r\n            /**\r\n             * Comma-less syntax\r\n             *   e.g. rgb(0 128 255 / 50%)\r\n             */\r\n            if (r instanceof Expression) {\r\n                var val = r.value;\r\n                r = val[0];\r\n                g = val[1];\r\n                b = val[2];\r\n                /**\r\n                 * @todo - should this be normalized in\r\n                 *   function caller? Or parsed differently?\r\n                 */\r\n                if (b instanceof Operation) {\r\n                    var op = b;\r\n                    b = op.operands[0];\r\n                    a = op.operands[1];\r\n                }\r\n            }\r\n            var color = colorFunctions.rgba(r, g, b, a);\r\n            if (color) {\r\n                color.value = 'rgb';\r\n                return color;\r\n            }\r\n        },\r\n        rgba: function (r, g, b, a) {\r\n            try {\r\n                if (r instanceof Color) {\r\n                    if (g) {\r\n                        a = number$1(g);\r\n                    }\r\n                    else {\r\n                        a = r.alpha;\r\n                    }\r\n                    return new Color(r.rgb, a, 'rgba');\r\n                }\r\n                var rgb = [r, g, b].map(function (c) { return scaled(c, 255); });\r\n                a = number$1(a);\r\n                return new Color(rgb, a, 'rgba');\r\n            }\r\n            catch (e) { }\r\n        },\r\n        hsl: function (h, s, l) {\r\n            var a = 1;\r\n            if (h instanceof Expression) {\r\n                var val = h.value;\r\n                h = val[0];\r\n                s = val[1];\r\n                l = val[2];\r\n                if (l instanceof Operation) {\r\n                    var op = l;\r\n                    l = op.operands[0];\r\n                    a = op.operands[1];\r\n                }\r\n            }\r\n            var color = colorFunctions.hsla(h, s, l, a);\r\n            if (color) {\r\n                color.value = 'hsl';\r\n                return color;\r\n            }\r\n        },\r\n        hsla: function (h, s, l, a) {\r\n            try {\r\n                if (h instanceof Color) {\r\n                    if (s) {\r\n                        a = number$1(s);\r\n                    }\r\n                    else {\r\n                        a = h.alpha;\r\n                    }\r\n                    return new Color(h.rgb, a, 'hsla');\r\n                }\r\n                var m1_1;\r\n                var m2_1;\r\n                function hue(h) {\r\n                    h = h < 0 ? h + 1 : (h > 1 ? h - 1 : h);\r\n                    if (h * 6 < 1) {\r\n                        return m1_1 + (m2_1 - m1_1) * h * 6;\r\n                    }\r\n                    else if (h * 2 < 1) {\r\n                        return m2_1;\r\n                    }\r\n                    else if (h * 3 < 2) {\r\n                        return m1_1 + (m2_1 - m1_1) * (2 / 3 - h) * 6;\r\n                    }\r\n                    else {\r\n                        return m1_1;\r\n                    }\r\n                }\r\n                h = (number$1(h) % 360) / 360;\r\n                s = clamp(number$1(s));\r\n                l = clamp(number$1(l));\r\n                a = clamp(number$1(a));\r\n                m2_1 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\r\n                m1_1 = l * 2 - m2_1;\r\n                var rgb = [\r\n                    hue(h + 1 / 3) * 255,\r\n                    hue(h) * 255,\r\n                    hue(h - 1 / 3) * 255\r\n                ];\r\n                a = number$1(a);\r\n                return new Color(rgb, a, 'hsla');\r\n            }\r\n            catch (e) { }\r\n        },\r\n        hsv: function (h, s, v) {\r\n            return colorFunctions.hsva(h, s, v, 1.0);\r\n        },\r\n        hsva: function (h, s, v, a) {\r\n            h = ((number$1(h) % 360) / 360) * 360;\r\n            s = number$1(s);\r\n            v = number$1(v);\r\n            a = number$1(a);\r\n            var i;\r\n            var f;\r\n            i = Math.floor((h / 60) % 6);\r\n            f = (h / 60) - i;\r\n            var vs = [v,\r\n                v * (1 - s),\r\n                v * (1 - f * s),\r\n                v * (1 - (1 - f) * s)];\r\n            var perm = [[0, 3, 1],\r\n                [2, 0, 1],\r\n                [1, 0, 3],\r\n                [1, 2, 0],\r\n                [3, 1, 0],\r\n                [0, 1, 2]];\r\n            return colorFunctions.rgba(vs[perm[i][0]] * 255, vs[perm[i][1]] * 255, vs[perm[i][2]] * 255, a);\r\n        },\r\n        hue: function (color) {\r\n            return new Dimension(toHSL(color).h);\r\n        },\r\n        saturation: function (color) {\r\n            return new Dimension(toHSL(color).s * 100, '%');\r\n        },\r\n        lightness: function (color) {\r\n            return new Dimension(toHSL(color).l * 100, '%');\r\n        },\r\n        hsvhue: function (color) {\r\n            return new Dimension(toHSV(color).h);\r\n        },\r\n        hsvsaturation: function (color) {\r\n            return new Dimension(toHSV(color).s * 100, '%');\r\n        },\r\n        hsvvalue: function (color) {\r\n            return new Dimension(toHSV(color).v * 100, '%');\r\n        },\r\n        red: function (color) {\r\n            return new Dimension(color.rgb[0]);\r\n        },\r\n        green: function (color) {\r\n            return new Dimension(color.rgb[1]);\r\n        },\r\n        blue: function (color) {\r\n            return new Dimension(color.rgb[2]);\r\n        },\r\n        alpha: function (color) {\r\n            return new Dimension(toHSL(color).a);\r\n        },\r\n        luma: function (color) {\r\n            return new Dimension(color.luma() * color.alpha * 100, '%');\r\n        },\r\n        luminance: function (color) {\r\n            var luminance = (0.2126 * color.rgb[0] / 255) +\r\n                (0.7152 * color.rgb[1] / 255) +\r\n                (0.0722 * color.rgb[2] / 255);\r\n            return new Dimension(luminance * color.alpha * 100, '%');\r\n        },\r\n        saturate: function (color, amount, method) {\r\n            // filter: saturate(3.2);\r\n            // should be kept as is, so check for color\r\n            if (!color.rgb) {\r\n                return null;\r\n            }\r\n            var hsl = toHSL(color);\r\n            if (typeof method !== 'undefined' && method.value === 'relative') {\r\n                hsl.s += hsl.s * amount.value / 100;\r\n            }\r\n            else {\r\n                hsl.s += amount.value / 100;\r\n            }\r\n            hsl.s = clamp(hsl.s);\r\n            return hsla(color, hsl);\r\n        },\r\n        desaturate: function (color, amount, method) {\r\n            var hsl = toHSL(color);\r\n            if (typeof method !== 'undefined' && method.value === 'relative') {\r\n                hsl.s -= hsl.s * amount.value / 100;\r\n            }\r\n            else {\r\n                hsl.s -= amount.value / 100;\r\n            }\r\n            hsl.s = clamp(hsl.s);\r\n            return hsla(color, hsl);\r\n        },\r\n        lighten: function (color, amount, method) {\r\n            var hsl = toHSL(color);\r\n            if (typeof method !== 'undefined' && method.value === 'relative') {\r\n                hsl.l += hsl.l * amount.value / 100;\r\n            }\r\n            else {\r\n                hsl.l += amount.value / 100;\r\n            }\r\n            hsl.l = clamp(hsl.l);\r\n            return hsla(color, hsl);\r\n        },\r\n        darken: function (color, amount, method) {\r\n            var hsl = toHSL(color);\r\n            if (typeof method !== 'undefined' && method.value === 'relative') {\r\n                hsl.l -= hsl.l * amount.value / 100;\r\n            }\r\n            else {\r\n                hsl.l -= amount.value / 100;\r\n            }\r\n            hsl.l = clamp(hsl.l);\r\n            return hsla(color, hsl);\r\n        },\r\n        fadein: function (color, amount, method) {\r\n            var hsl = toHSL(color);\r\n            if (typeof method !== 'undefined' && method.value === 'relative') {\r\n                hsl.a += hsl.a * amount.value / 100;\r\n            }\r\n            else {\r\n                hsl.a += amount.value / 100;\r\n            }\r\n            hsl.a = clamp(hsl.a);\r\n            return hsla(color, hsl);\r\n        },\r\n        fadeout: function (color, amount, method) {\r\n            var hsl = toHSL(color);\r\n            if (typeof method !== 'undefined' && method.value === 'relative') {\r\n                hsl.a -= hsl.a * amount.value / 100;\r\n            }\r\n            else {\r\n                hsl.a -= amount.value / 100;\r\n            }\r\n            hsl.a = clamp(hsl.a);\r\n            return hsla(color, hsl);\r\n        },\r\n        fade: function (color, amount) {\r\n            var hsl = toHSL(color);\r\n            hsl.a = amount.value / 100;\r\n            hsl.a = clamp(hsl.a);\r\n            return hsla(color, hsl);\r\n        },\r\n        spin: function (color, amount) {\r\n            var hsl = toHSL(color);\r\n            var hue = (hsl.h + amount.value) % 360;\r\n            hsl.h = hue < 0 ? 360 + hue : hue;\r\n            return hsla(color, hsl);\r\n        },\r\n        //\r\n        // Copyright (c) 2006-2009 Hampton Catlin, Natalie Weizenbaum, and Chris Eppstein\r\n        // http://sass-lang.com\r\n        //\r\n        mix: function (color1, color2, weight) {\r\n            if (!weight) {\r\n                weight = new Dimension(50);\r\n            }\r\n            var p = weight.value / 100.0;\r\n            var w = p * 2 - 1;\r\n            var a = toHSL(color1).a - toHSL(color2).a;\r\n            var w1 = (((w * a == -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\r\n            var w2 = 1 - w1;\r\n            var rgb = [color1.rgb[0] * w1 + color2.rgb[0] * w2,\r\n                color1.rgb[1] * w1 + color2.rgb[1] * w2,\r\n                color1.rgb[2] * w1 + color2.rgb[2] * w2];\r\n            var alpha = color1.alpha * p + color2.alpha * (1 - p);\r\n            return new Color(rgb, alpha);\r\n        },\r\n        greyscale: function (color) {\r\n            return colorFunctions.desaturate(color, new Dimension(100));\r\n        },\r\n        contrast: function (color, dark, light, threshold) {\r\n            // filter: contrast(3.2);\r\n            // should be kept as is, so check for color\r\n            if (!color.rgb) {\r\n                return null;\r\n            }\r\n            if (typeof light === 'undefined') {\r\n                light = colorFunctions.rgba(255, 255, 255, 1.0);\r\n            }\r\n            if (typeof dark === 'undefined') {\r\n                dark = colorFunctions.rgba(0, 0, 0, 1.0);\r\n            }\r\n            // Figure out which is actually light and dark:\r\n            if (dark.luma() > light.luma()) {\r\n                var t = light;\r\n                light = dark;\r\n                dark = t;\r\n            }\r\n            if (typeof threshold === 'undefined') {\r\n                threshold = 0.43;\r\n            }\r\n            else {\r\n                threshold = number$1(threshold);\r\n            }\r\n            if (color.luma() < threshold) {\r\n                return light;\r\n            }\r\n            else {\r\n                return dark;\r\n            }\r\n        },\r\n        // Changes made in 2.7.0 - Reverted in 3.0.0\r\n        // contrast: function (color, color1, color2, threshold) {\r\n        //     // Return which of `color1` and `color2` has the greatest contrast with `color`\r\n        //     // according to the standard WCAG contrast ratio calculation.\r\n        //     // http://www.w3.org/TR/WCAG20/#contrast-ratiodef\r\n        //     // The threshold param is no longer used, in line with SASS.\r\n        //     // filter: contrast(3.2);\r\n        //     // should be kept as is, so check for color\r\n        //     if (!color.rgb) {\r\n        //         return null;\r\n        //     }\r\n        //     if (typeof color1 === 'undefined') {\r\n        //         color1 = colorFunctions.rgba(0, 0, 0, 1.0);\r\n        //     }\r\n        //     if (typeof color2 === 'undefined') {\r\n        //         color2 = colorFunctions.rgba(255, 255, 255, 1.0);\r\n        //     }\r\n        //     var contrast1, contrast2;\r\n        //     var luma = color.luma();\r\n        //     var luma1 = color1.luma();\r\n        //     var luma2 = color2.luma();\r\n        //     // Calculate contrast ratios for each color\r\n        //     if (luma > luma1) {\r\n        //         contrast1 = (luma + 0.05) / (luma1 + 0.05);\r\n        //     } else {\r\n        //         contrast1 = (luma1 + 0.05) / (luma + 0.05);\r\n        //     }\r\n        //     if (luma > luma2) {\r\n        //         contrast2 = (luma + 0.05) / (luma2 + 0.05);\r\n        //     } else {\r\n        //         contrast2 = (luma2 + 0.05) / (luma + 0.05);\r\n        //     }\r\n        //     if (contrast1 > contrast2) {\r\n        //         return color1;\r\n        //     } else {\r\n        //         return color2;\r\n        //     }\r\n        // },\r\n        argb: function (color) {\r\n            return new Anonymous(color.toARGB());\r\n        },\r\n        color: function (c) {\r\n            if ((c instanceof Quoted) &&\r\n                (/^#([A-Fa-f0-9]{8}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3,4})$/i.test(c.value))) {\r\n                var val = c.value.slice(1);\r\n                return new Color(val, undefined, \"#\" + val);\r\n            }\r\n            if ((c instanceof Color) || (c = Color.fromKeyword(c.value))) {\r\n                c.value = undefined;\r\n                return c;\r\n            }\r\n            throw {\r\n                type: 'Argument',\r\n                message: 'argument must be a color keyword or 3|4|6|8 digit hex e.g. #FFF'\r\n            };\r\n        },\r\n        tint: function (color, amount) {\r\n            return colorFunctions.mix(colorFunctions.rgb(255, 255, 255), color, amount);\r\n        },\r\n        shade: function (color, amount) {\r\n            return colorFunctions.mix(colorFunctions.rgb(0, 0, 0), color, amount);\r\n        }\r\n    };\r\n    var color = colorFunctions;\n\n    // Color Blending\r\n    // ref: http://www.w3.org/TR/compositing-1\r\n    function colorBlend(mode, color1, color2) {\r\n        var ab = color1.alpha; // result\r\n        var // backdrop\r\n        cb;\r\n        var as = color2.alpha;\r\n        var // source\r\n        cs;\r\n        var ar;\r\n        var cr;\r\n        var r = [];\r\n        ar = as + ab * (1 - as);\r\n        for (var i = 0; i < 3; i++) {\r\n            cb = color1.rgb[i] / 255;\r\n            cs = color2.rgb[i] / 255;\r\n            cr = mode(cb, cs);\r\n            if (ar) {\r\n                cr = (as * cs + ab * (cb -\r\n                    as * (cb + cs - cr))) / ar;\r\n            }\r\n            r[i] = cr * 255;\r\n        }\r\n        return new Color(r, ar);\r\n    }\r\n    var colorBlendModeFunctions = {\r\n        multiply: function (cb, cs) {\r\n            return cb * cs;\r\n        },\r\n        screen: function (cb, cs) {\r\n            return cb + cs - cb * cs;\r\n        },\r\n        overlay: function (cb, cs) {\r\n            cb *= 2;\r\n            return (cb <= 1) ?\r\n                colorBlendModeFunctions.multiply(cb, cs) :\r\n                colorBlendModeFunctions.screen(cb - 1, cs);\r\n        },\r\n        softlight: function (cb, cs) {\r\n            var d = 1;\r\n            var e = cb;\r\n            if (cs > 0.5) {\r\n                e = 1;\r\n                d = (cb > 0.25) ? Math.sqrt(cb)\r\n                    : ((16 * cb - 12) * cb + 4) * cb;\r\n            }\r\n            return cb - (1 - 2 * cs) * e * (d - cb);\r\n        },\r\n        hardlight: function (cb, cs) {\r\n            return colorBlendModeFunctions.overlay(cs, cb);\r\n        },\r\n        difference: function (cb, cs) {\r\n            return Math.abs(cb - cs);\r\n        },\r\n        exclusion: function (cb, cs) {\r\n            return cb + cs - 2 * cb * cs;\r\n        },\r\n        // non-w3c functions:\r\n        average: function (cb, cs) {\r\n            return (cb + cs) / 2;\r\n        },\r\n        negation: function (cb, cs) {\r\n            return 1 - Math.abs(cb + cs - 1);\r\n        }\r\n    };\r\n    for (var f$1 in colorBlendModeFunctions) {\r\n        if (colorBlendModeFunctions.hasOwnProperty(f$1)) {\r\n            colorBlend[f$1] = colorBlend.bind(null, colorBlendModeFunctions[f$1]);\r\n        }\r\n    }\n\n    var dataUri = (function (environment) {\r\n        var fallback = function (functionThis, node) { return new URL(node, functionThis.index, functionThis.currentFileInfo).eval(functionThis.context); };\r\n        return { 'data-uri': function (mimetypeNode, filePathNode) {\r\n                if (!filePathNode) {\r\n                    filePathNode = mimetypeNode;\r\n                    mimetypeNode = null;\r\n                }\r\n                var mimetype = mimetypeNode && mimetypeNode.value;\r\n                var filePath = filePathNode.value;\r\n                var currentFileInfo = this.currentFileInfo;\r\n                var currentDirectory = currentFileInfo.rewriteUrls ?\r\n                    currentFileInfo.currentDirectory : currentFileInfo.entryPath;\r\n                var fragmentStart = filePath.indexOf('#');\r\n                var fragment = '';\r\n                if (fragmentStart !== -1) {\r\n                    fragment = filePath.slice(fragmentStart);\r\n                    filePath = filePath.slice(0, fragmentStart);\r\n                }\r\n                var context = clone(this.context);\r\n                context.rawBuffer = true;\r\n                var fileManager = environment.getFileManager(filePath, currentDirectory, context, environment, true);\r\n                if (!fileManager) {\r\n                    return fallback(this, filePathNode);\r\n                }\r\n                var useBase64 = false;\r\n                // detect the mimetype if not given\r\n                if (!mimetypeNode) {\r\n                    mimetype = environment.mimeLookup(filePath);\r\n                    if (mimetype === 'image/svg+xml') {\r\n                        useBase64 = false;\r\n                    }\r\n                    else {\r\n                        // use base 64 unless it's an ASCII or UTF-8 format\r\n                        var charset = environment.charsetLookup(mimetype);\r\n                        useBase64 = ['US-ASCII', 'UTF-8'].indexOf(charset) < 0;\r\n                    }\r\n                    if (useBase64) {\r\n                        mimetype += ';base64';\r\n                    }\r\n                }\r\n                else {\r\n                    useBase64 = /;base64$/.test(mimetype);\r\n                }\r\n                var fileSync = fileManager.loadFileSync(filePath, currentDirectory, context, environment);\r\n                if (!fileSync.contents) {\r\n                    logger$1.warn(\"Skipped data-uri embedding of \" + filePath + \" because file not found\");\r\n                    return fallback(this, filePathNode || mimetypeNode);\r\n                }\r\n                var buf = fileSync.contents;\r\n                if (useBase64 && !environment.encodeBase64) {\r\n                    return fallback(this, filePathNode);\r\n                }\r\n                buf = useBase64 ? environment.encodeBase64(buf) : encodeURIComponent(buf);\r\n                var uri = \"data:\" + mimetype + \",\" + buf + fragment;\r\n                return new URL(new Quoted(\"\\\"\" + uri + \"\\\"\", uri, false, this.index, this.currentFileInfo), this.index, this.currentFileInfo);\r\n            } };\r\n    });\n\n    var getItemsFromNode = function (node) {\r\n        // handle non-array values as an array of length 1\r\n        // return 'undefined' if index is invalid\r\n        var items = Array.isArray(node.value) ?\r\n            node.value : Array(node);\r\n        return items;\r\n    };\r\n    var list = {\r\n        _SELF: function (n) {\r\n            return n;\r\n        },\r\n        '~': function () {\r\n            var expr = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                expr[_i] = arguments[_i];\r\n            }\r\n            if (expr.length === 1) {\r\n                return expr[0];\r\n            }\r\n            return new Value(expr);\r\n        },\r\n        extract: function (values, index) {\r\n            // (1-based index)\r\n            index = index.value - 1;\r\n            return getItemsFromNode(values)[index];\r\n        },\r\n        length: function (values) {\r\n            return new Dimension(getItemsFromNode(values).length);\r\n        },\r\n        /**\r\n         * Creates a Less list of incremental values.\r\n         * Modeled after Lodash's range function, also exists natively in PHP\r\n         *\r\n         * @param {Dimension} [start=1]\r\n         * @param {Dimension} end  - e.g. 10 or 10px - unit is added to output\r\n         * @param {Dimension} [step=1]\r\n         */\r\n        range: function (start, end, step) {\r\n            var from;\r\n            var to;\r\n            var stepValue = 1;\r\n            var list = [];\r\n            if (end) {\r\n                to = end;\r\n                from = start.value;\r\n                if (step) {\r\n                    stepValue = step.value;\r\n                }\r\n            }\r\n            else {\r\n                from = 1;\r\n                to = start;\r\n            }\r\n            for (var i = from; i <= to.value; i += stepValue) {\r\n                list.push(new Dimension(i, to.unit));\r\n            }\r\n            return new Expression(list);\r\n        },\r\n        each: function (list, rs) {\r\n            var _this = this;\r\n            var rules = [];\r\n            var newRules;\r\n            var iterator;\r\n            var tryEval = function (val) {\r\n                if (val instanceof Node) {\r\n                    return val.eval(_this.context);\r\n                }\r\n                return val;\r\n            };\r\n            if (list.value && !(list instanceof Quoted)) {\r\n                if (Array.isArray(list.value)) {\r\n                    iterator = list.value.map(tryEval);\r\n                }\r\n                else {\r\n                    iterator = [tryEval(list.value)];\r\n                }\r\n            }\r\n            else if (list.ruleset) {\r\n                iterator = tryEval(list.ruleset).rules;\r\n            }\r\n            else if (list.rules) {\r\n                iterator = list.rules.map(tryEval);\r\n            }\r\n            else if (Array.isArray(list)) {\r\n                iterator = list.map(tryEval);\r\n            }\r\n            else {\r\n                iterator = [tryEval(list)];\r\n            }\r\n            var valueName = '@value';\r\n            var keyName = '@key';\r\n            var indexName = '@index';\r\n            if (rs.params) {\r\n                valueName = rs.params[0] && rs.params[0].name;\r\n                keyName = rs.params[1] && rs.params[1].name;\r\n                indexName = rs.params[2] && rs.params[2].name;\r\n                rs = rs.rules;\r\n            }\r\n            else {\r\n                rs = rs.ruleset;\r\n            }\r\n            for (var i = 0; i < iterator.length; i++) {\r\n                var key = void 0;\r\n                var value = void 0;\r\n                var item = iterator[i];\r\n                if (item instanceof Declaration) {\r\n                    key = typeof item.name === 'string' ? item.name : item.name[0].value;\r\n                    value = item.value;\r\n                }\r\n                else {\r\n                    key = new Dimension(i + 1);\r\n                    value = item;\r\n                }\r\n                if (item instanceof Comment) {\r\n                    continue;\r\n                }\r\n                newRules = rs.rules.slice(0);\r\n                if (valueName) {\r\n                    newRules.push(new Declaration(valueName, value, false, false, this.index, this.currentFileInfo));\r\n                }\r\n                if (indexName) {\r\n                    newRules.push(new Declaration(indexName, new Dimension(i + 1), false, false, this.index, this.currentFileInfo));\r\n                }\r\n                if (keyName) {\r\n                    newRules.push(new Declaration(keyName, key, false, false, this.index, this.currentFileInfo));\r\n                }\r\n                rules.push(new Ruleset([new (Selector)([new Element(\"\", '&')])], newRules, rs.strictImports, rs.visibilityInfo()));\r\n            }\r\n            return new Ruleset([new (Selector)([new Element(\"\", '&')])], rules, rs.strictImports, rs.visibilityInfo()).eval(this.context);\r\n        }\r\n    };\n\n    var MathHelper = function (fn, unit, n) {\r\n        if (!(n instanceof Dimension)) {\r\n            throw { type: 'Argument', message: 'argument must be a number' };\r\n        }\r\n        if (unit == null) {\r\n            unit = n.unit;\r\n        }\r\n        else {\r\n            n = n.unify();\r\n        }\r\n        return new Dimension(fn(parseFloat(n.value)), unit);\r\n    };\n\n    var mathFunctions = {\r\n        // name,  unit\r\n        ceil: null,\r\n        floor: null,\r\n        sqrt: null,\r\n        abs: null,\r\n        tan: '',\r\n        sin: '',\r\n        cos: '',\r\n        atan: 'rad',\r\n        asin: 'rad',\r\n        acos: 'rad'\r\n    };\r\n    for (var f in mathFunctions) {\r\n        if (mathFunctions.hasOwnProperty(f)) {\r\n            mathFunctions[f] = MathHelper.bind(null, Math[f], mathFunctions[f]);\r\n        }\r\n    }\r\n    mathFunctions.round = function (n, f) {\r\n        var fraction = typeof f === 'undefined' ? 0 : f.value;\r\n        return MathHelper(function (num) { return num.toFixed(fraction); }, null, n);\r\n    };\n\n    var minMax = function (isMin, args) {\r\n        args = Array.prototype.slice.call(args);\r\n        switch (args.length) {\r\n            case 0: throw { type: 'Argument', message: 'one or more arguments required' };\r\n        }\r\n        var i; // key is the unit.toString() for unified Dimension values,\r\n        var j;\r\n        var current;\r\n        var currentUnified;\r\n        var referenceUnified;\r\n        var unit;\r\n        var unitStatic;\r\n        var unitClone;\r\n        var // elems only contains original argument values.\r\n        order = [];\r\n        var values = {};\r\n        // value is the index into the order array.\r\n        for (i = 0; i < args.length; i++) {\r\n            current = args[i];\r\n            if (!(current instanceof Dimension)) {\r\n                if (Array.isArray(args[i].value)) {\r\n                    Array.prototype.push.apply(args, Array.prototype.slice.call(args[i].value));\r\n                }\r\n                continue;\r\n            }\r\n            currentUnified = current.unit.toString() === '' && unitClone !== undefined ? new Dimension(current.value, unitClone).unify() : current.unify();\r\n            unit = currentUnified.unit.toString() === '' && unitStatic !== undefined ? unitStatic : currentUnified.unit.toString();\r\n            unitStatic = unit !== '' && unitStatic === undefined || unit !== '' && order[0].unify().unit.toString() === '' ? unit : unitStatic;\r\n            unitClone = unit !== '' && unitClone === undefined ? current.unit.toString() : unitClone;\r\n            j = values[''] !== undefined && unit !== '' && unit === unitStatic ? values[''] : values[unit];\r\n            if (j === undefined) {\r\n                if (unitStatic !== undefined && unit !== unitStatic) {\r\n                    throw { type: 'Argument', message: 'incompatible types' };\r\n                }\r\n                values[unit] = order.length;\r\n                order.push(current);\r\n                continue;\r\n            }\r\n            referenceUnified = order[j].unit.toString() === '' && unitClone !== undefined ? new Dimension(order[j].value, unitClone).unify() : order[j].unify();\r\n            if (isMin && currentUnified.value < referenceUnified.value ||\r\n                !isMin && currentUnified.value > referenceUnified.value) {\r\n                order[j] = current;\r\n            }\r\n        }\r\n        if (order.length == 1) {\r\n            return order[0];\r\n        }\r\n        args = order.map(function (a) { return a.toCSS(this.context); }).join(this.context.compress ? ',' : ', ');\r\n        return new Anonymous((isMin ? 'min' : 'max') + \"(\" + args + \")\");\r\n    };\r\n    var number = {\r\n        min: function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            try {\r\n                return minMax(true, args);\r\n            }\r\n            catch (e) { }\r\n        },\r\n        max: function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            try {\r\n                return minMax(false, args);\r\n            }\r\n            catch (e) { }\r\n        },\r\n        convert: function (val, unit) {\r\n            return val.convertTo(unit.value);\r\n        },\r\n        pi: function () {\r\n            return new Dimension(Math.PI);\r\n        },\r\n        mod: function (a, b) {\r\n            return new Dimension(a.value % b.value, a.unit);\r\n        },\r\n        pow: function (x, y) {\r\n            if (typeof x === 'number' && typeof y === 'number') {\r\n                x = new Dimension(x);\r\n                y = new Dimension(y);\r\n            }\r\n            else if (!(x instanceof Dimension) || !(y instanceof Dimension)) {\r\n                throw { type: 'Argument', message: 'arguments must be numbers' };\r\n            }\r\n            return new Dimension(Math.pow(x.value, y.value), x.unit);\r\n        },\r\n        percentage: function (n) {\r\n            var result = MathHelper(function (num) { return num * 100; }, '%', n);\r\n            return result;\r\n        }\r\n    };\n\n    var string = {\r\n        e: function (str) {\r\n            return new Quoted('\"', str instanceof JavaScript ? str.evaluated : str.value, true);\r\n        },\r\n        escape: function (str) {\r\n            return new Anonymous(encodeURI(str.value).replace(/=/g, '%3D').replace(/:/g, '%3A').replace(/#/g, '%23').replace(/;/g, '%3B')\r\n                .replace(/\\(/g, '%28').replace(/\\)/g, '%29'));\r\n        },\r\n        replace: function (string, pattern, replacement, flags) {\r\n            var result = string.value;\r\n            replacement = (replacement.type === 'Quoted') ?\r\n                replacement.value : replacement.toCSS();\r\n            result = result.replace(new RegExp(pattern.value, flags ? flags.value : ''), replacement);\r\n            return new Quoted(string.quote || '', result, string.escaped);\r\n        },\r\n        '%': function (string /* arg, arg, ... */) {\r\n            var args = Array.prototype.slice.call(arguments, 1);\r\n            var result = string.value;\r\n            var _loop_1 = function (i) {\r\n                /* jshint loopfunc:true */\r\n                result = result.replace(/%[sda]/i, function (token) {\r\n                    var value = ((args[i].type === 'Quoted') &&\r\n                        token.match(/s/i)) ? args[i].value : args[i].toCSS();\r\n                    return token.match(/[A-Z]$/) ? encodeURIComponent(value) : value;\r\n                });\r\n            };\r\n            for (var i = 0; i < args.length; i++) {\r\n                _loop_1(i);\r\n            }\r\n            result = result.replace(/%%/g, '%');\r\n            return new Quoted(string.quote || '', result, string.escaped);\r\n        }\r\n    };\n\n    var svg = (function (environment) {\r\n        return { 'svg-gradient': function (direction) {\r\n                var stops;\r\n                var gradientDirectionSvg;\r\n                var gradientType = 'linear';\r\n                var rectangleDimension = 'x=\"0\" y=\"0\" width=\"1\" height=\"1\"';\r\n                var renderEnv = { compress: false };\r\n                var returner;\r\n                var directionValue = direction.toCSS(renderEnv);\r\n                var i;\r\n                var color;\r\n                var position;\r\n                var positionValue;\r\n                var alpha;\r\n                function throwArgumentDescriptor() {\r\n                    throw { type: 'Argument',\r\n                        message: 'svg-gradient expects direction, start_color [start_position], [color position,]...,' +\r\n                            ' end_color [end_position] or direction, color list' };\r\n                }\r\n                if (arguments.length == 2) {\r\n                    if (arguments[1].value.length < 2) {\r\n                        throwArgumentDescriptor();\r\n                    }\r\n                    stops = arguments[1].value;\r\n                }\r\n                else if (arguments.length < 3) {\r\n                    throwArgumentDescriptor();\r\n                }\r\n                else {\r\n                    stops = Array.prototype.slice.call(arguments, 1);\r\n                }\r\n                switch (directionValue) {\r\n                    case 'to bottom':\r\n                        gradientDirectionSvg = 'x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\"';\r\n                        break;\r\n                    case 'to right':\r\n                        gradientDirectionSvg = 'x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\"';\r\n                        break;\r\n                    case 'to bottom right':\r\n                        gradientDirectionSvg = 'x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\"';\r\n                        break;\r\n                    case 'to top right':\r\n                        gradientDirectionSvg = 'x1=\"0%\" y1=\"100%\" x2=\"100%\" y2=\"0%\"';\r\n                        break;\r\n                    case 'ellipse':\r\n                    case 'ellipse at center':\r\n                        gradientType = 'radial';\r\n                        gradientDirectionSvg = 'cx=\"50%\" cy=\"50%\" r=\"75%\"';\r\n                        rectangleDimension = 'x=\"-50\" y=\"-50\" width=\"101\" height=\"101\"';\r\n                        break;\r\n                    default:\r\n                        throw { type: 'Argument', message: 'svg-gradient direction must be \\'to bottom\\', \\'to right\\',' +\r\n                                ' \\'to bottom right\\', \\'to top right\\' or \\'ellipse at center\\'' };\r\n                }\r\n                returner = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 1 1\\\"><\" + gradientType + \"Gradient id=\\\"g\\\" \" + gradientDirectionSvg + \">\";\r\n                for (i = 0; i < stops.length; i += 1) {\r\n                    if (stops[i] instanceof Expression) {\r\n                        color = stops[i].value[0];\r\n                        position = stops[i].value[1];\r\n                    }\r\n                    else {\r\n                        color = stops[i];\r\n                        position = undefined;\r\n                    }\r\n                    if (!(color instanceof Color) || (!((i === 0 || i + 1 === stops.length) && position === undefined) && !(position instanceof Dimension))) {\r\n                        throwArgumentDescriptor();\r\n                    }\r\n                    positionValue = position ? position.toCSS(renderEnv) : i === 0 ? '0%' : '100%';\r\n                    alpha = color.alpha;\r\n                    returner += \"<stop offset=\\\"\" + positionValue + \"\\\" stop-color=\\\"\" + color.toRGB() + \"\\\"\" + (alpha < 1 ? \" stop-opacity=\\\"\" + alpha + \"\\\"\" : '') + \"/>\";\r\n                }\r\n                returner += \"</\" + gradientType + \"Gradient><rect \" + rectangleDimension + \" fill=\\\"url(#g)\\\" /></svg>\";\r\n                returner = encodeURIComponent(returner);\r\n                returner = \"data:image/svg+xml,\" + returner;\r\n                return new URL(new Quoted(\"'\" + returner + \"'\", returner, false, this.index, this.currentFileInfo), this.index, this.currentFileInfo);\r\n            } };\r\n    });\n\n    var isa = function (n, Type) { return (n instanceof Type) ? Keyword.True : Keyword.False; };\r\n    var isunit = function (n, unit) {\r\n        if (unit === undefined) {\r\n            throw { type: 'Argument', message: 'missing the required second argument to isunit.' };\r\n        }\r\n        unit = typeof unit.value === 'string' ? unit.value : unit;\r\n        if (typeof unit !== 'string') {\r\n            throw { type: 'Argument', message: 'Second argument to isunit should be a unit or a string.' };\r\n        }\r\n        return (n instanceof Dimension) && n.unit.is(unit) ? Keyword.True : Keyword.False;\r\n    };\r\n    var types = {\r\n        isruleset: function (n) {\r\n            return isa(n, DetachedRuleset);\r\n        },\r\n        iscolor: function (n) {\r\n            return isa(n, Color);\r\n        },\r\n        isnumber: function (n) {\r\n            return isa(n, Dimension);\r\n        },\r\n        isstring: function (n) {\r\n            return isa(n, Quoted);\r\n        },\r\n        iskeyword: function (n) {\r\n            return isa(n, Keyword);\r\n        },\r\n        isurl: function (n) {\r\n            return isa(n, URL);\r\n        },\r\n        ispixel: function (n) {\r\n            return isunit(n, 'px');\r\n        },\r\n        ispercentage: function (n) {\r\n            return isunit(n, '%');\r\n        },\r\n        isem: function (n) {\r\n            return isunit(n, 'em');\r\n        },\r\n        isunit: isunit,\r\n        unit: function (val, unit) {\r\n            if (!(val instanceof Dimension)) {\r\n                throw { type: 'Argument',\r\n                    message: \"the first argument to unit must be a number\" + (val instanceof Operation ? '. Have you forgotten parenthesis?' : '') };\r\n            }\r\n            if (unit) {\r\n                if (unit instanceof Keyword) {\r\n                    unit = unit.value;\r\n                }\r\n                else {\r\n                    unit = unit.toCSS();\r\n                }\r\n            }\r\n            else {\r\n                unit = '';\r\n            }\r\n            return new Dimension(val.value, unit);\r\n        },\r\n        'get-unit': function (n) {\r\n            return new Anonymous(n.unit);\r\n        }\r\n    };\n\n    var functions = (function (environment) {\r\n        var functions = { functionRegistry: functionRegistry, functionCaller: functionCaller };\r\n        // register functions\r\n        functionRegistry.addMultiple(boolean$1);\r\n        functionRegistry.add('default', defaultFunc.eval.bind(defaultFunc));\r\n        functionRegistry.addMultiple(color);\r\n        functionRegistry.addMultiple(colorBlend);\r\n        functionRegistry.addMultiple(dataUri(environment));\r\n        functionRegistry.addMultiple(list);\r\n        functionRegistry.addMultiple(mathFunctions);\r\n        functionRegistry.addMultiple(number);\r\n        functionRegistry.addMultiple(string);\r\n        functionRegistry.addMultiple(svg());\r\n        functionRegistry.addMultiple(types);\r\n        return functions;\r\n    });\n\n    function transformTree (root, options) {\r\n        options = options || {};\r\n        var evaldRoot;\r\n        var variables = options.variables;\r\n        var evalEnv = new contexts.Eval(options);\r\n        //\r\n        // Allows setting variables with a hash, so:\r\n        //\r\n        //   `{ color: new tree.Color('#f01') }` will become:\r\n        //\r\n        //   new tree.Declaration('@color',\r\n        //     new tree.Value([\r\n        //       new tree.Expression([\r\n        //         new tree.Color('#f01')\r\n        //       ])\r\n        //     ])\r\n        //   )\r\n        //\r\n        if (typeof variables === 'object' && !Array.isArray(variables)) {\r\n            variables = Object.keys(variables).map(function (k) {\r\n                var value = variables[k];\r\n                if (!(value instanceof tree.Value)) {\r\n                    if (!(value instanceof tree.Expression)) {\r\n                        value = new tree.Expression([value]);\r\n                    }\r\n                    value = new tree.Value([value]);\r\n                }\r\n                return new tree.Declaration(\"@\" + k, value, false, null, 0);\r\n            });\r\n            evalEnv.frames = [new tree.Ruleset(null, variables)];\r\n        }\r\n        var visitors$1 = [\r\n            new visitors.JoinSelectorVisitor(),\r\n            new visitors.MarkVisibleSelectorsVisitor(true),\r\n            new visitors.ExtendVisitor(),\r\n            new visitors.ToCSSVisitor({ compress: Boolean(options.compress) })\r\n        ];\r\n        var preEvalVisitors = [];\r\n        var v;\r\n        var visitorIterator;\r\n        /**\r\n         * first() / get() allows visitors to be added while visiting\r\n         *\r\n         * @todo Add scoping for visitors just like functions for @plugin; right now they're global\r\n         */\r\n        if (options.pluginManager) {\r\n            visitorIterator = options.pluginManager.visitor();\r\n            for (var i = 0; i < 2; i++) {\r\n                visitorIterator.first();\r\n                while ((v = visitorIterator.get())) {\r\n                    if (v.isPreEvalVisitor) {\r\n                        if (i === 0 || preEvalVisitors.indexOf(v) === -1) {\r\n                            preEvalVisitors.push(v);\r\n                            v.run(root);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (i === 0 || visitors$1.indexOf(v) === -1) {\r\n                            if (v.isPreVisitor) {\r\n                                visitors$1.unshift(v);\r\n                            }\r\n                            else {\r\n                                visitors$1.push(v);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        evaldRoot = root.eval(evalEnv);\r\n        for (var i = 0; i < visitors$1.length; i++) {\r\n            visitors$1[i].run(evaldRoot);\r\n        }\r\n        // Run any remaining visitors added after eval pass\r\n        if (options.pluginManager) {\r\n            visitorIterator.first();\r\n            while ((v = visitorIterator.get())) {\r\n                if (visitors$1.indexOf(v) === -1 && preEvalVisitors.indexOf(v) === -1) {\r\n                    v.run(evaldRoot);\r\n                }\r\n            }\r\n        }\r\n        return evaldRoot;\r\n    }\n\n    /**\r\n     * Plugin Manager\r\n     */\r\n    var PluginManager = /** @class */ (function () {\r\n        function PluginManager(less) {\r\n            this.less = less;\r\n            this.visitors = [];\r\n            this.preProcessors = [];\r\n            this.postProcessors = [];\r\n            this.installedPlugins = [];\r\n            this.fileManagers = [];\r\n            this.iterator = -1;\r\n            this.pluginCache = {};\r\n            this.Loader = new less.PluginLoader(less);\r\n        }\r\n        /**\r\n         * Adds all the plugins in the array\r\n         * @param {Array} plugins\r\n         */\r\n        PluginManager.prototype.addPlugins = function (plugins) {\r\n            if (plugins) {\r\n                for (var i = 0; i < plugins.length; i++) {\r\n                    this.addPlugin(plugins[i]);\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         *\r\n         * @param plugin\r\n         * @param {String} filename\r\n         */\r\n        PluginManager.prototype.addPlugin = function (plugin, filename, functionRegistry) {\r\n            this.installedPlugins.push(plugin);\r\n            if (filename) {\r\n                this.pluginCache[filename] = plugin;\r\n            }\r\n            if (plugin.install) {\r\n                plugin.install(this.less, this, functionRegistry || this.less.functions.functionRegistry);\r\n            }\r\n        };\r\n        /**\r\n         *\r\n         * @param filename\r\n         */\r\n        PluginManager.prototype.get = function (filename) {\r\n            return this.pluginCache[filename];\r\n        };\r\n        /**\r\n         * Adds a visitor. The visitor object has options on itself to determine\r\n         * when it should run.\r\n         * @param visitor\r\n         */\r\n        PluginManager.prototype.addVisitor = function (visitor) {\r\n            this.visitors.push(visitor);\r\n        };\r\n        /**\r\n         * Adds a pre processor object\r\n         * @param {object} preProcessor\r\n         * @param {number} priority - guidelines 1 = before import, 1000 = import, 2000 = after import\r\n         */\r\n        PluginManager.prototype.addPreProcessor = function (preProcessor, priority) {\r\n            var indexToInsertAt;\r\n            for (indexToInsertAt = 0; indexToInsertAt < this.preProcessors.length; indexToInsertAt++) {\r\n                if (this.preProcessors[indexToInsertAt].priority >= priority) {\r\n                    break;\r\n                }\r\n            }\r\n            this.preProcessors.splice(indexToInsertAt, 0, { preProcessor: preProcessor, priority: priority });\r\n        };\r\n        /**\r\n         * Adds a post processor object\r\n         * @param {object} postProcessor\r\n         * @param {number} priority - guidelines 1 = before compression, 1000 = compression, 2000 = after compression\r\n         */\r\n        PluginManager.prototype.addPostProcessor = function (postProcessor, priority) {\r\n            var indexToInsertAt;\r\n            for (indexToInsertAt = 0; indexToInsertAt < this.postProcessors.length; indexToInsertAt++) {\r\n                if (this.postProcessors[indexToInsertAt].priority >= priority) {\r\n                    break;\r\n                }\r\n            }\r\n            this.postProcessors.splice(indexToInsertAt, 0, { postProcessor: postProcessor, priority: priority });\r\n        };\r\n        /**\r\n         *\r\n         * @param manager\r\n         */\r\n        PluginManager.prototype.addFileManager = function (manager) {\r\n            this.fileManagers.push(manager);\r\n        };\r\n        /**\r\n         *\r\n         * @returns {Array}\r\n         * @private\r\n         */\r\n        PluginManager.prototype.getPreProcessors = function () {\r\n            var preProcessors = [];\r\n            for (var i = 0; i < this.preProcessors.length; i++) {\r\n                preProcessors.push(this.preProcessors[i].preProcessor);\r\n            }\r\n            return preProcessors;\r\n        };\r\n        /**\r\n         *\r\n         * @returns {Array}\r\n         * @private\r\n         */\r\n        PluginManager.prototype.getPostProcessors = function () {\r\n            var postProcessors = [];\r\n            for (var i = 0; i < this.postProcessors.length; i++) {\r\n                postProcessors.push(this.postProcessors[i].postProcessor);\r\n            }\r\n            return postProcessors;\r\n        };\r\n        /**\r\n         *\r\n         * @returns {Array}\r\n         * @private\r\n         */\r\n        PluginManager.prototype.getVisitors = function () {\r\n            return this.visitors;\r\n        };\r\n        PluginManager.prototype.visitor = function () {\r\n            var self = this;\r\n            return {\r\n                first: function () {\r\n                    self.iterator = -1;\r\n                    return self.visitors[self.iterator];\r\n                },\r\n                get: function () {\r\n                    self.iterator += 1;\r\n                    return self.visitors[self.iterator];\r\n                }\r\n            };\r\n        };\r\n        /**\r\n         *\r\n         * @returns {Array}\r\n         * @private\r\n         */\r\n        PluginManager.prototype.getFileManagers = function () {\r\n            return this.fileManagers;\r\n        };\r\n        return PluginManager;\r\n    }());\r\n    var pm;\r\n    var PluginManagerFactory = function (less, newFactory) {\r\n        if (newFactory || !pm) {\r\n            pm = new PluginManager(less);\r\n        }\r\n        return pm;\r\n    };\n\n    function SourceMapOutput (environment) {\r\n        var SourceMapOutput = /** @class */ (function () {\r\n            function SourceMapOutput(options) {\r\n                this._css = [];\r\n                this._rootNode = options.rootNode;\r\n                this._contentsMap = options.contentsMap;\r\n                this._contentsIgnoredCharsMap = options.contentsIgnoredCharsMap;\r\n                if (options.sourceMapFilename) {\r\n                    this._sourceMapFilename = options.sourceMapFilename.replace(/\\\\/g, '/');\r\n                }\r\n                this._outputFilename = options.outputFilename;\r\n                this.sourceMapURL = options.sourceMapURL;\r\n                if (options.sourceMapBasepath) {\r\n                    this._sourceMapBasepath = options.sourceMapBasepath.replace(/\\\\/g, '/');\r\n                }\r\n                if (options.sourceMapRootpath) {\r\n                    this._sourceMapRootpath = options.sourceMapRootpath.replace(/\\\\/g, '/');\r\n                    if (this._sourceMapRootpath.charAt(this._sourceMapRootpath.length - 1) !== '/') {\r\n                        this._sourceMapRootpath += '/';\r\n                    }\r\n                }\r\n                else {\r\n                    this._sourceMapRootpath = '';\r\n                }\r\n                this._outputSourceFiles = options.outputSourceFiles;\r\n                this._sourceMapGeneratorConstructor = environment.getSourceMapGenerator();\r\n                this._lineNumber = 0;\r\n                this._column = 0;\r\n            }\r\n            SourceMapOutput.prototype.removeBasepath = function (path) {\r\n                if (this._sourceMapBasepath && path.indexOf(this._sourceMapBasepath) === 0) {\r\n                    path = path.substring(this._sourceMapBasepath.length);\r\n                    if (path.charAt(0) === '\\\\' || path.charAt(0) === '/') {\r\n                        path = path.substring(1);\r\n                    }\r\n                }\r\n                return path;\r\n            };\r\n            SourceMapOutput.prototype.normalizeFilename = function (filename) {\r\n                filename = filename.replace(/\\\\/g, '/');\r\n                filename = this.removeBasepath(filename);\r\n                return (this._sourceMapRootpath || '') + filename;\r\n            };\r\n            SourceMapOutput.prototype.add = function (chunk, fileInfo, index, mapLines) {\r\n                // ignore adding empty strings\r\n                if (!chunk) {\r\n                    return;\r\n                }\r\n                var lines, sourceLines, columns, sourceColumns, i;\r\n                if (fileInfo && fileInfo.filename) {\r\n                    var inputSource = this._contentsMap[fileInfo.filename];\r\n                    // remove vars/banner added to the top of the file\r\n                    if (this._contentsIgnoredCharsMap[fileInfo.filename]) {\r\n                        // adjust the index\r\n                        index -= this._contentsIgnoredCharsMap[fileInfo.filename];\r\n                        if (index < 0) {\r\n                            index = 0;\r\n                        }\r\n                        // adjust the source\r\n                        inputSource = inputSource.slice(this._contentsIgnoredCharsMap[fileInfo.filename]);\r\n                    }\r\n                    /**\r\n                     * ignore empty content, or failsafe\r\n                     * if contents map is incorrect\r\n                     */\r\n                    if (inputSource === undefined) {\r\n                        this._css.push(chunk);\r\n                        return;\r\n                    }\r\n                    inputSource = inputSource.substring(0, index);\r\n                    sourceLines = inputSource.split('\\n');\r\n                    sourceColumns = sourceLines[sourceLines.length - 1];\r\n                }\r\n                lines = chunk.split('\\n');\r\n                columns = lines[lines.length - 1];\r\n                if (fileInfo && fileInfo.filename) {\r\n                    if (!mapLines) {\r\n                        this._sourceMapGenerator.addMapping({ generated: { line: this._lineNumber + 1, column: this._column },\r\n                            original: { line: sourceLines.length, column: sourceColumns.length },\r\n                            source: this.normalizeFilename(fileInfo.filename) });\r\n                    }\r\n                    else {\r\n                        for (i = 0; i < lines.length; i++) {\r\n                            this._sourceMapGenerator.addMapping({ generated: { line: this._lineNumber + i + 1, column: i === 0 ? this._column : 0 },\r\n                                original: { line: sourceLines.length + i, column: i === 0 ? sourceColumns.length : 0 },\r\n                                source: this.normalizeFilename(fileInfo.filename) });\r\n                        }\r\n                    }\r\n                }\r\n                if (lines.length === 1) {\r\n                    this._column += columns.length;\r\n                }\r\n                else {\r\n                    this._lineNumber += lines.length - 1;\r\n                    this._column = columns.length;\r\n                }\r\n                this._css.push(chunk);\r\n            };\r\n            SourceMapOutput.prototype.isEmpty = function () {\r\n                return this._css.length === 0;\r\n            };\r\n            SourceMapOutput.prototype.toCSS = function (context) {\r\n                this._sourceMapGenerator = new this._sourceMapGeneratorConstructor({ file: this._outputFilename, sourceRoot: null });\r\n                if (this._outputSourceFiles) {\r\n                    for (var filename in this._contentsMap) {\r\n                        if (this._contentsMap.hasOwnProperty(filename)) {\r\n                            var source = this._contentsMap[filename];\r\n                            if (this._contentsIgnoredCharsMap[filename]) {\r\n                                source = source.slice(this._contentsIgnoredCharsMap[filename]);\r\n                            }\r\n                            this._sourceMapGenerator.setSourceContent(this.normalizeFilename(filename), source);\r\n                        }\r\n                    }\r\n                }\r\n                this._rootNode.genCSS(context, this);\r\n                if (this._css.length > 0) {\r\n                    var sourceMapURL = void 0;\r\n                    var sourceMapContent = JSON.stringify(this._sourceMapGenerator.toJSON());\r\n                    if (this.sourceMapURL) {\r\n                        sourceMapURL = this.sourceMapURL;\r\n                    }\r\n                    else if (this._sourceMapFilename) {\r\n                        sourceMapURL = this._sourceMapFilename;\r\n                    }\r\n                    this.sourceMapURL = sourceMapURL;\r\n                    this.sourceMap = sourceMapContent;\r\n                }\r\n                return this._css.join('');\r\n            };\r\n            return SourceMapOutput;\r\n        }());\r\n        return SourceMapOutput;\r\n    }\n\n    function SourceMapBuilder (SourceMapOutput, environment) {\r\n        var SourceMapBuilder = /** @class */ (function () {\r\n            function SourceMapBuilder(options) {\r\n                this.options = options;\r\n            }\r\n            SourceMapBuilder.prototype.toCSS = function (rootNode, options, imports) {\r\n                var sourceMapOutput = new SourceMapOutput({\r\n                    contentsIgnoredCharsMap: imports.contentsIgnoredChars,\r\n                    rootNode: rootNode,\r\n                    contentsMap: imports.contents,\r\n                    sourceMapFilename: this.options.sourceMapFilename,\r\n                    sourceMapURL: this.options.sourceMapURL,\r\n                    outputFilename: this.options.sourceMapOutputFilename,\r\n                    sourceMapBasepath: this.options.sourceMapBasepath,\r\n                    sourceMapRootpath: this.options.sourceMapRootpath,\r\n                    outputSourceFiles: this.options.outputSourceFiles,\r\n                    sourceMapGenerator: this.options.sourceMapGenerator,\r\n                    sourceMapFileInline: this.options.sourceMapFileInline,\r\n                    disableSourcemapAnnotation: this.options.disableSourcemapAnnotation\r\n                });\r\n                var css = sourceMapOutput.toCSS(options);\r\n                this.sourceMap = sourceMapOutput.sourceMap;\r\n                this.sourceMapURL = sourceMapOutput.sourceMapURL;\r\n                if (this.options.sourceMapInputFilename) {\r\n                    this.sourceMapInputFilename = sourceMapOutput.normalizeFilename(this.options.sourceMapInputFilename);\r\n                }\r\n                if (this.options.sourceMapBasepath !== undefined && this.sourceMapURL !== undefined) {\r\n                    this.sourceMapURL = sourceMapOutput.removeBasepath(this.sourceMapURL);\r\n                }\r\n                return css + this.getCSSAppendage();\r\n            };\r\n            SourceMapBuilder.prototype.getCSSAppendage = function () {\r\n                var sourceMapURL = this.sourceMapURL;\r\n                if (this.options.sourceMapFileInline) {\r\n                    if (this.sourceMap === undefined) {\r\n                        return '';\r\n                    }\r\n                    sourceMapURL = \"data:application/json;base64,\" + environment.encodeBase64(this.sourceMap);\r\n                }\r\n                if (this.options.disableSourcemapAnnotation) {\r\n                    return '';\r\n                }\r\n                if (sourceMapURL) {\r\n                    return \"/*# sourceMappingURL=\" + sourceMapURL + \" */\";\r\n                }\r\n                return '';\r\n            };\r\n            SourceMapBuilder.prototype.getExternalSourceMap = function () {\r\n                return this.sourceMap;\r\n            };\r\n            SourceMapBuilder.prototype.setExternalSourceMap = function (sourceMap) {\r\n                this.sourceMap = sourceMap;\r\n            };\r\n            SourceMapBuilder.prototype.isInline = function () {\r\n                return this.options.sourceMapFileInline;\r\n            };\r\n            SourceMapBuilder.prototype.getSourceMapURL = function () {\r\n                return this.sourceMapURL;\r\n            };\r\n            SourceMapBuilder.prototype.getOutputFilename = function () {\r\n                return this.options.sourceMapOutputFilename;\r\n            };\r\n            SourceMapBuilder.prototype.getInputFilename = function () {\r\n                return this.sourceMapInputFilename;\r\n            };\r\n            return SourceMapBuilder;\r\n        }());\r\n        return SourceMapBuilder;\r\n    }\n\n    function ParseTree (SourceMapBuilder) {\r\n        var ParseTree = /** @class */ (function () {\r\n            function ParseTree(root, imports) {\r\n                this.root = root;\r\n                this.imports = imports;\r\n            }\r\n            ParseTree.prototype.toCSS = function (options) {\r\n                var evaldRoot;\r\n                var result = {};\r\n                var sourceMapBuilder;\r\n                try {\r\n                    evaldRoot = transformTree(this.root, options);\r\n                }\r\n                catch (e) {\r\n                    throw new LessError(e, this.imports);\r\n                }\r\n                try {\r\n                    var compress = Boolean(options.compress);\r\n                    if (compress) {\r\n                        logger$1.warn('The compress option has been deprecated. ' +\r\n                            'We recommend you use a dedicated css minifier, for instance see less-plugin-clean-css.');\r\n                    }\r\n                    var toCSSOptions = {\r\n                        compress: compress,\r\n                        dumpLineNumbers: options.dumpLineNumbers,\r\n                        strictUnits: Boolean(options.strictUnits),\r\n                        numPrecision: 8\r\n                    };\r\n                    if (options.sourceMap) {\r\n                        sourceMapBuilder = new SourceMapBuilder(options.sourceMap);\r\n                        result.css = sourceMapBuilder.toCSS(evaldRoot, toCSSOptions, this.imports);\r\n                    }\r\n                    else {\r\n                        result.css = evaldRoot.toCSS(toCSSOptions);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    throw new LessError(e, this.imports);\r\n                }\r\n                if (options.pluginManager) {\r\n                    var postProcessors = options.pluginManager.getPostProcessors();\r\n                    for (var i = 0; i < postProcessors.length; i++) {\r\n                        result.css = postProcessors[i].process(result.css, { sourceMap: sourceMapBuilder, options: options, imports: this.imports });\r\n                    }\r\n                }\r\n                if (options.sourceMap) {\r\n                    result.map = sourceMapBuilder.getExternalSourceMap();\r\n                }\r\n                result.imports = [];\r\n                for (var file in this.imports.files) {\r\n                    if (this.imports.files.hasOwnProperty(file) && file !== this.imports.rootFilename) {\r\n                        result.imports.push(file);\r\n                    }\r\n                }\r\n                return result;\r\n            };\r\n            return ParseTree;\r\n        }());\r\n        return ParseTree;\r\n    }\n\n    function ImportManager (environment) {\r\n        // FileInfo = {\r\n        //  'rewriteUrls' - option - whether to adjust URL's to be relative\r\n        //  'filename' - full resolved filename of current file\r\n        //  'rootpath' - path to append to normal URLs for this node\r\n        //  'currentDirectory' - path to the current file, absolute\r\n        //  'rootFilename' - filename of the base file\r\n        //  'entryPath' - absolute path to the entry file\r\n        //  'reference' - whether the file should not be output and only output parts that are referenced\r\n        var ImportManager = /** @class */ (function () {\r\n            function ImportManager(less, context, rootFileInfo) {\r\n                this.less = less;\r\n                this.rootFilename = rootFileInfo.filename;\r\n                this.paths = context.paths || []; // Search paths, when importing\r\n                this.contents = {}; // map - filename to contents of all the files\r\n                this.contentsIgnoredChars = {}; // map - filename to lines at the beginning of each file to ignore\r\n                this.mime = context.mime;\r\n                this.error = null;\r\n                this.context = context;\r\n                // Deprecated? Unused outside of here, could be useful.\r\n                this.queue = []; // Files which haven't been imported yet\r\n                this.files = {}; // Holds the imported parse trees.\r\n            }\r\n            /**\r\n             * Add an import to be imported\r\n             * @param path - the raw path\r\n             * @param tryAppendExtension - whether to try appending a file extension (.less or .js if the path has no extension)\r\n             * @param currentFileInfo - the current file info (used for instance to work out relative paths)\r\n             * @param importOptions - import options\r\n             * @param callback - callback for when it is imported\r\n             */\r\n            ImportManager.prototype.push = function (path, tryAppendExtension, currentFileInfo, importOptions, callback) {\r\n                var importManager = this, pluginLoader = this.context.pluginManager.Loader;\r\n                this.queue.push(path);\r\n                var fileParsedFunc = function (e, root, fullPath) {\r\n                    importManager.queue.splice(importManager.queue.indexOf(path), 1); // Remove the path from the queue\r\n                    var importedEqualsRoot = fullPath === importManager.rootFilename;\r\n                    if (importOptions.optional && e) {\r\n                        callback(null, { rules: [] }, false, null);\r\n                        logger$1.info(\"The file \" + fullPath + \" was skipped because it was not found and the import was marked optional.\");\r\n                    }\r\n                    else {\r\n                        // Inline imports aren't cached here.\r\n                        // If we start to cache them, please make sure they won't conflict with non-inline imports of the\r\n                        // same name as they used to do before this comment and the condition below have been added.\r\n                        if (!importManager.files[fullPath] && !importOptions.inline) {\r\n                            importManager.files[fullPath] = { root: root, options: importOptions };\r\n                        }\r\n                        if (e && !importManager.error) {\r\n                            importManager.error = e;\r\n                        }\r\n                        callback(e, root, importedEqualsRoot, fullPath);\r\n                    }\r\n                };\r\n                var newFileInfo = {\r\n                    rewriteUrls: this.context.rewriteUrls,\r\n                    entryPath: currentFileInfo.entryPath,\r\n                    rootpath: currentFileInfo.rootpath,\r\n                    rootFilename: currentFileInfo.rootFilename\r\n                };\r\n                var fileManager = environment.getFileManager(path, currentFileInfo.currentDirectory, this.context, environment);\r\n                if (!fileManager) {\r\n                    fileParsedFunc({ message: \"Could not find a file-manager for \" + path });\r\n                    return;\r\n                }\r\n                var loadFileCallback = function (loadedFile) {\r\n                    var plugin;\r\n                    var resolvedFilename = loadedFile.filename;\r\n                    var contents = loadedFile.contents.replace(/^\\uFEFF/, '');\r\n                    // Pass on an updated rootpath if path of imported file is relative and file\r\n                    // is in a (sub|sup) directory\r\n                    //\r\n                    // Examples:\r\n                    // - If path of imported file is 'module/nav/nav.less' and rootpath is 'less/',\r\n                    //   then rootpath should become 'less/module/nav/'\r\n                    // - If path of imported file is '../mixins.less' and rootpath is 'less/',\r\n                    //   then rootpath should become 'less/../'\r\n                    newFileInfo.currentDirectory = fileManager.getPath(resolvedFilename);\r\n                    if (newFileInfo.rewriteUrls) {\r\n                        newFileInfo.rootpath = fileManager.join((importManager.context.rootpath || ''), fileManager.pathDiff(newFileInfo.currentDirectory, newFileInfo.entryPath));\r\n                        if (!fileManager.isPathAbsolute(newFileInfo.rootpath) && fileManager.alwaysMakePathsAbsolute()) {\r\n                            newFileInfo.rootpath = fileManager.join(newFileInfo.entryPath, newFileInfo.rootpath);\r\n                        }\r\n                    }\r\n                    newFileInfo.filename = resolvedFilename;\r\n                    var newEnv = new contexts.Parse(importManager.context);\r\n                    newEnv.processImports = false;\r\n                    importManager.contents[resolvedFilename] = contents;\r\n                    if (currentFileInfo.reference || importOptions.reference) {\r\n                        newFileInfo.reference = true;\r\n                    }\r\n                    if (importOptions.isPlugin) {\r\n                        plugin = pluginLoader.evalPlugin(contents, newEnv, importManager, importOptions.pluginArgs, newFileInfo);\r\n                        if (plugin instanceof LessError) {\r\n                            fileParsedFunc(plugin, null, resolvedFilename);\r\n                        }\r\n                        else {\r\n                            fileParsedFunc(null, plugin, resolvedFilename);\r\n                        }\r\n                    }\r\n                    else if (importOptions.inline) {\r\n                        fileParsedFunc(null, contents, resolvedFilename);\r\n                    }\r\n                    else {\r\n                        // import (multiple) parse trees apparently get altered and can't be cached.\r\n                        // TODO: investigate why this is\r\n                        if (importManager.files[resolvedFilename]\r\n                            && !importManager.files[resolvedFilename].options.multiple\r\n                            && !importOptions.multiple) {\r\n                            fileParsedFunc(null, importManager.files[resolvedFilename].root, resolvedFilename);\r\n                        }\r\n                        else {\r\n                            new Parser(newEnv, importManager, newFileInfo).parse(contents, function (e, root) {\r\n                                fileParsedFunc(e, root, resolvedFilename);\r\n                            });\r\n                        }\r\n                    }\r\n                };\r\n                var loadedFile;\r\n                var promise;\r\n                var context = clone(this.context);\r\n                if (tryAppendExtension) {\r\n                    context.ext = importOptions.isPlugin ? '.js' : '.less';\r\n                }\r\n                if (importOptions.isPlugin) {\r\n                    context.mime = 'application/javascript';\r\n                    if (context.syncImport) {\r\n                        loadedFile = pluginLoader.loadPluginSync(path, currentFileInfo.currentDirectory, context, environment, fileManager);\r\n                    }\r\n                    else {\r\n                        promise = pluginLoader.loadPlugin(path, currentFileInfo.currentDirectory, context, environment, fileManager);\r\n                    }\r\n                }\r\n                else {\r\n                    if (context.syncImport) {\r\n                        loadedFile = fileManager.loadFileSync(path, currentFileInfo.currentDirectory, context, environment);\r\n                    }\r\n                    else {\r\n                        promise = fileManager.loadFile(path, currentFileInfo.currentDirectory, context, environment, function (err, loadedFile) {\r\n                            if (err) {\r\n                                fileParsedFunc(err);\r\n                            }\r\n                            else {\r\n                                loadFileCallback(loadedFile);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                if (loadedFile) {\r\n                    if (!loadedFile.filename) {\r\n                        fileParsedFunc(loadedFile);\r\n                    }\r\n                    else {\r\n                        loadFileCallback(loadedFile);\r\n                    }\r\n                }\r\n                else if (promise) {\r\n                    promise.then(loadFileCallback, fileParsedFunc);\r\n                }\r\n            };\r\n            return ImportManager;\r\n        }());\r\n        return ImportManager;\r\n    }\n\n    function Parse (environment, ParseTree, ImportManager) {\r\n        var parse = function (input, options, callback) {\r\n            if (typeof options === 'function') {\r\n                callback = options;\r\n                options = copyOptions(this.options, {});\r\n            }\r\n            else {\r\n                options = copyOptions(this.options, options || {});\r\n            }\r\n            if (!callback) {\r\n                var self_1 = this;\r\n                return new Promise(function (resolve, reject) {\r\n                    parse.call(self_1, input, options, function (err, output) {\r\n                        if (err) {\r\n                            reject(err);\r\n                        }\r\n                        else {\r\n                            resolve(output);\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            else {\r\n                var context_1;\r\n                var rootFileInfo = void 0;\r\n                var pluginManager_1 = new PluginManagerFactory(this, !options.reUsePluginManager);\r\n                options.pluginManager = pluginManager_1;\r\n                context_1 = new contexts.Parse(options);\r\n                if (options.rootFileInfo) {\r\n                    rootFileInfo = options.rootFileInfo;\r\n                }\r\n                else {\r\n                    var filename = options.filename || 'input';\r\n                    var entryPath = filename.replace(/[^\\/\\\\]*$/, '');\r\n                    rootFileInfo = {\r\n                        filename: filename,\r\n                        rewriteUrls: context_1.rewriteUrls,\r\n                        rootpath: context_1.rootpath || '',\r\n                        currentDirectory: entryPath,\r\n                        entryPath: entryPath,\r\n                        rootFilename: filename\r\n                    };\r\n                    // add in a missing trailing slash\r\n                    if (rootFileInfo.rootpath && rootFileInfo.rootpath.slice(-1) !== '/') {\r\n                        rootFileInfo.rootpath += '/';\r\n                    }\r\n                }\r\n                var imports_1 = new ImportManager(this, context_1, rootFileInfo);\r\n                this.importManager = imports_1;\r\n                // TODO: allow the plugins to be just a list of paths or names\r\n                // Do an async plugin queue like lessc\r\n                if (options.plugins) {\r\n                    options.plugins.forEach(function (plugin) {\r\n                        var evalResult, contents;\r\n                        if (plugin.fileContent) {\r\n                            contents = plugin.fileContent.replace(/^\\uFEFF/, '');\r\n                            evalResult = pluginManager_1.Loader.evalPlugin(contents, context_1, imports_1, plugin.options, plugin.filename);\r\n                            if (evalResult instanceof LessError) {\r\n                                return callback(evalResult);\r\n                            }\r\n                        }\r\n                        else {\r\n                            pluginManager_1.addPlugin(plugin);\r\n                        }\r\n                    });\r\n                }\r\n                new Parser(context_1, imports_1, rootFileInfo)\r\n                    .parse(input, function (e, root) {\r\n                    if (e) {\r\n                        return callback(e);\r\n                    }\r\n                    callback(null, root, imports_1, options);\r\n                }, options);\r\n            }\r\n        };\r\n        return parse;\r\n    }\n\n    function Render (environment, ParseTree, ImportManager) {\r\n        var render = function (input, options, callback) {\r\n            if (typeof options === 'function') {\r\n                callback = options;\r\n                options = copyOptions(this.options, {});\r\n            }\r\n            else {\r\n                options = copyOptions(this.options, options || {});\r\n            }\r\n            if (!callback) {\r\n                var self_1 = this;\r\n                return new Promise(function (resolve, reject) {\r\n                    render.call(self_1, input, options, function (err, output) {\r\n                        if (err) {\r\n                            reject(err);\r\n                        }\r\n                        else {\r\n                            resolve(output);\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            else {\r\n                this.parse(input, options, function (err, root, imports, options) {\r\n                    if (err) {\r\n                        return callback(err);\r\n                    }\r\n                    var result;\r\n                    try {\r\n                        var parseTree = new ParseTree(root, imports);\r\n                        result = parseTree.toCSS(options);\r\n                    }\r\n                    catch (err) {\r\n                        return callback(err);\r\n                    }\r\n                    callback(null, result);\r\n                });\r\n            }\r\n        };\r\n        return render;\r\n    }\n\n    var version = \"4.1.3\";\n\n    function parseNodeVersion(version) {\n      var match = version.match(/^v(\\d{1,2})\\.(\\d{1,2})\\.(\\d{1,2})(?:-([0-9A-Za-z-.]+))?(?:\\+([0-9A-Za-z-.]+))?$/); // eslint-disable-line max-len\n      if (!match) {\n        throw new Error('Unable to parse: ' + version);\n      }\n\n      var res = {\n        major: parseInt(match[1], 10),\n        minor: parseInt(match[2], 10),\n        patch: parseInt(match[3], 10),\n        pre: match[4] || '',\n        build: match[5] || '',\n      };\n\n      return res;\n    }\n\n    var parseNodeVersion_1 = parseNodeVersion;\n\n    function lessRoot (environment, fileManagers) {\r\n        var sourceMapOutput, sourceMapBuilder, parseTree, importManager;\r\n        environment = new Environment(environment, fileManagers);\r\n        sourceMapOutput = SourceMapOutput(environment);\r\n        sourceMapBuilder = SourceMapBuilder(sourceMapOutput, environment);\r\n        parseTree = ParseTree(sourceMapBuilder);\r\n        importManager = ImportManager(environment);\r\n        var render = Render(environment, parseTree);\r\n        var parse = Parse(environment, parseTree, importManager);\r\n        var v = parseNodeVersion_1(\"v\" + version);\r\n        var initial = {\r\n            version: [v.major, v.minor, v.patch],\r\n            data: data,\r\n            tree: tree,\r\n            Environment: Environment,\r\n            AbstractFileManager: AbstractFileManager,\r\n            AbstractPluginLoader: AbstractPluginLoader,\r\n            environment: environment,\r\n            visitors: visitors,\r\n            Parser: Parser,\r\n            functions: functions(environment),\r\n            contexts: contexts,\r\n            SourceMapOutput: sourceMapOutput,\r\n            SourceMapBuilder: sourceMapBuilder,\r\n            ParseTree: parseTree,\r\n            ImportManager: importManager,\r\n            render: render,\r\n            parse: parse,\r\n            LessError: LessError,\r\n            transformTree: transformTree,\r\n            utils: utils,\r\n            PluginManager: PluginManagerFactory,\r\n            logger: logger$1\r\n        };\r\n        // Create a public API\r\n        var ctor = function (t) {\r\n            return function () {\r\n                var obj = Object.create(t.prototype);\r\n                t.apply(obj, Array.prototype.slice.call(arguments, 0));\r\n                return obj;\r\n            };\r\n        };\r\n        var t;\r\n        var api = Object.create(initial);\r\n        for (var n in initial.tree) {\r\n            /* eslint guard-for-in: 0 */\r\n            t = initial.tree[n];\r\n            if (typeof t === 'function') {\r\n                api[n.toLowerCase()] = ctor(t);\r\n            }\r\n            else {\r\n                api[n] = Object.create(null);\r\n                for (var o in t) {\r\n                    /* eslint guard-for-in: 0 */\r\n                    api[n][o.toLowerCase()] = ctor(t[o]);\r\n                }\r\n            }\r\n        }\r\n        /**\r\n         * Some of the functions assume a `this` context of the API object,\r\n         * which causes it to fail when wrapped for ES6 imports.\r\n         *\r\n         * An assumed `this` should be removed in the future.\r\n         */\r\n        initial.parse = initial.parse.bind(api);\r\n        initial.render = initial.render.bind(api);\r\n        return api;\r\n    }\n\n    /* global window, XMLHttpRequest */\r\n    var options$1;\r\n    var logger;\r\n    var fileCache = {};\r\n    // TODOS - move log somewhere. pathDiff and doing something similar in node. use pathDiff in the other browser file for the initial load\r\n    var FileManager = function () { };\r\n    FileManager.prototype = Object.assign(new AbstractFileManager(), {\r\n        alwaysMakePathsAbsolute: function () {\r\n            return true;\r\n        },\r\n        join: function (basePath, laterPath) {\r\n            if (!basePath) {\r\n                return laterPath;\r\n            }\r\n            return this.extractUrlParts(laterPath, basePath).path;\r\n        },\r\n        doXHR: function (url, type, callback, errback) {\r\n            var xhr = new XMLHttpRequest();\r\n            var async = options$1.isFileProtocol ? options$1.fileAsync : true;\r\n            if (typeof xhr.overrideMimeType === 'function') {\r\n                xhr.overrideMimeType('text/css');\r\n            }\r\n            logger.debug(\"XHR: Getting '\" + url + \"'\");\r\n            xhr.open('GET', url, async);\r\n            xhr.setRequestHeader('Accept', type || 'text/x-less, text/css; q=0.9, */*; q=0.5');\r\n            xhr.send(null);\r\n            function handleResponse(xhr, callback, errback) {\r\n                if (xhr.status >= 200 && xhr.status < 300) {\r\n                    callback(xhr.responseText, xhr.getResponseHeader('Last-Modified'));\r\n                }\r\n                else if (typeof errback === 'function') {\r\n                    errback(xhr.status, url);\r\n                }\r\n            }\r\n            if (options$1.isFileProtocol && !options$1.fileAsync) {\r\n                if (xhr.status === 0 || (xhr.status >= 200 && xhr.status < 300)) {\r\n                    callback(xhr.responseText);\r\n                }\r\n                else {\r\n                    errback(xhr.status, url);\r\n                }\r\n            }\r\n            else if (async) {\r\n                xhr.onreadystatechange = function () {\r\n                    if (xhr.readyState == 4) {\r\n                        handleResponse(xhr, callback, errback);\r\n                    }\r\n                };\r\n            }\r\n            else {\r\n                handleResponse(xhr, callback, errback);\r\n            }\r\n        },\r\n        supports: function () {\r\n            return true;\r\n        },\r\n        clearFileCache: function () {\r\n            fileCache = {};\r\n        },\r\n        loadFile: function (filename, currentDirectory, options, environment) {\r\n            // TODO: Add prefix support like less-node?\r\n            // What about multiple paths?\r\n            if (currentDirectory && !this.isPathAbsolute(filename)) {\r\n                filename = currentDirectory + filename;\r\n            }\r\n            filename = options.ext ? this.tryAppendExtension(filename, options.ext) : filename;\r\n            options = options || {};\r\n            // sheet may be set to the stylesheet for the initial load or a collection of properties including\r\n            // some context variables for imports\r\n            var hrefParts = this.extractUrlParts(filename, window.location.href);\r\n            var href = hrefParts.url;\r\n            var self = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (options.useFileCache && fileCache[href]) {\r\n                    try {\r\n                        var lessText = fileCache[href];\r\n                        return resolve({ contents: lessText, filename: href, webInfo: { lastModified: new Date() } });\r\n                    }\r\n                    catch (e) {\r\n                        return reject({ filename: href, message: \"Error loading file \" + href + \" error was \" + e.message });\r\n                    }\r\n                }\r\n                self.doXHR(href, options.mime, function doXHRCallback(data, lastModified) {\r\n                    // per file cache\r\n                    fileCache[href] = data;\r\n                    // Use remote copy (re-parse)\r\n                    resolve({ contents: data, filename: href, webInfo: { lastModified: lastModified } });\r\n                }, function doXHRError(status, url) {\r\n                    reject({ type: 'File', message: \"'\" + url + \"' wasn't found (\" + status + \")\", href: href });\r\n                });\r\n            });\r\n        }\r\n    });\r\n    var FM = (function (opts, log) {\r\n        options$1 = opts;\r\n        logger = log;\r\n        return FileManager;\r\n    });\n\n    // TODO: Add tests for browser @plugin\r\n    /**\r\n     * Browser Plugin Loader\r\n     */\r\n    var PluginLoader = function (less) {\r\n        this.less = less;\r\n        // Should we shim this.require for browser? Probably not?\r\n    };\r\n    PluginLoader.prototype = Object.assign(new AbstractPluginLoader(), {\r\n        loadPlugin: function (filename, basePath, context, environment, fileManager) {\r\n            return new Promise(function (fulfill, reject) {\r\n                fileManager.loadFile(filename, basePath, context, environment)\r\n                    .then(fulfill).catch(reject);\r\n            });\r\n        }\r\n    });\n\n    var LogListener = (function (less, options) {\r\n        var logLevel_debug = 4;\r\n        var logLevel_info = 3;\r\n        var logLevel_warn = 2;\r\n        var logLevel_error = 1;\r\n        // The amount of logging in the javascript console.\r\n        // 3 - Debug, information and errors\r\n        // 2 - Information and errors\r\n        // 1 - Errors\r\n        // 0 - None\r\n        // Defaults to 2\r\n        options.logLevel = typeof options.logLevel !== 'undefined' ? options.logLevel : (options.env === 'development' ? logLevel_info : logLevel_error);\r\n        if (!options.loggers) {\r\n            options.loggers = [{\r\n                    debug: function (msg) {\r\n                        if (options.logLevel >= logLevel_debug) {\r\n                            console.log(msg);\r\n                        }\r\n                    },\r\n                    info: function (msg) {\r\n                        if (options.logLevel >= logLevel_info) {\r\n                            console.log(msg);\r\n                        }\r\n                    },\r\n                    warn: function (msg) {\r\n                        if (options.logLevel >= logLevel_warn) {\r\n                            console.warn(msg);\r\n                        }\r\n                    },\r\n                    error: function (msg) {\r\n                        if (options.logLevel >= logLevel_error) {\r\n                            console.error(msg);\r\n                        }\r\n                    }\r\n                }];\r\n        }\r\n        for (var i = 0; i < options.loggers.length; i++) {\r\n            less.logger.addListener(options.loggers[i]);\r\n        }\r\n    });\n\n    var ErrorReporting = (function (window, less, options) {\r\n        function errorHTML(e, rootHref) {\r\n            var id = \"less-error-message:\" + extractId(rootHref || '');\r\n            var template = '<li><label>{line}</label><pre class=\"{class}\">{content}</pre></li>';\r\n            var elem = window.document.createElement('div');\r\n            var timer;\r\n            var content;\r\n            var errors = [];\r\n            var filename = e.filename || rootHref;\r\n            var filenameNoPath = filename.match(/([^\\/]+(\\?.*)?)$/)[1];\r\n            elem.id = id;\r\n            elem.className = 'less-error-message';\r\n            content = \"<h3>\" + (e.type || 'Syntax') + \"Error: \" + (e.message || 'There is an error in your .less file') +\r\n                (\"</h3><p>in <a href=\\\"\" + filename + \"\\\">\" + filenameNoPath + \"</a> \");\r\n            var errorline = function (e, i, classname) {\r\n                if (e.extract[i] !== undefined) {\r\n                    errors.push(template.replace(/\\{line\\}/, (parseInt(e.line, 10) || 0) + (i - 1))\r\n                        .replace(/\\{class\\}/, classname)\r\n                        .replace(/\\{content\\}/, e.extract[i]));\r\n                }\r\n            };\r\n            if (e.line) {\r\n                errorline(e, 0, '');\r\n                errorline(e, 1, 'line');\r\n                errorline(e, 2, '');\r\n                content += \"on line \" + e.line + \", column \" + (e.column + 1) + \":</p><ul>\" + errors.join('') + \"</ul>\";\r\n            }\r\n            if (e.stack && (e.extract || options.logLevel >= 4)) {\r\n                content += \"<br/>Stack Trace</br />\" + e.stack.split('\\n').slice(1).join('<br/>');\r\n            }\r\n            elem.innerHTML = content;\r\n            // CSS for error messages\r\n            browser.createCSS(window.document, [\r\n                '.less-error-message ul, .less-error-message li {',\r\n                'list-style-type: none;',\r\n                'margin-right: 15px;',\r\n                'padding: 4px 0;',\r\n                'margin: 0;',\r\n                '}',\r\n                '.less-error-message label {',\r\n                'font-size: 12px;',\r\n                'margin-right: 15px;',\r\n                'padding: 4px 0;',\r\n                'color: #cc7777;',\r\n                '}',\r\n                '.less-error-message pre {',\r\n                'color: #dd6666;',\r\n                'padding: 4px 0;',\r\n                'margin: 0;',\r\n                'display: inline-block;',\r\n                '}',\r\n                '.less-error-message pre.line {',\r\n                'color: #ff0000;',\r\n                '}',\r\n                '.less-error-message h3 {',\r\n                'font-size: 20px;',\r\n                'font-weight: bold;',\r\n                'padding: 15px 0 5px 0;',\r\n                'margin: 0;',\r\n                '}',\r\n                '.less-error-message a {',\r\n                'color: #10a',\r\n                '}',\r\n                '.less-error-message .error {',\r\n                'color: red;',\r\n                'font-weight: bold;',\r\n                'padding-bottom: 2px;',\r\n                'border-bottom: 1px dashed red;',\r\n                '}'\r\n            ].join('\\n'), { title: 'error-message' });\r\n            elem.style.cssText = [\r\n                'font-family: Arial, sans-serif',\r\n                'border: 1px solid #e00',\r\n                'background-color: #eee',\r\n                'border-radius: 5px',\r\n                '-webkit-border-radius: 5px',\r\n                '-moz-border-radius: 5px',\r\n                'color: #e00',\r\n                'padding: 15px',\r\n                'margin-bottom: 15px'\r\n            ].join(';');\r\n            if (options.env === 'development') {\r\n                timer = setInterval(function () {\r\n                    var document = window.document;\r\n                    var body = document.body;\r\n                    if (body) {\r\n                        if (document.getElementById(id)) {\r\n                            body.replaceChild(elem, document.getElementById(id));\r\n                        }\r\n                        else {\r\n                            body.insertBefore(elem, body.firstChild);\r\n                        }\r\n                        clearInterval(timer);\r\n                    }\r\n                }, 10);\r\n            }\r\n        }\r\n        function removeErrorHTML(path) {\r\n            var node = window.document.getElementById(\"less-error-message:\" + extractId(path));\r\n            if (node) {\r\n                node.parentNode.removeChild(node);\r\n            }\r\n        }\r\n        function removeError(path) {\r\n            if (!options.errorReporting || options.errorReporting === 'html') {\r\n                removeErrorHTML(path);\r\n            }\r\n            else if (options.errorReporting === 'console') ;\r\n            else if (typeof options.errorReporting === 'function') {\r\n                options.errorReporting('remove', path);\r\n            }\r\n        }\r\n        function errorConsole(e, rootHref) {\r\n            var template = '{line} {content}';\r\n            var filename = e.filename || rootHref;\r\n            var errors = [];\r\n            var content = (e.type || 'Syntax') + \"Error: \" + (e.message || 'There is an error in your .less file') + \" in \" + filename;\r\n            var errorline = function (e, i, classname) {\r\n                if (e.extract[i] !== undefined) {\r\n                    errors.push(template.replace(/\\{line\\}/, (parseInt(e.line, 10) || 0) + (i - 1))\r\n                        .replace(/\\{class\\}/, classname)\r\n                        .replace(/\\{content\\}/, e.extract[i]));\r\n                }\r\n            };\r\n            if (e.line) {\r\n                errorline(e, 0, '');\r\n                errorline(e, 1, 'line');\r\n                errorline(e, 2, '');\r\n                content += \" on line \" + e.line + \", column \" + (e.column + 1) + \":\\n\" + errors.join('\\n');\r\n            }\r\n            if (e.stack && (e.extract || options.logLevel >= 4)) {\r\n                content += \"\\nStack Trace\\n\" + e.stack;\r\n            }\r\n            less.logger.error(content);\r\n        }\r\n        function error(e, rootHref) {\r\n            if (!options.errorReporting || options.errorReporting === 'html') {\r\n                errorHTML(e, rootHref);\r\n            }\r\n            else if (options.errorReporting === 'console') {\r\n                errorConsole(e, rootHref);\r\n            }\r\n            else if (typeof options.errorReporting === 'function') {\r\n                options.errorReporting('add', e, rootHref);\r\n            }\r\n        }\r\n        return {\r\n            add: error,\r\n            remove: removeError\r\n        };\r\n    });\n\n    // Cache system is a bit outdated and could do with work\r\n    var Cache = (function (window, options, logger) {\r\n        var cache = null;\r\n        if (options.env !== 'development') {\r\n            try {\r\n                cache = (typeof window.localStorage === 'undefined') ? null : window.localStorage;\r\n            }\r\n            catch (_) { }\r\n        }\r\n        return {\r\n            setCSS: function (path, lastModified, modifyVars, styles) {\r\n                if (cache) {\r\n                    logger.info(\"saving \" + path + \" to cache.\");\r\n                    try {\r\n                        cache.setItem(path, styles);\r\n                        cache.setItem(path + \":timestamp\", lastModified);\r\n                        if (modifyVars) {\r\n                            cache.setItem(path + \":vars\", JSON.stringify(modifyVars));\r\n                        }\r\n                    }\r\n                    catch (e) {\r\n                        // TODO - could do with adding more robust error handling\r\n                        logger.error(\"failed to save \\\"\" + path + \"\\\" to local storage for caching.\");\r\n                    }\r\n                }\r\n            },\r\n            getCSS: function (path, webInfo, modifyVars) {\r\n                var css = cache && cache.getItem(path);\r\n                var timestamp = cache && cache.getItem(path + \":timestamp\");\r\n                var vars = cache && cache.getItem(path + \":vars\");\r\n                modifyVars = modifyVars || {};\r\n                vars = vars || \"{}\"; // if not set, treat as the JSON representation of an empty object\r\n                if (timestamp && webInfo.lastModified &&\r\n                    (new Date(webInfo.lastModified).valueOf() ===\r\n                        new Date(timestamp).valueOf()) &&\r\n                    JSON.stringify(modifyVars) === vars) {\r\n                    // Use local copy\r\n                    return css;\r\n                }\r\n            }\r\n        };\r\n    });\n\n    var ImageSize = (function () {\r\n        function imageSize() {\r\n            throw {\r\n                type: 'Runtime',\r\n                message: 'Image size functions are not supported in browser version of less'\r\n            };\r\n        }\r\n        var imageFunctions = {\r\n            'image-size': function (filePathNode) {\r\n                imageSize();\r\n                return -1;\r\n            },\r\n            'image-width': function (filePathNode) {\r\n                imageSize();\r\n                return -1;\r\n            },\r\n            'image-height': function (filePathNode) {\r\n                imageSize();\r\n                return -1;\r\n            }\r\n        };\r\n        functionRegistry.addMultiple(imageFunctions);\r\n    });\n\n    //\r\n    var root = (function (window, options) {\r\n        var document = window.document;\r\n        var less = lessRoot();\r\n        less.options = options;\r\n        var environment = less.environment;\r\n        var FileManager = FM(options, less.logger);\r\n        var fileManager = new FileManager();\r\n        environment.addFileManager(fileManager);\r\n        less.FileManager = FileManager;\r\n        less.PluginLoader = PluginLoader;\r\n        LogListener(less, options);\r\n        var errors = ErrorReporting(window, less, options);\r\n        var cache = less.cache = options.cache || Cache(window, options, less.logger);\r\n        ImageSize(less.environment);\r\n        // Setup user functions - Deprecate?\r\n        if (options.functions) {\r\n            less.functions.functionRegistry.addMultiple(options.functions);\r\n        }\r\n        var typePattern = /^text\\/(x-)?less$/;\r\n        function clone(obj) {\r\n            var cloned = {};\r\n            for (var prop in obj) {\r\n                if (obj.hasOwnProperty(prop)) {\r\n                    cloned[prop] = obj[prop];\r\n                }\r\n            }\r\n            return cloned;\r\n        }\r\n        // only really needed for phantom\r\n        function bind(func, thisArg) {\r\n            var curryArgs = Array.prototype.slice.call(arguments, 2);\r\n            return function () {\r\n                var args = curryArgs.concat(Array.prototype.slice.call(arguments, 0));\r\n                return func.apply(thisArg, args);\r\n            };\r\n        }\r\n        function loadStyles(modifyVars) {\r\n            var styles = document.getElementsByTagName('style');\r\n            var style;\r\n            for (var i = 0; i < styles.length; i++) {\r\n                style = styles[i];\r\n                if (style.type.match(typePattern)) {\r\n                    var instanceOptions = clone(options);\r\n                    instanceOptions.modifyVars = modifyVars;\r\n                    var lessText = style.innerHTML || '';\r\n                    instanceOptions.filename = document.location.href.replace(/#.*$/, '');\r\n                    /* jshint loopfunc:true */\r\n                    // use closure to store current style\r\n                    less.render(lessText, instanceOptions, bind(function (style, e, result) {\r\n                        if (e) {\r\n                            errors.add(e, 'inline');\r\n                        }\r\n                        else {\r\n                            style.type = 'text/css';\r\n                            if (style.styleSheet) {\r\n                                style.styleSheet.cssText = result.css;\r\n                            }\r\n                            else {\r\n                                style.innerHTML = result.css;\r\n                            }\r\n                        }\r\n                    }, null, style));\r\n                }\r\n            }\r\n        }\r\n        function loadStyleSheet(sheet, callback, reload, remaining, modifyVars) {\r\n            var instanceOptions = clone(options);\r\n            addDataAttr(instanceOptions, sheet);\r\n            instanceOptions.mime = sheet.type;\r\n            if (modifyVars) {\r\n                instanceOptions.modifyVars = modifyVars;\r\n            }\r\n            function loadInitialFileCallback(loadedFile) {\r\n                var data = loadedFile.contents;\r\n                var path = loadedFile.filename;\r\n                var webInfo = loadedFile.webInfo;\r\n                var newFileInfo = {\r\n                    currentDirectory: fileManager.getPath(path),\r\n                    filename: path,\r\n                    rootFilename: path,\r\n                    rewriteUrls: instanceOptions.rewriteUrls\r\n                };\r\n                newFileInfo.entryPath = newFileInfo.currentDirectory;\r\n                newFileInfo.rootpath = instanceOptions.rootpath || newFileInfo.currentDirectory;\r\n                if (webInfo) {\r\n                    webInfo.remaining = remaining;\r\n                    var css = cache.getCSS(path, webInfo, instanceOptions.modifyVars);\r\n                    if (!reload && css) {\r\n                        webInfo.local = true;\r\n                        callback(null, css, data, sheet, webInfo, path);\r\n                        return;\r\n                    }\r\n                }\r\n                // TODO add tests around how this behaves when reloading\r\n                errors.remove(path);\r\n                instanceOptions.rootFileInfo = newFileInfo;\r\n                less.render(data, instanceOptions, function (e, result) {\r\n                    if (e) {\r\n                        e.href = path;\r\n                        callback(e);\r\n                    }\r\n                    else {\r\n                        cache.setCSS(sheet.href, webInfo.lastModified, instanceOptions.modifyVars, result.css);\r\n                        callback(null, result.css, data, sheet, webInfo, path);\r\n                    }\r\n                });\r\n            }\r\n            fileManager.loadFile(sheet.href, null, instanceOptions, environment)\r\n                .then(function (loadedFile) {\r\n                loadInitialFileCallback(loadedFile);\r\n            }).catch(function (err) {\r\n                console.log(err);\r\n                callback(err);\r\n            });\r\n        }\r\n        function loadStyleSheets(callback, reload, modifyVars) {\r\n            for (var i = 0; i < less.sheets.length; i++) {\r\n                loadStyleSheet(less.sheets[i], callback, reload, less.sheets.length - (i + 1), modifyVars);\r\n            }\r\n        }\r\n        function initRunningMode() {\r\n            if (less.env === 'development') {\r\n                less.watchTimer = setInterval(function () {\r\n                    if (less.watchMode) {\r\n                        fileManager.clearFileCache();\r\n                        loadStyleSheets(function (e, css, _, sheet, webInfo) {\r\n                            if (e) {\r\n                                errors.add(e, e.href || sheet.href);\r\n                            }\r\n                            else if (css) {\r\n                                browser.createCSS(window.document, css, sheet);\r\n                            }\r\n                        });\r\n                    }\r\n                }, options.poll);\r\n            }\r\n        }\r\n        //\r\n        // Watch mode\r\n        //\r\n        less.watch = function () {\r\n            if (!less.watchMode) {\r\n                less.env = 'development';\r\n                initRunningMode();\r\n            }\r\n            this.watchMode = true;\r\n            return true;\r\n        };\r\n        less.unwatch = function () { clearInterval(less.watchTimer); this.watchMode = false; return false; };\r\n        //\r\n        // Synchronously get all <link> tags with the 'rel' attribute set to\r\n        // \"stylesheet/less\".\r\n        //\r\n        less.registerStylesheetsImmediately = function () {\r\n            var links = document.getElementsByTagName('link');\r\n            less.sheets = [];\r\n            for (var i = 0; i < links.length; i++) {\r\n                if (links[i].rel === 'stylesheet/less' || (links[i].rel.match(/stylesheet/) &&\r\n                    (links[i].type.match(typePattern)))) {\r\n                    less.sheets.push(links[i]);\r\n                }\r\n            }\r\n        };\r\n        //\r\n        // Asynchronously get all <link> tags with the 'rel' attribute set to\r\n        // \"stylesheet/less\", returning a Promise.\r\n        //\r\n        less.registerStylesheets = function () { return new Promise(function (resolve, reject) {\r\n            less.registerStylesheetsImmediately();\r\n            resolve();\r\n        }); };\r\n        //\r\n        // With this function, it's possible to alter variables and re-render\r\n        // CSS without reloading less-files\r\n        //\r\n        less.modifyVars = function (record) { return less.refresh(true, record, false); };\r\n        less.refresh = function (reload, modifyVars, clearFileCache) {\r\n            if ((reload || clearFileCache) && clearFileCache !== false) {\r\n                fileManager.clearFileCache();\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                var startTime;\r\n                var endTime;\r\n                var totalMilliseconds;\r\n                var remainingSheets;\r\n                startTime = endTime = new Date();\r\n                // Set counter for remaining unprocessed sheets\r\n                remainingSheets = less.sheets.length;\r\n                if (remainingSheets === 0) {\r\n                    endTime = new Date();\r\n                    totalMilliseconds = endTime - startTime;\r\n                    less.logger.info('Less has finished and no sheets were loaded.');\r\n                    resolve({\r\n                        startTime: startTime,\r\n                        endTime: endTime,\r\n                        totalMilliseconds: totalMilliseconds,\r\n                        sheets: less.sheets.length\r\n                    });\r\n                }\r\n                else {\r\n                    // Relies on less.sheets array, callback seems to be guaranteed to be called for every element of the array\r\n                    loadStyleSheets(function (e, css, _, sheet, webInfo) {\r\n                        if (e) {\r\n                            errors.add(e, e.href || sheet.href);\r\n                            reject(e);\r\n                            return;\r\n                        }\r\n                        if (webInfo.local) {\r\n                            less.logger.info(\"Loading \" + sheet.href + \" from cache.\");\r\n                        }\r\n                        else {\r\n                            less.logger.info(\"Rendered \" + sheet.href + \" successfully.\");\r\n                        }\r\n                        browser.createCSS(window.document, css, sheet);\r\n                        less.logger.info(\"CSS for \" + sheet.href + \" generated in \" + (new Date() - endTime) + \"ms\");\r\n                        // Count completed sheet\r\n                        remainingSheets--;\r\n                        // Check if the last remaining sheet was processed and then call the promise\r\n                        if (remainingSheets === 0) {\r\n                            totalMilliseconds = new Date() - startTime;\r\n                            less.logger.info(\"Less has finished. CSS generated in \" + totalMilliseconds + \"ms\");\r\n                            resolve({\r\n                                startTime: startTime,\r\n                                endTime: endTime,\r\n                                totalMilliseconds: totalMilliseconds,\r\n                                sheets: less.sheets.length\r\n                            });\r\n                        }\r\n                        endTime = new Date();\r\n                    }, reload, modifyVars);\r\n                }\r\n                loadStyles(modifyVars);\r\n            });\r\n        };\r\n        less.refreshStyles = loadStyles;\r\n        return less;\r\n    });\n\n    /**\r\n     * Kicks off less and compiles any stylesheets\r\n     * used in the browser distributed version of less\r\n     * to kick-start less using the browser api\r\n     */\r\n    var options = defaultOptions();\r\n    if (window.less) {\r\n        for (var key in window.less) {\r\n            if (window.less.hasOwnProperty(key)) {\r\n                options[key] = window.less[key];\r\n            }\r\n        }\r\n    }\r\n    addDefaultOptions(window, options);\r\n    options.plugins = options.plugins || [];\r\n    if (window.LESS_PLUGINS) {\r\n        options.plugins = options.plugins.concat(window.LESS_PLUGINS);\r\n    }\r\n    var less = root(window, options);\r\n    window.less = less;\r\n    var css;\r\n    var head;\r\n    var style;\r\n    // Always restore page visibility\r\n    function resolveOrReject(data) {\r\n        if (data.filename) {\r\n            console.warn(data);\r\n        }\r\n        if (!options.async) {\r\n            head.removeChild(style);\r\n        }\r\n    }\r\n    if (options.onReady) {\r\n        if (/!watch/.test(window.location.hash)) {\r\n            less.watch();\r\n        }\r\n        // Simulate synchronous stylesheet loading by hiding page rendering\r\n        if (!options.async) {\r\n            css = 'body { display: none !important }';\r\n            head = document.head || document.getElementsByTagName('head')[0];\r\n            style = document.createElement('style');\r\n            style.type = 'text/css';\r\n            if (style.styleSheet) {\r\n                style.styleSheet.cssText = css;\r\n            }\r\n            else {\r\n                style.appendChild(document.createTextNode(css));\r\n            }\r\n            head.appendChild(style);\r\n        }\r\n        less.registerStylesheetsImmediately();\r\n        less.pageLoadFinished = less.refresh(less.env === 'development').then(resolveOrReject, resolveOrReject);\r\n    }\n\n    return less;\n\n})));\n","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace, addUnit } from '../utils';\nimport { inherit } from '../utils/functional'; // Types\n\nvar _createNamespace = createNamespace('loading'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction LoadingIcon(h, props) {\n  if (props.type === 'spinner') {\n    var Spin = [];\n\n    for (var i = 0; i < 12; i++) {\n      Spin.push(h(\"i\"));\n    }\n\n    return Spin;\n  }\n\n  return h(\"svg\", {\n    \"class\": bem('circular'),\n    \"attrs\": {\n      \"viewBox\": \"25 25 50 50\"\n    }\n  }, [h(\"circle\", {\n    \"attrs\": {\n      \"cx\": \"50\",\n      \"cy\": \"50\",\n      \"r\": \"20\",\n      \"fill\": \"none\"\n    }\n  })]);\n}\n\nfunction LoadingText(h, props, slots) {\n  if (slots.default) {\n    var _props$textColor;\n\n    var style = {\n      fontSize: addUnit(props.textSize),\n      color: (_props$textColor = props.textColor) != null ? _props$textColor : props.color\n    };\n    return h(\"span\", {\n      \"class\": bem('text'),\n      \"style\": style\n    }, [slots.default()]);\n  }\n}\n\nfunction Loading(h, props, slots, ctx) {\n  var color = props.color,\n      size = props.size,\n      type = props.type;\n  var style = {\n    color: color\n  };\n\n  if (size) {\n    var iconSize = addUnit(size);\n    style.width = iconSize;\n    style.height = iconSize;\n  }\n\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": bem([type, {\n      vertical: props.vertical\n    }])\n  }, inherit(ctx, true)]), [h(\"span\", {\n    \"class\": bem('spinner', type),\n    \"style\": style\n  }, [LoadingIcon(h, props)]), LoadingText(h, props, slots)]);\n}\n\nLoading.props = {\n  color: String,\n  size: [Number, String],\n  vertical: Boolean,\n  textSize: [Number, String],\n  textColor: String,\n  type: {\n    type: String,\n    default: 'circular'\n  }\n};\nexport default createComponent(Loading);","/**\n * bem helper\n * b() // 'button'\n * b('text') // 'button__text'\n * b({ disabled }) // 'button button--disabled'\n * b('text', { disabled }) // 'button__text button__text--disabled'\n * b(['disabled', 'primary']) // 'button button--disabled button--primary'\n */\nfunction gen(name, mods) {\n  if (!mods) {\n    return '';\n  }\n\n  if (typeof mods === 'string') {\n    return \" \" + name + \"--\" + mods;\n  }\n\n  if (Array.isArray(mods)) {\n    return mods.reduce(function (ret, item) {\n      return ret + gen(name, item);\n    }, '');\n  }\n\n  return Object.keys(mods).reduce(function (ret, key) {\n    return ret + (mods[key] ? gen(name, key) : '');\n  }, '');\n}\n\nexport function createBEM(name) {\n  return function (el, mods) {\n    if (el && typeof el !== 'string') {\n      mods = el;\n      el = '';\n    }\n\n    el = el ? name + \"__\" + el : name;\n    return \"\" + el + gen(el, mods);\n  };\n}","var camelizeRE = /-(\\w)/g;\nexport function camelize(str) {\n  return str.replace(camelizeRE, function (_, c) {\n    return c.toUpperCase();\n  });\n}\nexport function padZero(num, targetLength) {\n  if (targetLength === void 0) {\n    targetLength = 2;\n  }\n\n  var str = num + '';\n\n  while (str.length < targetLength) {\n    str = '0' + str;\n  }\n\n  return str;\n}","/**\n * Use scopedSlots in Vue 2.6+\n * downgrade to slots in lower version\n */\nexport var SlotsMixin = {\n  methods: {\n    slots: function slots(name, props) {\n      if (name === void 0) {\n        name = 'default';\n      }\n\n      var $slots = this.$slots,\n          $scopedSlots = this.$scopedSlots;\n      var scopedSlot = $scopedSlots[name];\n\n      if (scopedSlot) {\n        return scopedSlot(props);\n      }\n\n      return $slots[name];\n    }\n  }\n};","/**\n * Create a basic component with common options\n */\nimport '../../locale';\nimport { isFunction } from '..';\nimport { camelize } from '../format/string';\nimport { SlotsMixin } from '../../mixins/slots';\nimport Vue from 'vue';\n\nfunction install(Vue) {\n  var name = this.name;\n  Vue.component(name, this);\n  Vue.component(camelize(\"-\" + name), this);\n} // unify slots & scopedSlots\n\n\nexport function unifySlots(context) {\n  // use data.scopedSlots in lower Vue version\n  var scopedSlots = context.scopedSlots || context.data.scopedSlots || {};\n  var slots = context.slots();\n  Object.keys(slots).forEach(function (key) {\n    if (!scopedSlots[key]) {\n      scopedSlots[key] = function () {\n        return slots[key];\n      };\n    }\n  });\n  return scopedSlots;\n} // should be removed after Vue 3\n\nfunction transformFunctionComponent(pure) {\n  return {\n    functional: true,\n    props: pure.props,\n    model: pure.model,\n    render: function render(h, context) {\n      return pure(h, context.props, unifySlots(context), context);\n    }\n  };\n}\n\nexport function createComponent(name) {\n  return function (sfc) {\n    if (isFunction(sfc)) {\n      sfc = transformFunctionComponent(sfc);\n    }\n\n    if (!sfc.functional) {\n      sfc.mixins = sfc.mixins || [];\n      sfc.mixins.push(SlotsMixin);\n    }\n\n    sfc.name = name;\n    sfc.install = install;\n    return sfc;\n  };\n}","import { isDef, isObject } from '.';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction assignKey(to, from, key) {\n  var val = from[key];\n\n  if (!isDef(val)) {\n    return;\n  }\n\n  if (!hasOwnProperty.call(to, key) || !isObject(val)) {\n    to[key] = val;\n  } else {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    to[key] = deepAssign(Object(to[key]), from[key]);\n  }\n}\n\nexport function deepAssign(to, from) {\n  Object.keys(from).forEach(function (key) {\n    assignKey(to, from, key);\n  });\n  return to;\n}","export default {\n  name: '',\n  tel: '',\n  save: '',\n  confirm: '',\n  cancel: '',\n  delete: '',\n  complete: '',\n  loading: '...',\n  telEmpty: '',\n  nameEmpty: '',\n  nameInvalid: '',\n  confirmDelete: '',\n  telInvalid: '',\n  vanCalendar: {\n    end: '',\n    start: '',\n    title: '',\n    confirm: '',\n    startEnd: '/',\n    weekdays: ['', '', '', '', '', '', ''],\n    monthTitle: function monthTitle(year, month) {\n      return year + \"\\u5E74\" + month + \"\\u6708\";\n    },\n    rangePrompt: function rangePrompt(maxRange) {\n      return \"\\u9009\\u62E9\\u5929\\u6570\\u4E0D\\u80FD\\u8D85\\u8FC7 \" + maxRange + \" \\u5929\";\n    }\n  },\n  vanCascader: {\n    select: ''\n  },\n  vanContactCard: {\n    addText: ''\n  },\n  vanContactList: {\n    addText: ''\n  },\n  vanPagination: {\n    prev: '',\n    next: ''\n  },\n  vanPullRefresh: {\n    pulling: '...',\n    loosing: '...'\n  },\n  vanSubmitBar: {\n    label: ''\n  },\n  vanCoupon: {\n    unlimited: '',\n    discount: function discount(_discount) {\n      return _discount + \"\\u6298\";\n    },\n    condition: function condition(_condition) {\n      return \"\\u6EE1\" + _condition + \"\\u5143\\u53EF\\u7528\";\n    }\n  },\n  vanCouponCell: {\n    title: '',\n    tips: '',\n    count: function count(_count) {\n      return _count + \"\\u5F20\\u53EF\\u7528\";\n    }\n  },\n  vanCouponList: {\n    empty: '',\n    exchange: '',\n    close: '',\n    enable: '',\n    disabled: '',\n    placeholder: ''\n  },\n  vanAddressEdit: {\n    area: '',\n    postal: '',\n    areaEmpty: '',\n    addressEmpty: '',\n    postalEmpty: '',\n    defaultAddress: '',\n    telPlaceholder: '',\n    namePlaceholder: '',\n    areaPlaceholder: ' /  / '\n  },\n  vanAddressEditDetail: {\n    label: '',\n    placeholder: ''\n  },\n  vanAddressList: {\n    add: ''\n  }\n};","import Vue from 'vue';\nimport { deepAssign } from '../utils/deep-assign';\nimport defaultMessages from './lang/zh-CN';\nvar proto = Vue.prototype;\nvar defineReactive = Vue.util.defineReactive;\ndefineReactive(proto, '$vantLang', 'zh-CN');\ndefineReactive(proto, '$vantMessages', {\n  'zh-CN': defaultMessages\n});\nexport default {\n  messages: function messages() {\n    return proto.$vantMessages[proto.$vantLang];\n  },\n  use: function use(lang, messages) {\n    var _this$add;\n\n    proto.$vantLang = lang;\n    this.add((_this$add = {}, _this$add[lang] = messages, _this$add));\n  },\n  add: function add(messages) {\n    if (messages === void 0) {\n      messages = {};\n    }\n\n    deepAssign(proto.$vantMessages, messages);\n  }\n};","import { get, isFunction } from '..';\nimport { camelize } from '../format/string';\nimport locale from '../../locale';\nexport function createI18N(name) {\n  var prefix = camelize(name) + '.';\n  return function (path) {\n    var messages = locale.messages();\n    var message = get(messages, prefix + path) || get(messages, path);\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return isFunction(message) ? message.apply(void 0, args) : message;\n  };\n}","import { createBEM } from './bem';\nimport { createComponent } from './component';\nimport { createI18N } from './i18n';\nexport function createNamespace(name) {\n  name = 'van-' + name;\n  return [createComponent(name), createBEM(name), createI18N(name)];\n}","export function isNumeric(val) {\n  return /^\\d+(\\.\\d+)?$/.test(val);\n}\nexport function isNaN(val) {\n  if (Number.isNaN) {\n    return Number.isNaN(val);\n  } // eslint-disable-next-line no-self-compare\n\n\n  return val !== val;\n}","import { isDef, inBrowser } from '..';\nimport { isNumeric } from '../validate/number';\nexport function addUnit(value) {\n  if (!isDef(value)) {\n    return undefined;\n  }\n\n  value = String(value);\n  return isNumeric(value) ? value + \"px\" : value;\n} // cache\n\nvar rootFontSize;\n\nfunction getRootFontSize() {\n  if (!rootFontSize) {\n    var doc = document.documentElement;\n    var fontSize = doc.style.fontSize || window.getComputedStyle(doc).fontSize;\n    rootFontSize = parseFloat(fontSize);\n  }\n\n  return rootFontSize;\n}\n\nfunction convertRem(value) {\n  value = value.replace(/rem/g, '');\n  return +value * getRootFontSize();\n}\n\nfunction convertVw(value) {\n  value = value.replace(/vw/g, '');\n  return +value * window.innerWidth / 100;\n}\n\nfunction convertVh(value) {\n  value = value.replace(/vh/g, '');\n  return +value * window.innerHeight / 100;\n}\n\nexport function unitToPx(value) {\n  if (typeof value === 'number') {\n    return value;\n  }\n\n  if (inBrowser) {\n    if (value.indexOf('rem') !== -1) {\n      return convertRem(value);\n    }\n\n    if (value.indexOf('vw') !== -1) {\n      return convertVw(value);\n    }\n\n    if (value.indexOf('vh') !== -1) {\n      return convertVh(value);\n    }\n  }\n\n  return parseFloat(value);\n}","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nvar inheritKey = ['ref', 'key', 'style', 'class', 'attrs', 'refInFor', 'nativeOn', 'directives', 'staticClass', 'staticStyle'];\nvar mapInheritKey = {\n  nativeOn: 'on'\n}; // inherit partial context, map nativeOn to on\n\nexport function inherit(context, inheritListeners) {\n  var result = inheritKey.reduce(function (obj, key) {\n    if (context.data[key]) {\n      obj[mapInheritKey[key] || key] = context.data[key];\n    }\n\n    return obj;\n  }, {});\n\n  if (inheritListeners) {\n    result.on = result.on || {};\n\n    _extends(result.on, context.data.on);\n  }\n\n  return result;\n} // emit event\n\nexport function emit(context, eventName) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var listeners = context.listeners[eventName];\n\n  if (listeners) {\n    if (Array.isArray(listeners)) {\n      listeners.forEach(function (listener) {\n        listener.apply(void 0, args);\n      });\n    } else {\n      listeners.apply(void 0, args);\n    }\n  }\n} // mount functional component\n\nexport function mount(Component, data) {\n  var instance = new Vue({\n    el: document.createElement('div'),\n    props: Component.props,\n    render: function render(h) {\n      return h(Component, _extends({\n        props: this.$props\n      }, data));\n    }\n  });\n  document.body.appendChild(instance.$el);\n  return instance;\n}","import Vue from 'vue';\nexport { createNamespace } from './create';\nexport { addUnit } from './format/unit';\nexport var inBrowser = typeof window !== 'undefined';\nexport var isServer = Vue.prototype.$isServer; // eslint-disable-next-line @typescript-eslint/no-empty-function\n\nexport function noop() {}\nexport function isDef(val) {\n  return val !== undefined && val !== null;\n}\nexport function isFunction(val) {\n  return typeof val === 'function';\n}\nexport function isObject(val) {\n  return val !== null && typeof val === 'object';\n}\nexport function isPromise(val) {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch);\n}\nexport function get(object, path) {\n  var keys = path.split('.');\n  var result = object;\n  keys.forEach(function (key) {\n    var _result$key;\n\n    result = isObject(result) ? (_result$key = result[key]) != null ? _result$key : '' : '';\n  });\n  return result;\n}\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @function isEmpty\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\n\nexport function isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n\n  if (typeof value !== 'object') {\n    return true;\n  }\n\n  return Object.keys(value).length === 0;\n}"],"names":["normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","context","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","exports","isCallable","tryToString","$TypeError","TypeError","module","argument","isObject","$String","String","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","el","fromIndex","value","O","length","index","includes","indexOf","DESCRIPTORS","isArray","getOwnPropertyDescriptor","Object","SILENT_ON_NON_WRITABLE_LENGTH_SET","undefined","defineProperty","writable","error","uncurryThis","toString","stringSlice","slice","it","hasOwn","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","target","source","exceptions","keys","f","i","key","createPropertyDescriptor","object","bitmap","enumerable","configurable","makeBuiltIn","defineGlobalProperty","simple","name","global","unsafe","nonConfigurable","nonWritable","fails","get","documentAll","document","all","IS_HTMLDDA","EXISTS","createElement","MAX_SAFE_INTEGER","navigator","userAgent","match","version","process","Deno","versions","v8","split","createNonEnumerableProperty","defineBuiltIn","copyConstructorProperties","isForced","FORCED","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","prototype","dontCallGetSet","forced","sham","exec","test","bind","hasOwnProperty","NATIVE_BIND","Function","apply","arguments","FunctionPrototype","getDescriptor","PROPER","CONFIGURABLE","uncurryThisWithBind","fn","aFunction","namespace","method","aCallable","isNullOrUndefined","V","P","func","check","Math","globalThis","window","self","g","toObject","a","classof","$Object","propertyIsEnumerable","store","functionToString","inspectSource","set","has","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","enforce","getterFor","TYPE","state","type","metadata","facade","STATE","Array","$documentAll","replacement","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","getBuiltIn","isPrototypeOf","USE_SYMBOL_AS_UID","$Symbol","toLength","obj","CONFIGURABLE_FUNCTION_NAME","InternalStateModule","enforceInternalState","getInternalState","join","CONFIGURABLE_LENGTH","TEMPLATE","getter","setter","arity","constructor","ceil","floor","trunc","x","n","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","anObject","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","Attributes","current","propertyIsEnumerableModule","internalObjectKeys","enumBugKeys","getOwnPropertyNames","getOwnPropertySymbols","push","names","result","$propertyIsEnumerable","NASHORN_BUG","input","pref","val","valueOf","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","uid","SHARED","IS_PURE","mode","copyright","license","V8_VERSION","symbol","Symbol","toIntegerOrInfinity","max","min","integer","IndexedObject","requireObjectCoercible","number","isSymbol","getMethod","ordinaryToPrimitive","wellKnownSymbol","TO_PRIMITIVE","exoticToPrim","toPrimitive","id","postfix","random","NATIVE_SYMBOL","iterator","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$","setArrayLength","doesNotExceedSafeInteger","INCORRECT_TO_LENGTH","properErrorOnNonWritableLength","proto","item","len","argCount","_extends","assign","b","c","d","normalMerge","toArrayMerge","functionalMerge","mergeJsxProps","reduce","e","mergeFn","factory","defaultOptions","javascriptEnabled","depends","compress","lint","paths","color","strictImports","insecure","rootpath","rewriteUrls","math","strictUnits","globalVars","modifyVars","urlArgs","extractId","href","addDataAttr","tag","opt","dataset","JSON","parse","_","browser","createCSS","styles","sheet","title","oldStyleNode","getElementById","keepOldStyleNode","styleNode","setAttribute","media","styleSheet","appendChild","createTextNode","childNodes","firstChild","nodeValue","head","getElementsByTagName","nextEl","nextSibling","parentNode","insertBefore","removeChild","cssText","Error","currentScript","scripts","addDefaultOptions","isFileProtocol","location","protocol","async","fileAsync","poll","env","hostname","port","dumpLineNumbers","hash","useFileCache","onReady","relativeUrls","logger$1","msg","_fireEvent","warn","info","debug","addListener","listener","_listeners","removeListener","splice","logFunction","Environment","externalEnvironment","fileManagers","optionalFunctions","requiredFunctions","functions","propName","environmentFunc","getFileManager","filename","currentDirectory","environment","isSync","pluginManager","getFileManagers","fileManager","addFileManager","clearFileManagers","colors","unitConversions","duration","angle","PI","Node","visibilityBlocks","nodeVisible","rootNode","parsed","fileInfo","getIndex","setParent","nodes","node","forEach","_index","_fileInfo","isRulesetLike","toCSS","strs","genCSS","chunk","isEmpty","output","accept","visitor","visit","eval","_operate","op","fround","precision","numPrecision","Number","toFixed","compare","numericCompare","blocksVisibility","addVisibilityBlock","removeVisibilityBlock","ensureVisibility","ensureInvisibility","isVisible","visibilityInfo","copyVisibilityInfo","Color","rgb","originalForm","map","parseInt","alpha","clamp$1","v","toHex","round","luma","r","pow","doNotCompress","colorFunction","args","toHSL","s","l","toRGB","splitcolor","operate","other","toHSV","toARGB","fromKeyword","keyword","Paren","_noSpaceCombinators","Combinator","emptyOrWhitespace","trim","spaceOrEmpty","Element","combinator","isVariable","currentFileInfo","clone","firstSelector","charAt","Math$1","ALWAYS","PARENS_DIVISION","PARENS","RewriteUrls","OFF","LOCAL","ALL","getType","payload","isPlainObject","getPrototypeOf","__spreadArrays","il","k","j","jl","assignProp","carry","newVal","originalObject","includeNonenumerable","propType","copy","props","symbols","nonenumerable","getLocation","inputStream","line","column","copyArray","arr","cloned","prop","defaults","obj1","obj2","newObj","_defaults","defaults_1","copyOptions","opts","strictMath","merge","flattenArray","length_1","utils","freeze","__proto__","anonymousFunc","LessError","fileContentMap","currentFilename","message","stack","contents","loc","col","callLine","lines","found","lineAdjust","callExtract","extract","create","F","stylize","str","errorTxt","substr","Selector","elements","extendList","condition","evaldCondition","getElements","mixinElements_","visitArray","createDerived","newSelector","mediaEmpty","els","parseNode","err","imports","createEmptySelectors","sels","olen","mixinElements","shift","isJustParentSelector","extend","element","getIsOutput","Value","Keyword","True","False","Anonymous","mapLines","rulesetLike","allowRoot","Boolean","MATH$1","evalName","Declaration","important","inline","variable","asComment","ctx","debugInfo","lineNumber","fileName","asMediaQuery","filenameWithProtocol","lineSeparator","lastRule","prevMath","evaldValue","mathBypass","importantScope","importantResult","pop","makeImportant","Comment","isLineComment","isSilent","isCompressed","contexts","copyFromOriginal","original","destination","propertiesToCopy","parseCopyProperties","Parse","evalCopyProperties","isPathRelative","path","isPathLocalRelative","makeRegistry","base","_data","addMultiple","_this","getLocalFunctions","inherit","Eval","frames","enterCalc","calcStack","inCalc","exitCalc","inParenthesis","parensStack","outOfParenthesis","mathOn","isMathOn","pathRequiresRewrite","isRelative","rewritePath","newPath","normalizePath","segment","segments","reverse","functionRegistry","defaultFunc","value_","error_","reset","Ruleset","selectors","rules","_lookups","_variables","_properties","isRuleset","selCnt","selector","hasVariable","hasOnePassingSelector","toParseSelectors","rule","subRule","ruleset","originalRuleset","root","firstRoot","allowImports","ctxFrames","unshift","ctxSelectors","evalImports","rsRules","evalFirst","mediaBlockCount","mediaBlocks","filter","resetCache","bubbleSelectors","importRules","matchArgs","matchCondition","lastSelector","_rulesets","variables","vars","name_1","properties","name_2","decl","parseValue","property","lastDeclaration","toParse","transformDeclaration","nodes_1","rulesets","filtRules","prependRule","find","foundMixins","debugInfo$1","charsetRuleNodes","ruleNodes","tabLevel","sep","tabRuleStr","tabSetStr","charsetNodeIndex","importNodeIndex","isCharset","pathCnt","pathSubCnt","currentLastRule","joinSelectors","joinSelector","createParenthesis","elementsToPak","originalElement","replacementParen","insideParent","createSelector","containedElement","addReplacementIntoPath","beginningPath","addPath","replacedElement","originalSelector","newSelectorPath","newJoinedSelector","parentEl","restOfPath","addAllReplacementsIntoPath","addPaths","mergeElementsOnToSelectors","sel","replaceParentSelector","inSelector","currentElements","newSelectors","selectorsMultiplied","hadParentSelector","findNestedSelector","maybeSelector","nestedSelector","nestedPaths","replaced","replacedNewSelectors","replacementSelector","deriveSelector","deriveFrom","newPaths","concatenated","AtRule","isRooted","outputRuleset","mediaPathBackup","mediaBlocksBackup","mediaPath","ruleCnt","DetachedRuleset","callEval","Unit","numerator","denominator","backupUnit","sort","returnStr","is","unitString","toUpperCase","isLength","RegExp","isSingular","callback","usedUnits","group","mapUnit","groupName","atomicUnit","cancel","counter","count","Dimension","unit","parseFloat","isNaN","toColor","strValue","convertTo","unify","conversions","targetUnit","applyUnit","derivedConversions","MATH","Operation","operands","isSpaced","__spreadArray","to","from","pack","ar","Expression","noSpacing","returnValue","parens","doubleParen","parensInOp","throwAwayComments","functionCaller","isValid","evalArgs","commentFilter","subNodes","Call","calc","currentMathContext","funcCaller","columnNumber","Variable","evaluating","frame","fun","Property","mergeRules","less","visitors","ToCSSVisitor","_mergeRules","vArr","Attribute","cif","Quoted","content","escaped","quote","variableRegex","propRegex","escapePath","containsVariables","that","variableReplacement","propertyReplacement","iterativeReplace","regexp","replacementFnc","evaluatedValue","URL","isEvald","delimiter","Media","features","evalTop","evalNested","multiMedia","permute","fragment","rest","Import","css","pathValue","getPath","isPlugin","reference","isVariableImport","evalForImport","evalPath","doEval","registry","skip","importedFilename","newImport","JsEvalNode","evaluateJavaScript","expression","evalContext","jsify","toJS","JavaScript","Assignment","Condition","negate","lvalue","rvalue","UnicodeDescriptor","Negative","Extend","option","object_id","next_id","parent_ids","allowBefore","allowAfter","findSelfSelectors","selectorElements","selfElements","selfSelectors","VariableCall","detachedRuleset","NamespaceValue","ruleCall","lookups","substring","Definition","params","variadic","optionalParameters","required","p","evalParams","mixinEnv","evaldArguments","varargs","arg","isNamedFound","argIndex","argsLength","evalCall","_arguments","mixinFrames","allArgsCnt","requiredArgsCnt","MixinCall","mixins","mixin","mixinPath","argValue","m","isRecursive","isOneFound","candidate","defaultResult","noArgumentsFilter","candidates","conditionResult","defFalseEitherCase","defNone","defTrue","defFalse","calcDefGroup","expand","format","newRules","_setVisibilityToReplacement","tree","AbstractFileManager","lastIndexOf","tryAppendExtension","ext","tryAppendLessExtension","supportsSync","alwaysMakePathsAbsolute","isPathAbsolute","basePath","laterPath","pathDiff","url","baseUrl","urlDirectories","baseUrlDirectories","urlParts","extractUrlParts","baseUrlParts","diff","hostPart","directories","urlPartsRegex","returner","rawDirectories","rawPath","fileUrl","AbstractPluginLoader","require","evalPlugin","pluginOptions","loader","pluginObj","localModule","shortname","FileManager","trySetOptions","use","registerPlugin","validatePlugin","minVersion","compareVersion","addPlugin","plugin","setOptions","versionToString","aVersion","bVersion","versionString","printUsage","plugins","_visitArgs","visitDeeper","_hasIndexed","_noop","indexNodeTypes","ticker","child","typeIndex","Visitor","implementation","_implementation","_visitInCache","_visitOutCache","nodeTypeIndex","fnName","impl","funcOut","visitArgs","newNode","isReplacing","cnt","nonReplacing","out","evald","flatten","nestedCnt","nestedItem","ImportSequencer","onSequencerEmpty","variableImports","_onSequencerEmpty","_currentDepth","addImport","importSequencer","importItem","isReady","tryRun","addVariableImport","variableImport","ImportVisitor","importer","finish","_visitor","_importer","_finish","importCount","onceFileDetectionMap","recursionDetector","_sequencer","run","isFinished","visitImport","importNode","inlineCSS","importParent","processImportNode","evaldImportNode","multiple","importMultiple","onImported","sequencedOnImported","importedAtRoot","fullPath","importVisitor","isOptional","optional","duplicateImport","oldContext","visitDeclaration","declNode","visitDeclarationOut","visitAtRule","atRuleNode","visitAtRuleOut","visitMixinDefinition","mixinDefinitionNode","visitMixinDefinitionOut","visitRuleset","rulesetNode","visitRulesetOut","visitMedia","mediaNode","visitMediaOut","SetTreeVisibilityVisitor","visible","ExtendFinderVisitor","allExtendsStack","allExtends","allSelectorsExtendList","extendOnEveryPath","selectorPath","selExtendList","allSelectorsExtend","foundExtends","firstExtendOnThisSelectorPath","ProcessExtendsVisitor","extendFinder","extendIndices","doExtendChaining","newRoot","checkExtendsForNonMatched","indices","hasFoundMatches","extendsList","extendsListTarget","iterationCount","extendIndex","targetExtendIndex","matches","targetExtend","newExtend","extendsToAdd","extendVisitor","findMatch","selfSelector","extendSelector","extendChainCount","selectorOne","selectorTwo","ruleNode","visitSelector","selectorNode","pathIndex","selectorsToAdd","extendedSelectors","haystackSelectorPath","haystackSelectorIndex","hackstackSelector","hackstackElementIndex","haystackElement","targetCombinator","potentialMatch","needleElements","potentialMatches","matched","initialCombinator","isElementValuesEqual","finished","endPathIndex","endPathElementIndex","elementValue1","elementValue2","matchIndex","firstElement","newElements","currentSelectorPathIndex","currentSelectorPathElementIndex","currentValue","derived","newAllExtends","lastIndex","JoinSelectorVisitor","CSSVisitorUtils","_context","containsSilentNonBlockedChild","bodyRules","keepOnlyVisibleChilds","owner","thing","hasVisibleSelector","resolveVisibility","originalRules","compiledRulesBody","isVisibleRuleset","mixinNode","visitExtend","extendNode","visitComment","commentNode","visitAtRuleWithBody","visitAtRuleWithoutBody","visitAnonymous","anonymousNode","hasFakeRuleset","getBodyRules","nodeRules","charset","comment","checkValidNodes","isRoot","_compileRulesetPaths","nodeRuleCnt","_removeDuplicateRules","ruleList","ruleCache","ruleCSS","groups","groupsArr","result_1","space_1","comma_1","MarkVisibleSelectorsVisitor","ExtendVisitor","chunker","fail","lastOpening","lastOpeningParen","lastMultiComment","lastMultiCommentEndBrace","chunkerCurrentIndex","currentChunkStartIndex","cc","cc2","level","parenLevel","chunks","emitFrom","emitChunk","force","charCodeAt","fromCharCode","getParserInput","furthest","furthestPossibleErrorMessage","currentPos","saveStack","parserInput","CHARCODE_SPACE","CHARCODE_TAB","CHARCODE_LF","CHARCODE_CR","CHARCODE_PLUS","CHARCODE_COMMA","CHARCODE_FORWARD_SLASH","CHARCODE_9","skipWhitespace","nextChar","oldi","oldj","curr","endIndex","mem","inp","autoCommentAbsorb","nextNewLine","text","commentStore","nextStarSlash","save","restore","possibleErrorMessage","forget","isWhitespace","offset","pos","code","$re","tok","$char","$str","tokLength","$quoted","startChar","currentPosition","$parseUntil","testChar","returnVal","inComment","blockDepth","blockStack","parseGroups","startPos","lastPos","loop","char","expected","peek","peekChar","currentChar","prevChar","getInput","peekNotNumeric","start","chunkInput","failFunction","end","furthestReachedEnd","furthestChar","Parser","parsers","expect","expectChar","getDebugInfo","parseList","currentIndex","returnNodes","parser","endInfo","additionalData","ignored","preText","disablePluginRule","dir","serializeVars","preProcessors","getPreProcessors","banner","contentsIgnoredChars","primary","processImports","extendRule","definition","declaration","variableCall","entities","atrule","foundSemiColon","mixinLookup","quoted","forceEscaped","isEscaped","customFuncCall","stop","ieAlpha","boolean","prevArgs","isSemiColonSeparated","argsComma","argsSemiColon","assignment","literal","dimension","unicodeDescriptor","entity","ch","variableCurly","curly","propertyCurly","colorKeyword","ud","javascript","js","escape","jsQuote","parsedName","inValue","ruleLookups","isRule","getLookup","hasParens","elem","elemIndex","re","isCall","expressionContainsNamed","nameLoop","expressions","hasSep","cond","argInfo","conditions","block","lookupValue","attribute","slashedCombinator","isLess","when","blockRuleset","hasDR","ruleProperty","permissiveValue","anonymousValue","untilTokens","done","testCurrentChar","importOptions","mediaFeatures","o","optionName","importOption","mediaFeature","pluginArgs","nonVendorSpecificName","hasIdentifier","hasExpression","hasUnknown","hasBlock","sub","addition","multiplication","operation","operand","needsParens","logical","next","or","conditionAnd","insideCondition","negatedCondition","parenthesisCondition","atomicCondition","and","tryConditionFollowedByParenthesis","me","body","delim","simpleProperty","If","trueValue","falseValue","isdefined","colorFunctions","boolean$1","clamp","hsla","origColor","hsl","number$1","scaled","size","rgba","m1_1","m2_1","hue","hsv","hsva","vs","perm","saturation","lightness","hsvhue","hsvsaturation","hsvvalue","red","green","blue","luminance","saturate","amount","desaturate","lighten","darken","fadein","fadeout","fade","spin","mix","color1","color2","weight","w","w1","w2","greyscale","contrast","dark","light","threshold","t","argb","tint","shade","colorBlend","cb","cs","cr","ab","as","colorBlendModeFunctions","multiply","screen","overlay","softlight","sqrt","hardlight","difference","abs","exclusion","average","negation","f$1","dataUri","fallback","functionThis","mimetypeNode","filePathNode","mimetype","filePath","entryPath","fragmentStart","rawBuffer","useBase64","mimeLookup","charsetLookup","fileSync","loadFileSync","buf","encodeBase64","encodeURIComponent","uri","getItemsFromNode","items","list","_SELF","expr","_i","values","range","step","stepValue","each","rs","tryEval","valueName","keyName","indexName","MathHelper","mathFunctions","tan","sin","cos","atan","asin","acos","fraction","num","minMax","isMin","currentUnified","referenceUnified","unitStatic","unitClone","order","convert","pi","mod","y","percentage","evaluated","encodeURI","pattern","flags","_loop_1","token","svg","direction","stops","gradientDirectionSvg","position","positionValue","gradientType","rectangleDimension","renderEnv","directionValue","throwArgumentDescriptor","isa","Type","isunit","types","isruleset","iscolor","isnumber","isstring","iskeyword","isurl","ispixel","ispercentage","isem","transformTree","evaldRoot","evalEnv","visitorIterator","visitors$1","preEvalVisitors","first","isPreEvalVisitor","isPreVisitor","pm","PluginManager","postProcessors","installedPlugins","pluginCache","Loader","PluginLoader","addPlugins","install","addVisitor","addPreProcessor","preProcessor","priority","indexToInsertAt","addPostProcessor","postProcessor","manager","getPostProcessors","getVisitors","PluginManagerFactory","newFactory","SourceMapOutput","_css","_rootNode","_contentsMap","contentsMap","_contentsIgnoredCharsMap","contentsIgnoredCharsMap","sourceMapFilename","_sourceMapFilename","_outputFilename","outputFilename","sourceMapURL","sourceMapBasepath","_sourceMapBasepath","sourceMapRootpath","_sourceMapRootpath","_outputSourceFiles","outputSourceFiles","_sourceMapGeneratorConstructor","getSourceMapGenerator","_lineNumber","_column","removeBasepath","normalizeFilename","sourceLines","columns","sourceColumns","inputSource","_sourceMapGenerator","addMapping","generated","file","sourceRoot","setSourceContent","sourceMapContent","stringify","toJSON","sourceMap","SourceMapBuilder","sourceMapOutput","sourceMapOutputFilename","sourceMapGenerator","sourceMapFileInline","disableSourcemapAnnotation","sourceMapInputFilename","getCSSAppendage","getExternalSourceMap","setExternalSourceMap","isInline","getSourceMapURL","getOutputFilename","getInputFilename","ParseTree","sourceMapBuilder","toCSSOptions","files","rootFilename","ImportManager","rootFileInfo","mime","queue","importManager","pluginLoader","fileParsedFunc","importedEqualsRoot","newFileInfo","loadedFile","promise","loadFileCallback","resolvedFilename","newEnv","syncImport","loadPluginSync","loadPlugin","loadFile","then","self_1","Promise","resolve","reject","context_1","pluginManager_1","reUsePluginManager","imports_1","evalResult","fileContent","Render","parseTree","parseNodeVersion","res","major","minor","patch","pre","build","options$1","logger","parseNodeVersion_1","lessRoot","initial","ctor","api","fileCache","doXHR","errback","xhr","XMLHttpRequest","handleResponse","status","responseText","getResponseHeader","overrideMimeType","open","setRequestHeader","send","onreadystatechange","readyState","supports","clearFileCache","hrefParts","lessText","webInfo","lastModified","Date","FM","log","fulfill","catch","LogListener","logLevel_debug","logLevel_info","logLevel_warn","logLevel_error","logLevel","loggers","console","ErrorReporting","errorHTML","rootHref","timer","template","errors","filenameNoPath","className","errorline","classname","innerHTML","style","setInterval","replaceChild","clearInterval","removeErrorHTML","removeError","errorReporting","errorConsole","remove","Cache","cache","localStorage","setCSS","setItem","getCSS","getItem","timestamp","ImageSize","imageSize","imageFunctions","typePattern","thisArg","curryArgs","loadStyles","instanceOptions","loadStyleSheet","reload","remaining","loadInitialFileCallback","local","loadStyleSheets","sheets","initRunningMode","watchTimer","watchMode","watch","unwatch","registerStylesheetsImmediately","links","rel","registerStylesheets","record","refresh","startTime","endTime","totalMilliseconds","remainingSheets","refreshStyles","LESS_PLUGINS","resolveOrReject","pageLoadFinished","_createNamespace","createNamespace","createComponent","bem","LoadingIcon","Spin","LoadingText","slots","default","_props$textColor","fontSize","addUnit","textSize","textColor","Loading","iconSize","width","height","_mergeJSXProps","vertical","gen","mods","ret","createBEM","camelizeRE","camelize","SlotsMixin","methods","$slots","$scopedSlots","scopedSlot","Vue","component","unifySlots","scopedSlots","transformFunctionComponent","pure","model","sfc","isFunction","assignKey","isDef","deepAssign","tel","confirm","delete","complete","loading","telEmpty","nameEmpty","nameInvalid","confirmDelete","telInvalid","vanCalendar","startEnd","weekdays","monthTitle","year","month","rangePrompt","maxRange","vanCascader","select","vanContactCard","addText","vanContactList","vanPagination","prev","vanPullRefresh","pulling","loosing","vanSubmitBar","label","vanCoupon","unlimited","discount","_discount","_condition","vanCouponCell","tips","_count","vanCouponList","empty","exchange","close","enable","disabled","placeholder","vanAddressEdit","area","postal","areaEmpty","addressEmpty","postalEmpty","defaultAddress","telPlaceholder","namePlaceholder","areaPlaceholder","vanAddressEditDetail","vanAddressList","defineReactive","defaultMessages","messages","$vantMessages","$vantLang","lang","_this$add","createI18N","prefix","locale","_len","_key","isNumeric","inheritKey","mapInheritKey","nativeOn","inheritListeners","on","isServer","$isServer","_result$key"],"sourceRoot":""}